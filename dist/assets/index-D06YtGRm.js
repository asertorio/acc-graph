(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function a(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(l){if(l.ep)return;l.ep=!0;const s=a(l);fetch(l.href,s)}})();function _f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sv={exports:{}},Is={};var C0;function _S(){if(C0)return Is;C0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(n,l,s){var u=null;if(s!==void 0&&(u=""+s),l.key!==void 0&&(u=""+l.key),"key"in l){s={};for(var f in l)f!=="key"&&(s[f]=l[f])}else s=l;return l=s.ref,{$$typeof:t,type:n,key:u,ref:l!==void 0?l:null,props:s}}return Is.Fragment=e,Is.jsx=a,Is.jsxs=a,Is}var A0;function zS(){return A0||(A0=1,sv.exports=_S()),sv.exports}var ge=zS(),uv={exports:{}},et={};var D0;function kS(){if(D0)return et;D0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function p(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function T(k,q,j){this.props=k,this.context=q,this.refs=x,this.updater=j||m}T.prototype.isReactComponent={},T.prototype.setState=function(k,q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,q,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=T.prototype;function S(k,q,j){this.props=k,this.context=q,this.refs=x,this.updater=j||m}var O=S.prototype=new C;O.constructor=S,E(O,T.prototype),O.isPureReactComponent=!0;var L=Array.isArray;function _(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(k,q,j){var Q=j.ref;return{$$typeof:t,type:k,key:q,ref:Q!==void 0?Q:null,props:j}}function M(k,q){return R(k.type,q,k.props)}function B(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function z(k){var q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(j){return q[j]})}var I=/\/+/g;function P(k,q){return typeof k=="object"&&k!==null&&k.key!=null?z(""+k.key):q.toString(36)}function Y(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(_,_):(k.status="pending",k.then(function(q){k.status==="pending"&&(k.status="fulfilled",k.value=q)},function(q){k.status==="pending"&&(k.status="rejected",k.reason=q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function U(k,q,j,Q,J){var ne=typeof k;(ne==="undefined"||ne==="boolean")&&(k=null);var ue=!1;if(k===null)ue=!0;else switch(ne){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(k.$$typeof){case t:case e:ue=!0;break;case v:return ue=k._init,U(ue(k._payload),q,j,Q,J)}}if(ue)return J=J(k),ue=Q===""?"."+P(k,0):Q,L(J)?(j="",ue!=null&&(j=ue.replace(I,"$&/")+"/"),U(J,q,j,"",function(ee){return ee})):J!=null&&(B(J)&&(J=M(J,j+(J.key==null||k&&k.key===J.key?"":(""+J.key).replace(I,"$&/")+"/")+ue)),q.push(J)),1;ue=0;var pe=Q===""?".":Q+":";if(L(k))for(var ie=0;ie<k.length;ie++)Q=k[ie],ne=pe+P(Q,ie),ue+=U(Q,q,j,ne,J);else if(ie=p(k),typeof ie=="function")for(k=ie.call(k),ie=0;!(Q=k.next()).done;)Q=Q.value,ne=pe+P(Q,ie++),ue+=U(Q,q,j,ne,J);else if(ne==="object"){if(typeof k.then=="function")return U(Y(k),q,j,Q,J);throw q=String(k),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ue}function G(k,q,j){if(k==null)return k;var Q=[],J=0;return U(k,Q,"","",function(ne){return q.call(j,ne,J++)}),Q}function V(k){if(k._status===-1){var q=k._result;q=q(),q.then(function(j){(k._status===0||k._status===-1)&&(k._status=1,k._result=j)},function(j){(k._status===0||k._status===-1)&&(k._status=2,k._result=j)}),k._status===-1&&(k._status=0,k._result=q)}if(k._status===1)return k._result.default;throw k._result}var X=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},K={map:G,forEach:function(k,q,j){G(k,function(){q.apply(this,arguments)},j)},count:function(k){var q=0;return G(k,function(){q++}),q},toArray:function(k){return G(k,function(q){return q})||[]},only:function(k){if(!B(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return et.Activity=g,et.Children=K,et.Component=T,et.Fragment=a,et.Profiler=l,et.PureComponent=S,et.StrictMode=n,et.Suspense=h,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,et.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},et.cache=function(k){return function(){return k.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(k,q,j){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Q=E({},k.props),J=k.key;if(q!=null)for(ne in q.key!==void 0&&(J=""+q.key),q)!A.call(q,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&q.ref===void 0||(Q[ne]=q[ne]);var ne=arguments.length-2;if(ne===1)Q.children=j;else if(1<ne){for(var ue=Array(ne),pe=0;pe<ne;pe++)ue[pe]=arguments[pe+2];Q.children=ue}return R(k.type,J,Q)},et.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:s,_context:k},k},et.createElement=function(k,q,j){var Q,J={},ne=null;if(q!=null)for(Q in q.key!==void 0&&(ne=""+q.key),q)A.call(q,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(J[Q]=q[Q]);var ue=arguments.length-2;if(ue===1)J.children=j;else if(1<ue){for(var pe=Array(ue),ie=0;ie<ue;ie++)pe[ie]=arguments[ie+2];J.children=pe}if(k&&k.defaultProps)for(Q in ue=k.defaultProps,ue)J[Q]===void 0&&(J[Q]=ue[Q]);return R(k,ne,J)},et.createRef=function(){return{current:null}},et.forwardRef=function(k){return{$$typeof:f,render:k}},et.isValidElement=B,et.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:V}},et.memo=function(k,q){return{$$typeof:c,type:k,compare:q===void 0?null:q}},et.startTransition=function(k){var q=D.T,j={};D.T=j;try{var Q=k(),J=D.S;J!==null&&J(j,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(_,X)}catch(ne){X(ne)}finally{q!==null&&j.types!==null&&(q.types=j.types),D.T=q}},et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},et.use=function(k){return D.H.use(k)},et.useActionState=function(k,q,j){return D.H.useActionState(k,q,j)},et.useCallback=function(k,q){return D.H.useCallback(k,q)},et.useContext=function(k){return D.H.useContext(k)},et.useDebugValue=function(){},et.useDeferredValue=function(k,q){return D.H.useDeferredValue(k,q)},et.useEffect=function(k,q){return D.H.useEffect(k,q)},et.useEffectEvent=function(k){return D.H.useEffectEvent(k)},et.useId=function(){return D.H.useId()},et.useImperativeHandle=function(k,q,j){return D.H.useImperativeHandle(k,q,j)},et.useInsertionEffect=function(k,q){return D.H.useInsertionEffect(k,q)},et.useLayoutEffect=function(k,q){return D.H.useLayoutEffect(k,q)},et.useMemo=function(k,q){return D.H.useMemo(k,q)},et.useOptimistic=function(k,q){return D.H.useOptimistic(k,q)},et.useReducer=function(k,q,j){return D.H.useReducer(k,q,j)},et.useRef=function(k){return D.H.useRef(k)},et.useState=function(k){return D.H.useState(k)},et.useSyncExternalStore=function(k,q,j){return D.H.useSyncExternalStore(k,q,j)},et.useTransition=function(){return D.H.useTransition()},et.version="19.2.4",et}var R0;function dg(){return R0||(R0=1,uv.exports=kS()),uv.exports}var vt=dg();const Mi=_f(vt);var ov={exports:{}},Us={},fv={exports:{}},cv={};var O0;function IS(){return O0||(O0=1,(function(t){function e(U,G){var V=U.length;U.push(G);e:for(;0<V;){var X=V-1>>>1,K=U[X];if(0<l(K,G))U[X]=G,U[V]=K,V=X;else break e}}function a(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var G=U[0],V=U.pop();if(V!==G){U[0]=V;e:for(var X=0,K=U.length,k=K>>>1;X<k;){var q=2*(X+1)-1,j=U[q],Q=q+1,J=U[Q];if(0>l(j,V))Q<K&&0>l(J,j)?(U[X]=J,U[Q]=V,X=Q):(U[X]=j,U[q]=V,X=q);else if(Q<K&&0>l(J,V))U[X]=J,U[Q]=V,X=Q;else break e}}return G}function l(U,G){var V=U.sortIndex-G.sortIndex;return V!==0?V:U.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],c=[],v=1,g=null,y=3,p=!1,m=!1,E=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function O(U){for(var G=a(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=U)n(c),G.sortIndex=G.expirationTime,e(h,G);else break;G=a(c)}}function L(U){if(E=!1,O(U),!m)if(a(h)!==null)m=!0,_||(_=!0,z());else{var G=a(c);G!==null&&Y(L,G.startTime-U)}}var _=!1,D=-1,A=5,R=-1;function M(){return x?!0:!(t.unstable_now()-R<A)}function B(){if(x=!1,_){var U=t.unstable_now();R=U;var G=!0;try{e:{m=!1,E&&(E=!1,C(D),D=-1),p=!0;var V=y;try{t:{for(O(U),g=a(h);g!==null&&!(g.expirationTime>U&&M());){var X=g.callback;if(typeof X=="function"){g.callback=null,y=g.priorityLevel;var K=X(g.expirationTime<=U);if(U=t.unstable_now(),typeof K=="function"){g.callback=K,O(U),G=!0;break t}g===a(h)&&n(h),O(U)}else n(h);g=a(h)}if(g!==null)G=!0;else{var k=a(c);k!==null&&Y(L,k.startTime-U),G=!1}}break e}finally{g=null,y=V,p=!1}G=void 0}}finally{G?z():_=!1}}}var z;if(typeof S=="function")z=function(){S(B)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,P=I.port2;I.port1.onmessage=B,z=function(){P.postMessage(null)}}else z=function(){T(B,0)};function Y(U,G){D=T(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var V=y;y=G;try{return U()}finally{y=V}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=y;y=U;try{return G()}finally{y=V}},t.unstable_scheduleCallback=function(U,G,V){var X=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,U){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,U={id:v++,callback:G,priorityLevel:U,startTime:V,expirationTime:K,sortIndex:-1},V>X?(U.sortIndex=V,e(c,U),a(h)===null&&U===a(c)&&(E?(C(D),D=-1):E=!0,Y(L,V-X))):(U.sortIndex=K,e(h,U),m||p||(m=!0,_||(_=!0,z()))),U},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(U){var G=y;return function(){var V=y;y=G;try{return U.apply(this,arguments)}finally{y=V}}}})(cv)),cv}var M0;function US(){return M0||(M0=1,fv.exports=IS()),fv.exports}var hv={exports:{}},Oa={};var L0;function GS(){if(L0)return Oa;L0=1;var t=dg();function e(h){var c="https://react.dev/errors/"+h;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)c+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var n={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function s(h,c,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:h,containerInfo:c,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,c){if(h==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Oa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Oa.createPortal=function(h,c){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(h,c,null,v)},Oa.flushSync=function(h){var c=u.T,v=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=c,n.p=v,n.d.f()}},Oa.preconnect=function(h,c){typeof h=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(h,c))},Oa.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Oa.preinit=function(h,c){if(typeof h=="string"&&c&&typeof c.as=="string"){var v=c.as,g=f(v,c.crossOrigin),y=typeof c.integrity=="string"?c.integrity:void 0,p=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;v==="style"?n.d.S(h,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:p}):v==="script"&&n.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:p,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Oa.preinitModule=function(h,c){if(typeof h=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var v=f(c.as,c.crossOrigin);n.d.M(h,{crossOrigin:v,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(h)},Oa.preload=function(h,c){if(typeof h=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var v=c.as,g=f(v,c.crossOrigin);n.d.L(h,v,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Oa.preloadModule=function(h,c){if(typeof h=="string")if(c){var v=f(c.as,c.crossOrigin);n.d.m(h,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:v,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(h)},Oa.requestFormReset=function(h){n.d.r(h)},Oa.unstable_batchedUpdates=function(h,c){return h(c)},Oa.useFormState=function(h,c,v){return u.H.useFormState(h,c,v)},Oa.useFormStatus=function(){return u.H.useHostTransitionStatus()},Oa.version="19.2.4",Oa}var N0;function PS(){if(N0)return hv.exports;N0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hv.exports=GS(),hv.exports}var B0;function FS(){if(B0)return Us;B0=1;var t=US(),e=dg(),a=PS();function n(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function h(r){if(s(r)!==r)throw Error(n(188))}function c(r){var i=r.alternate;if(!i){if(i=s(r),i===null)throw Error(n(188));return i!==r?null:r}for(var o=r,d=i;;){var b=o.return;if(b===null)break;var w=b.alternate;if(w===null){if(d=b.return,d!==null){o=d;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===o)return h(b),r;if(w===d)return h(b),i;w=w.sibling}throw Error(n(188))}if(o.return!==d.return)o=b,d=w;else{for(var N=!1,F=b.child;F;){if(F===o){N=!0,o=b,d=w;break}if(F===d){N=!0,d=b,o=w;break}F=F.sibling}if(!N){for(F=w.child;F;){if(F===o){N=!0,o=w,d=b;break}if(F===d){N=!0,d=w,o=b;break}F=F.sibling}if(!N)throw Error(n(189))}}if(o.alternate!==d)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?r:i}function v(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=v(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function P(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case T:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case _:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case m:return"Portal";case S:return r.displayName||"Context";case C:return(r._context.displayName||"Context")+".Consumer";case O:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return i=r.displayName||null,i!==null?i:P(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return P(r(i))}catch{}}return null}var Y=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},X=[],K=-1;function k(r){return{current:r}}function q(r){0>K||(r.current=X[K],X[K]=null,K--)}function j(r,i){K++,X[K]=r.current,r.current=i}var Q=k(null),J=k(null),ne=k(null),ue=k(null);function pe(r,i){switch(j(ne,i),j(J,r),j(Q,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?Km(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=Km(i),r=Zm(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}q(Q),j(Q,r)}function ie(){q(Q),q(J),q(ne)}function ee(r){r.memoizedState!==null&&j(ue,r);var i=Q.current,o=Zm(i,r.type);i!==o&&(j(J,r),j(Q,o))}function W(r){J.current===r&&(q(Q),q(J)),ue.current===r&&(q(ue),Bs._currentValue=V)}var ae,ce;function xe(r){if(ae===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ae=i&&i[1]||"",ce=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+r+ce}var Se=!1;function Oe(r,i){if(!r||Se)return"";Se=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ve){var oe=ve}Reflect.construct(r,[],Ee)}else{try{Ee.call()}catch(ve){oe=ve}r.call(Ee.prototype)}}else{try{throw Error()}catch(ve){oe=ve}(Ee=r())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ve){if(ve&&oe&&typeof ve.stack=="string")return[ve.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),N=w[0],F=w[1];if(N&&F){var Z=N.split(`
`),se=F.split(`
`);for(b=d=0;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;for(;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;if(d===Z.length||b===se.length)for(d=Z.length-1,b=se.length-1;1<=d&&0<=b&&Z[d]!==se[b];)b--;for(;1<=d&&0<=b;d--,b--)if(Z[d]!==se[b]){if(d!==1||b!==1)do if(d--,b--,0>b||Z[d]!==se[b]){var ye=`
`+Z[d].replace(" at new "," at ");return r.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",r.displayName)),ye}while(1<=d&&0<=b);break}}}finally{Se=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?xe(o):""}function Ue(r,i){switch(r.tag){case 26:case 27:case 5:return xe(r.type);case 16:return xe("Lazy");case 13:return r.child!==i&&i!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Oe(r.type,!1);case 11:return Oe(r.type.render,!1);case 1:return Oe(r.type,!0);case 31:return xe("Activity");default:return""}}function Ae(r){try{var i="",o=null;do i+=Ue(r,o),o=r,r=r.return;while(r);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var De=Object.prototype.hasOwnProperty,we=t.unstable_scheduleCallback,Ne=t.unstable_cancelCallback,Le=t.unstable_shouldYield,Ye=t.unstable_requestPaint,Ce=t.unstable_now,je=t.unstable_getCurrentPriorityLevel,qe=t.unstable_ImmediatePriority,Qe=t.unstable_UserBlockingPriority,$e=t.unstable_NormalPriority,ut=t.unstable_LowPriority,Xe=t.unstable_IdlePriority,Me=t.log,de=t.unstable_setDisableYieldValue,H=null,re=null;function he(r){if(typeof Me=="function"&&de(r),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(H,r)}catch{}}var fe=Math.clz32?Math.clz32:Te,me=Math.log,_e=Math.LN2;function Te(r){return r>>>=0,r===0?32:31-(me(r)/_e|0)|0}var Ge=256,Be=262144,Fe=4194304;function We(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Je(r,i,o){var d=r.pendingLanes;if(d===0)return 0;var b=0,w=r.suspendedLanes,N=r.pingedLanes;r=r.warmLanes;var F=d&134217727;return F!==0?(d=F&~w,d!==0?b=We(d):(N&=F,N!==0?b=We(N):o||(o=F&~r,o!==0&&(b=We(o))))):(F=d&~w,F!==0?b=We(F):N!==0?b=We(N):o||(o=d&~r,o!==0&&(b=We(o)))),b===0?0:i!==0&&i!==b&&(i&w)===0&&(w=b&-b,o=i&-i,w>=o||w===32&&(o&4194048)!==0)?i:b}function ke(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function nt(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(){var r=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),r}function Ut(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function wt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ma(r,i,o,d,b,w){var N=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var F=r.entanglements,Z=r.expirationTimes,se=r.hiddenUpdates;for(o=N&~o;0<o;){var ye=31-fe(o),Ee=1<<ye;F[ye]=0,Z[ye]=-1;var oe=se[ye];if(oe!==null)for(se[ye]=null,ye=0;ye<oe.length;ye++){var ve=oe[ye];ve!==null&&(ve.lane&=-536870913)}o&=~Ee}d!==0&&Gt(r,d,0),w!==0&&b===0&&r.tag!==0&&(r.suspendedLanes|=w&~(N&~i))}function Gt(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var d=31-fe(i);r.entangledLanes|=i,r.entanglements[d]=r.entanglements[d]|1073741824|o&261930}function Xt(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var d=31-fe(o),b=1<<d;b&i|r[d]&i&&(r[d]|=i),o&=~b}}function qt(r,i){var o=i&-i;return o=(o&42)!==0?1:jt(o),(o&(r.suspendedLanes|i))!==0?0:o}function jt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function lr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pt(){var r=G.p;return r!==0?r:(r=window.event,r===void 0?32:m0(r.type))}function sr(r,i){var o=G.p;try{return G.p=r,i()}finally{G.p=o}}var oa=Math.random().toString(36).slice(2),zt="__reactFiber$"+oa,ra="__reactProps$"+oa,Ga="__reactContainer$"+oa,fa="__reactEvents$"+oa,ca="__reactListeners$"+oa,Da="__reactHandles$"+oa,vn="__reactResources$"+oa,ha="__reactMarker$"+oa;function Fi(r){delete r[zt],delete r[ra],delete r[fa],delete r[ca],delete r[Da]}function dn(r){var i=r[zt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Ga]||o[zt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=a0(r);r!==null;){if(o=r[zt])return o;r=a0(r)}return i}r=o,o=r.parentNode}return null}function gn(r){if(r=r[zt]||r[Ga]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function si(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(n(33))}function pn(r){var i=r[vn];return i||(i=r[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qt(r){r[ha]=!0}var wu=new Set,Su={};function Qa(r,i){Rr(r,i),Rr(r+"Capture",i)}function Rr(r,i){for(Su[r]=i,r=0;r<i.length;r++)wu.add(i[r])}var qi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},Zl={};function Jf(r){return De.call(Zl,r)?!0:De.call(Kl,r)?!1:qi.test(r)?Zl[r]=!0:(Kl[r]=!0,!1)}function Ra(r,i,o){if(Jf(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function yn(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function ur(r,i,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+d)}}function va(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pa(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ec(r,i,o){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,w=d.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return b.call(this)},set:function(N){o=""+N,w.call(this,N)}}),Object.defineProperty(r,i,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(N){o=""+N},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Cu(r){if(!r._valueTracker){var i=Pa(r)?"checked":"value";r._valueTracker=ec(r,i,""+r[i])}}function Au(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return r&&(d=Pa(r)?r.checked?"true":"false":r.value),r=d,r!==o?(i.setValue(r),!0):!1}function Du(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var RT=/[\n"\\]/g;function or(r){return r.replace(RT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function tc(r,i,o,d,b,w,N,F){r.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.type=N:r.removeAttribute("type"),i!=null?N==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+va(i)):r.value!==""+va(i)&&(r.value=""+va(i)):N!=="submit"&&N!=="reset"||r.removeAttribute("value"),i!=null?ac(r,N,va(i)):o!=null?ac(r,N,va(o)):d!=null&&r.removeAttribute("value"),b==null&&w!=null&&(r.defaultChecked=!!w),b!=null&&(r.checked=b&&typeof b!="function"&&typeof b!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+va(F):r.removeAttribute("name")}function qg(r,i,o,d,b,w,N,F){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),i!=null||o!=null){if(!(w!=="submit"&&w!=="reset"||i!=null)){Cu(r);return}o=o!=null?""+va(o):"",i=i!=null?""+va(i):o,F||i===r.value||(r.value=i),r.defaultValue=i}d=d??b,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=F?r.checked:!!d,r.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.name=N),Cu(r)}function ac(r,i,o){i==="number"&&Du(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Hi(r,i,o,d){if(r=r.options,i){i={};for(var b=0;b<o.length;b++)i["$"+o[b]]=!0;for(o=0;o<r.length;o++)b=i.hasOwnProperty("$"+r[o].value),r[o].selected!==b&&(r[o].selected=b),b&&d&&(r[o].defaultSelected=!0)}else{for(o=""+va(o),i=null,b=0;b<r.length;b++){if(r[b].value===o){r[b].selected=!0,d&&(r[b].defaultSelected=!0);return}i!==null||r[b].disabled||(i=r[b])}i!==null&&(i.selected=!0)}}function Hg(r,i,o){if(i!=null&&(i=""+va(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+va(o):""}function Vg(r,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(n(92));if(Y(d)){if(1<d.length)throw Error(n(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=va(i),r.defaultValue=o,d=r.textContent,d===o&&d!==""&&d!==null&&(r.value=d),Cu(r)}function Vi(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var OT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yg(r,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":d?r.setProperty(i,o):typeof o!="number"||o===0||OT.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function Xg(r,i,o){if(i!=null&&typeof i!="object")throw Error(n(62));if(r=r.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var b in i)d=i[b],i.hasOwnProperty(b)&&o[b]!==d&&Yg(r,b,d)}else for(var w in i)i.hasOwnProperty(w)&&Yg(r,w,i[w])}function rc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ru(r){return LT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Fr(){}var nc=null;function ic(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Yi=null,Xi=null;function jg(r){var i=gn(r);if(i&&(r=i.stateNode)){var o=r[ra]||null;e:switch(r=i.stateNode,i.type){case"input":if(tc(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+or(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==r&&d.form===r.form){var b=d[ra]||null;if(!b)throw Error(n(90));tc(d,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===r.form&&Au(d)}break e;case"textarea":Hg(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Hi(r,!!o.multiple,i,!1)}}}var lc=!1;function Kg(r,i,o){if(lc)return r(i,o);lc=!0;try{var d=r(i);return d}finally{if(lc=!1,(Yi!==null||Xi!==null)&&(po(),Yi&&(i=Yi,r=Xi,Xi=Yi=null,jg(i),r)))for(i=0;i<r.length;i++)jg(r[i])}}function Ql(r,i){var o=r.stateNode;if(o===null)return null;var d=o[ra]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=!1;if(qr)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){sc=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{sc=!1}var mn=null,uc=null,Ou=null;function Zg(){if(Ou)return Ou;var r,i=uc,o=i.length,d,b="value"in mn?mn.value:mn.textContent,w=b.length;for(r=0;r<o&&i[r]===b[r];r++);var N=o-r;for(d=1;d<=N&&i[o-d]===b[w-d];d++);return Ou=b.slice(r,1<d?1-d:void 0)}function Mu(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Lu(){return!0}function Qg(){return!1}function Fa(r){function i(o,d,b,w,N){this._reactName=o,this._targetInst=b,this.type=d,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(o=r[F],this[F]=o?o(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Lu:Qg,this.isPropagationStopped=Qg,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),i}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Fa(ui),$l=g({},ui,{view:0,detail:0}),NT=Fa($l),oc,fc,Jl,Bu=g({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jl&&(Jl&&r.type==="mousemove"?(oc=r.screenX-Jl.screenX,fc=r.screenY-Jl.screenY):fc=oc=0,Jl=r),oc)},movementY:function(r){return"movementY"in r?r.movementY:fc}}),Wg=Fa(Bu),BT=g({},Bu,{dataTransfer:0}),_T=Fa(BT),zT=g({},$l,{relatedTarget:0}),cc=Fa(zT),kT=g({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),IT=Fa(kT),UT=g({},ui,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),GT=Fa(UT),PT=g({},ui,{data:0}),$g=Fa(PT),FT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VT(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=HT[r])?!!i[r]:!1}function hc(){return VT}var YT=g({},$l,{key:function(r){if(r.key){var i=FT[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Mu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(r){return r.type==="keypress"?Mu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Mu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),XT=Fa(YT),jT=g({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=Fa(jT),KT=g({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),ZT=Fa(KT),QT=g({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),WT=Fa(QT),$T=g({},Bu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),JT=Fa($T),ew=g({},ui,{newState:0,oldState:0}),tw=Fa(ew),aw=[9,13,27,32],vc=qr&&"CompositionEvent"in window,es=null;qr&&"documentMode"in document&&(es=document.documentMode);var rw=qr&&"TextEvent"in window&&!es,ep=qr&&(!vc||es&&8<es&&11>=es),tp=" ",ap=!1;function rp(r,i){switch(r){case"keyup":return aw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function np(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ji=!1;function nw(r,i){switch(r){case"compositionend":return np(i);case"keypress":return i.which!==32?null:(ap=!0,tp);case"textInput":return r=i.data,r===tp&&ap?null:r;default:return null}}function iw(r,i){if(ji)return r==="compositionend"||!vc&&rp(r,i)?(r=Zg(),Ou=uc=mn=null,ji=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ep&&i.locale!=="ko"?null:i.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!lw[r.type]:i==="textarea"}function lp(r,i,o,d){Yi?Xi?Xi.push(d):Xi=[d]:Yi=d,i=wo(i,"onChange"),0<i.length&&(o=new Nu("onChange","change",null,o,d),r.push({event:o,listeners:i}))}var ts=null,as=null;function sw(r){qm(r,0)}function _u(r){var i=si(r);if(Au(i))return r}function sp(r,i){if(r==="change")return i}var up=!1;if(qr){var dc;if(qr){var gc="oninput"in document;if(!gc){var op=document.createElement("div");op.setAttribute("oninput","return;"),gc=typeof op.oninput=="function"}dc=gc}else dc=!1;up=dc&&(!document.documentMode||9<document.documentMode)}function fp(){ts&&(ts.detachEvent("onpropertychange",cp),as=ts=null)}function cp(r){if(r.propertyName==="value"&&_u(as)){var i=[];lp(i,as,r,ic(r)),Kg(sw,i)}}function uw(r,i,o){r==="focusin"?(fp(),ts=i,as=o,ts.attachEvent("onpropertychange",cp)):r==="focusout"&&fp()}function ow(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _u(as)}function fw(r,i){if(r==="click")return _u(i)}function cw(r,i){if(r==="input"||r==="change")return _u(i)}function hw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Wa=typeof Object.is=="function"?Object.is:hw;function rs(r,i){if(Wa(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var b=o[d];if(!De.call(i,b)||!Wa(r[b],i[b]))return!1}return!0}function hp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function vp(r,i){var o=hp(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=i&&d>=i)return{node:o,offset:i-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hp(o)}}function dp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?dp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function gp(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Du(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Du(r.document)}return i}function pc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var vw=qr&&"documentMode"in document&&11>=document.documentMode,Ki=null,yc=null,ns=null,mc=!1;function pp(r,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;mc||Ki==null||Ki!==Du(d)||(d=Ki,"selectionStart"in d&&pc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ns&&rs(ns,d)||(ns=d,d=wo(yc,"onSelect"),0<d.length&&(i=new Nu("onSelect","select",null,i,o),r.push({event:i,listeners:d}),i.target=Ki)))}function oi(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Zi={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},bc={},yp={};qr&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function fi(r){if(bc[r])return bc[r];if(!Zi[r])return r;var i=Zi[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in yp)return bc[r]=i[o];return r}var mp=fi("animationend"),bp=fi("animationiteration"),Ep=fi("animationstart"),dw=fi("transitionrun"),gw=fi("transitionstart"),pw=fi("transitioncancel"),xp=fi("transitionend"),Tp=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function xr(r,i){Tp.set(r,i),Qa(i,[r])}var zu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},fr=[],Qi=0,xc=0;function ku(){for(var r=Qi,i=xc=Qi=0;i<r;){var o=fr[i];fr[i++]=null;var d=fr[i];fr[i++]=null;var b=fr[i];fr[i++]=null;var w=fr[i];if(fr[i++]=null,d!==null&&b!==null){var N=d.pending;N===null?b.next=b:(b.next=N.next,N.next=b),d.pending=b}w!==0&&wp(o,b,w)}}function Iu(r,i,o,d){fr[Qi++]=r,fr[Qi++]=i,fr[Qi++]=o,fr[Qi++]=d,xc|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Tc(r,i,o,d){return Iu(r,i,o,d),Uu(r)}function ci(r,i){return Iu(r,null,null,i),Uu(r)}function wp(r,i,o){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o);for(var b=!1,w=r.return;w!==null;)w.childLanes|=o,d=w.alternate,d!==null&&(d.childLanes|=o),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(b=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,b&&i!==null&&(b=31-fe(o),r=w.hiddenUpdates,d=r[b],d===null?r[b]=[i]:d.push(i),i.lane=o|536870912),w):null}function Uu(r){if(50<As)throw As=0,Lh=null,Error(n(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Wi={};function yw(r,i,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(r,i,o,d){return new yw(r,i,o,d)}function wc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hr(r,i){var o=r.alternate;return o===null?(o=$a(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Sp(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Gu(r,i,o,d,b,w){var N=0;if(d=r,typeof r=="function")wc(r)&&(N=1);else if(typeof r=="string")N=TS(r,o,Q.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=$a(31,o,i,b),r.elementType=R,r.lanes=w,r;case E:return hi(o.children,b,w,i);case x:N=8,b|=24;break;case T:return r=$a(12,o,i,b|2),r.elementType=T,r.lanes=w,r;case L:return r=$a(13,o,i,b),r.elementType=L,r.lanes=w,r;case _:return r=$a(19,o,i,b),r.elementType=_,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:N=10;break e;case C:N=9;break e;case O:N=11;break e;case D:N=14;break e;case A:N=16,d=null;break e}N=29,o=Error(n(130,r===null?"null":typeof r,"")),d=null}return i=$a(N,o,i,b),i.elementType=r,i.type=d,i.lanes=w,i}function hi(r,i,o,d){return r=$a(7,r,d,i),r.lanes=o,r}function Sc(r,i,o){return r=$a(6,r,null,i),r.lanes=o,r}function Cp(r){var i=$a(18,null,null,0);return i.stateNode=r,i}function Cc(r,i,o){return i=$a(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Ap=new WeakMap;function cr(r,i){if(typeof r=="object"&&r!==null){var o=Ap.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Ae(i)},Ap.set(r,i),i)}return{value:r,source:i,stack:Ae(i)}}var $i=[],Ji=0,Pu=null,is=0,hr=[],vr=0,bn=null,Or=1,Mr="";function Vr(r,i){$i[Ji++]=is,$i[Ji++]=Pu,Pu=r,is=i}function Dp(r,i,o){hr[vr++]=Or,hr[vr++]=Mr,hr[vr++]=bn,bn=r;var d=Or;r=Mr;var b=32-fe(d)-1;d&=~(1<<b),o+=1;var w=32-fe(i)+b;if(30<w){var N=b-b%5;w=(d&(1<<N)-1).toString(32),d>>=N,b-=N,Or=1<<32-fe(i)+b|o<<b|d,Mr=w+r}else Or=1<<w|o<<b|d,Mr=r}function Ac(r){r.return!==null&&(Vr(r,1),Dp(r,1,0))}function Dc(r){for(;r===Pu;)Pu=$i[--Ji],$i[Ji]=null,is=$i[--Ji],$i[Ji]=null;for(;r===bn;)bn=hr[--vr],hr[vr]=null,Mr=hr[--vr],hr[vr]=null,Or=hr[--vr],hr[vr]=null}function Rp(r,i){hr[vr++]=Or,hr[vr++]=Mr,hr[vr++]=bn,Or=i.id,Mr=i.overflow,bn=r}var ba=null,Nt=null,ct=!1,En=null,dr=!1,Rc=Error(n(519));function xn(r){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ls(cr(i,r)),Rc}function Op(r){var i=r.stateNode,o=r.type,d=r.memoizedProps;switch(i[zt]=r,i[ra]=d,o){case"dialog":st("cancel",i),st("close",i);break;case"iframe":case"object":case"embed":st("load",i);break;case"video":case"audio":for(o=0;o<Rs.length;o++)st(Rs[o],i);break;case"source":st("error",i);break;case"img":case"image":case"link":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"input":st("invalid",i),qg(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":st("invalid",i);break;case"textarea":st("invalid",i),Vg(i,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||Xm(i.textContent,o)?(d.popover!=null&&(st("beforetoggle",i),st("toggle",i)),d.onScroll!=null&&st("scroll",i),d.onScrollEnd!=null&&st("scrollend",i),d.onClick!=null&&(i.onclick=Fr),i=!0):i=!1,i||xn(r,!0)}function Mp(r){for(ba=r.return;ba;)switch(ba.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:ba=ba.return}}function el(r){if(r!==ba)return!1;if(!ct)return Mp(r),ct=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Xh(r.type,r.memoizedProps)),o=!o),o&&Nt&&xn(r),Mp(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));Nt=t0(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));Nt=t0(r)}else i===27?(i=Nt,zn(r.type)?(r=Wh,Wh=null,Nt=r):Nt=i):Nt=ba?pr(r.stateNode.nextSibling):null;return!0}function vi(){Nt=ba=null,ct=!1}function Oc(){var r=En;return r!==null&&(Ya===null?Ya=r:Ya.push.apply(Ya,r),En=null),r}function ls(r){En===null?En=[r]:En.push(r)}var Mc=k(null),di=null,Yr=null;function Tn(r,i,o){j(Mc,i._currentValue),i._currentValue=o}function Xr(r){r._currentValue=Mc.current,q(Mc)}function Lc(r,i,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===o)break;r=r.return}}function Nc(r,i,o,d){var b=r.child;for(b!==null&&(b.return=r);b!==null;){var w=b.dependencies;if(w!==null){var N=b.child;w=w.firstContext;e:for(;w!==null;){var F=w;w=b;for(var Z=0;Z<i.length;Z++)if(F.context===i[Z]){w.lanes|=o,F=w.alternate,F!==null&&(F.lanes|=o),Lc(w.return,o,r),d||(N=null);break e}w=F.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(n(341));N.lanes|=o,w=N.alternate,w!==null&&(w.lanes|=o),Lc(N,o,r),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===r){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function tl(r,i,o,d){r=null;for(var b=i,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(n(387));if(N=N.memoizedProps,N!==null){var F=b.type;Wa(b.pendingProps.value,N.value)||(r!==null?r.push(F):r=[F])}}else if(b===ue.current){if(N=b.alternate,N===null)throw Error(n(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(r!==null?r.push(Bs):r=[Bs])}b=b.return}r!==null&&Nc(i,r,o,d),i.flags|=262144}function Fu(r){for(r=r.firstContext;r!==null;){if(!Wa(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function gi(r){di=r,Yr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ea(r){return Lp(di,r)}function qu(r,i){return di===null&&gi(r),Lp(r,i)}function Lp(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Yr===null){if(r===null)throw Error(n(308));Yr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Yr=Yr.next=i;return o}var mw=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,d){r.push(d)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},bw=t.unstable_scheduleCallback,Ew=t.unstable_NormalPriority,Wt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new mw,data:new Map,refCount:0}}function ss(r){r.refCount--,r.refCount===0&&bw(Ew,function(){r.controller.abort()})}var us=null,_c=0,al=0,rl=null;function xw(r,i){if(us===null){var o=us=[];_c=0,al=Ih(),rl={status:"pending",value:void 0,then:function(d){o.push(d)}}}return _c++,i.then(Np,Np),i}function Np(){if(--_c===0&&us!==null){rl!==null&&(rl.status="fulfilled");var r=us;us=null,al=0,rl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function Tw(r,i){var o=[],d={status:"pending",value:null,reason:null,then:function(b){o.push(b)}};return r.then(function(){d.status="fulfilled",d.value=i;for(var b=0;b<o.length;b++)(0,o[b])(i)},function(b){for(d.status="rejected",d.reason=b,b=0;b<o.length;b++)(0,o[b])(void 0)}),d}var Bp=U.S;U.S=function(r,i){pm=Ce(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&xw(r,i),Bp!==null&&Bp(r,i)};var pi=k(null);function zc(){var r=pi.current;return r!==null?r:Rt.pooledCache}function Hu(r,i){i===null?j(pi,pi.current):j(pi,i.pool)}function _p(){var r=zc();return r===null?null:{parent:Wt._currentValue,pool:r}}var nl=Error(n(460)),kc=Error(n(474)),Vu=Error(n(542)),Yu={then:function(){}};function zp(r){return r=r.status,r==="fulfilled"||r==="rejected"}function kp(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Fr,Fr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Up(r),r;default:if(typeof i.status=="string")i.then(Fr,Fr);else{if(r=Rt,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=i,r.status="pending",r.then(function(d){if(i.status==="pending"){var b=i;b.status="fulfilled",b.value=d}},function(d){if(i.status==="pending"){var b=i;b.status="rejected",b.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Up(r),r}throw mi=i,nl}}function yi(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(mi=o,nl):o}}var mi=null;function Ip(){if(mi===null)throw Error(n(459));var r=mi;return mi=null,r}function Up(r){if(r===nl||r===Vu)throw Error(n(483))}var il=null,os=0;function Xu(r){var i=os;return os+=1,il===null&&(il=[]),kp(il,r,i)}function fs(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function ju(r,i){throw i.$$typeof===y?Error(n(525)):(r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Gp(r){function i(te,$){if(r){var le=te.deletions;le===null?(te.deletions=[$],te.flags|=16):le.push($)}}function o(te,$){if(!r)return null;for(;$!==null;)i(te,$),$=$.sibling;return null}function d(te){for(var $=new Map;te!==null;)te.key!==null?$.set(te.key,te):$.set(te.index,te),te=te.sibling;return $}function b(te,$){return te=Hr(te,$),te.index=0,te.sibling=null,te}function w(te,$,le){return te.index=le,r?(le=te.alternate,le!==null?(le=le.index,le<$?(te.flags|=67108866,$):le):(te.flags|=67108866,$)):(te.flags|=1048576,$)}function N(te){return r&&te.alternate===null&&(te.flags|=67108866),te}function F(te,$,le,be){return $===null||$.tag!==6?($=Sc(le,te.mode,be),$.return=te,$):($=b($,le),$.return=te,$)}function Z(te,$,le,be){var Ve=le.type;return Ve===E?ye(te,$,le.props.children,be,le.key):$!==null&&($.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===A&&yi(Ve)===$.type)?($=b($,le.props),fs($,le),$.return=te,$):($=Gu(le.type,le.key,le.props,null,te.mode,be),fs($,le),$.return=te,$)}function se(te,$,le,be){return $===null||$.tag!==4||$.stateNode.containerInfo!==le.containerInfo||$.stateNode.implementation!==le.implementation?($=Cc(le,te.mode,be),$.return=te,$):($=b($,le.children||[]),$.return=te,$)}function ye(te,$,le,be,Ve){return $===null||$.tag!==7?($=hi(le,te.mode,be,Ve),$.return=te,$):($=b($,le),$.return=te,$)}function Ee(te,$,le){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Sc(""+$,te.mode,le),$.return=te,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case p:return le=Gu($.type,$.key,$.props,null,te.mode,le),fs(le,$),le.return=te,le;case m:return $=Cc($,te.mode,le),$.return=te,$;case A:return $=yi($),Ee(te,$,le)}if(Y($)||z($))return $=hi($,te.mode,le,null),$.return=te,$;if(typeof $.then=="function")return Ee(te,Xu($),le);if($.$$typeof===S)return Ee(te,qu(te,$),le);ju(te,$)}return null}function oe(te,$,le,be){var Ve=$!==null?$.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ve!==null?null:F(te,$,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case p:return le.key===Ve?Z(te,$,le,be):null;case m:return le.key===Ve?se(te,$,le,be):null;case A:return le=yi(le),oe(te,$,le,be)}if(Y(le)||z(le))return Ve!==null?null:ye(te,$,le,be,null);if(typeof le.then=="function")return oe(te,$,Xu(le),be);if(le.$$typeof===S)return oe(te,$,qu(te,le),be);ju(te,le)}return null}function ve(te,$,le,be,Ve){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return te=te.get(le)||null,F($,te,""+be,Ve);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case p:return te=te.get(be.key===null?le:be.key)||null,Z($,te,be,Ve);case m:return te=te.get(be.key===null?le:be.key)||null,se($,te,be,Ve);case A:return be=yi(be),ve(te,$,le,be,Ve)}if(Y(be)||z(be))return te=te.get(le)||null,ye($,te,be,Ve,null);if(typeof be.then=="function")return ve(te,$,le,Xu(be),Ve);if(be.$$typeof===S)return ve(te,$,le,qu($,be),Ve);ju($,be)}return null}function Ie(te,$,le,be){for(var Ve=null,gt=null,Pe=$,rt=$=0,ft=null;Pe!==null&&rt<le.length;rt++){Pe.index>rt?(ft=Pe,Pe=null):ft=Pe.sibling;var pt=oe(te,Pe,le[rt],be);if(pt===null){Pe===null&&(Pe=ft);break}r&&Pe&&pt.alternate===null&&i(te,Pe),$=w(pt,$,rt),gt===null?Ve=pt:gt.sibling=pt,gt=pt,Pe=ft}if(rt===le.length)return o(te,Pe),ct&&Vr(te,rt),Ve;if(Pe===null){for(;rt<le.length;rt++)Pe=Ee(te,le[rt],be),Pe!==null&&($=w(Pe,$,rt),gt===null?Ve=Pe:gt.sibling=Pe,gt=Pe);return ct&&Vr(te,rt),Ve}for(Pe=d(Pe);rt<le.length;rt++)ft=ve(Pe,te,rt,le[rt],be),ft!==null&&(r&&ft.alternate!==null&&Pe.delete(ft.key===null?rt:ft.key),$=w(ft,$,rt),gt===null?Ve=ft:gt.sibling=ft,gt=ft);return r&&Pe.forEach(function(Pn){return i(te,Pn)}),ct&&Vr(te,rt),Ve}function Ze(te,$,le,be){if(le==null)throw Error(n(151));for(var Ve=null,gt=null,Pe=$,rt=$=0,ft=null,pt=le.next();Pe!==null&&!pt.done;rt++,pt=le.next()){Pe.index>rt?(ft=Pe,Pe=null):ft=Pe.sibling;var Pn=oe(te,Pe,pt.value,be);if(Pn===null){Pe===null&&(Pe=ft);break}r&&Pe&&Pn.alternate===null&&i(te,Pe),$=w(Pn,$,rt),gt===null?Ve=Pn:gt.sibling=Pn,gt=Pn,Pe=ft}if(pt.done)return o(te,Pe),ct&&Vr(te,rt),Ve;if(Pe===null){for(;!pt.done;rt++,pt=le.next())pt=Ee(te,pt.value,be),pt!==null&&($=w(pt,$,rt),gt===null?Ve=pt:gt.sibling=pt,gt=pt);return ct&&Vr(te,rt),Ve}for(Pe=d(Pe);!pt.done;rt++,pt=le.next())pt=ve(Pe,te,rt,pt.value,be),pt!==null&&(r&&pt.alternate!==null&&Pe.delete(pt.key===null?rt:pt.key),$=w(pt,$,rt),gt===null?Ve=pt:gt.sibling=pt,gt=pt);return r&&Pe.forEach(function(BS){return i(te,BS)}),ct&&Vr(te,rt),Ve}function At(te,$,le,be){if(typeof le=="object"&&le!==null&&le.type===E&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case p:e:{for(var Ve=le.key;$!==null;){if($.key===Ve){if(Ve=le.type,Ve===E){if($.tag===7){o(te,$.sibling),be=b($,le.props.children),be.return=te,te=be;break e}}else if($.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===A&&yi(Ve)===$.type){o(te,$.sibling),be=b($,le.props),fs(be,le),be.return=te,te=be;break e}o(te,$);break}else i(te,$);$=$.sibling}le.type===E?(be=hi(le.props.children,te.mode,be,le.key),be.return=te,te=be):(be=Gu(le.type,le.key,le.props,null,te.mode,be),fs(be,le),be.return=te,te=be)}return N(te);case m:e:{for(Ve=le.key;$!==null;){if($.key===Ve)if($.tag===4&&$.stateNode.containerInfo===le.containerInfo&&$.stateNode.implementation===le.implementation){o(te,$.sibling),be=b($,le.children||[]),be.return=te,te=be;break e}else{o(te,$);break}else i(te,$);$=$.sibling}be=Cc(le,te.mode,be),be.return=te,te=be}return N(te);case A:return le=yi(le),At(te,$,le,be)}if(Y(le))return Ie(te,$,le,be);if(z(le)){if(Ve=z(le),typeof Ve!="function")throw Error(n(150));return le=Ve.call(le),Ze(te,$,le,be)}if(typeof le.then=="function")return At(te,$,Xu(le),be);if(le.$$typeof===S)return At(te,$,qu(te,le),be);ju(te,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,$!==null&&$.tag===6?(o(te,$.sibling),be=b($,le),be.return=te,te=be):(o(te,$),be=Sc(le,te.mode,be),be.return=te,te=be),N(te)):o(te,$)}return function(te,$,le,be){try{os=0;var Ve=At(te,$,le,be);return il=null,Ve}catch(Pe){if(Pe===nl||Pe===Vu)throw Pe;var gt=$a(29,Pe,null,te.mode);return gt.lanes=be,gt.return=te,gt}}}var bi=Gp(!0),Pp=Gp(!1),wn=!1;function Ic(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uc(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Sn(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Cn(r,i,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(mt&2)!==0){var b=d.pending;return b===null?i.next=i:(i.next=b.next,b.next=i),d.pending=i,i=Uu(r),wp(r,null,o),i}return Iu(r,d,i,o),Uu(r)}function cs(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,Xt(r,o)}}function Gc(r,i){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var b=null,w=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};w===null?b=w=N:w=w.next=N,o=o.next}while(o!==null);w===null?b=w=i:w=w.next=i}else b=w=i;o={baseState:d.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Pc=!1;function hs(){if(Pc){var r=rl;if(r!==null)throw r}}function vs(r,i,o,d){Pc=!1;var b=r.updateQueue;wn=!1;var w=b.firstBaseUpdate,N=b.lastBaseUpdate,F=b.shared.pending;if(F!==null){b.shared.pending=null;var Z=F,se=Z.next;Z.next=null,N===null?w=se:N.next=se,N=Z;var ye=r.alternate;ye!==null&&(ye=ye.updateQueue,F=ye.lastBaseUpdate,F!==N&&(F===null?ye.firstBaseUpdate=se:F.next=se,ye.lastBaseUpdate=Z))}if(w!==null){var Ee=b.baseState;N=0,ye=se=Z=null,F=w;do{var oe=F.lane&-536870913,ve=oe!==F.lane;if(ve?(ot&oe)===oe:(d&oe)===oe){oe!==0&&oe===al&&(Pc=!0),ye!==null&&(ye=ye.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ie=r,Ze=F;oe=i;var At=o;switch(Ze.tag){case 1:if(Ie=Ze.payload,typeof Ie=="function"){Ee=Ie.call(At,Ee,oe);break e}Ee=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ze.payload,oe=typeof Ie=="function"?Ie.call(At,Ee,oe):Ie,oe==null)break e;Ee=g({},Ee,oe);break e;case 2:wn=!0}}oe=F.callback,oe!==null&&(r.flags|=64,ve&&(r.flags|=8192),ve=b.callbacks,ve===null?b.callbacks=[oe]:ve.push(oe))}else ve={lane:oe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ye===null?(se=ye=ve,Z=Ee):ye=ye.next=ve,N|=oe;if(F=F.next,F===null){if(F=b.shared.pending,F===null)break;ve=F,F=ve.next,ve.next=null,b.lastBaseUpdate=ve,b.shared.pending=null}}while(!0);ye===null&&(Z=Ee),b.baseState=Z,b.firstBaseUpdate=se,b.lastBaseUpdate=ye,w===null&&(b.shared.lanes=0),Mn|=N,r.lanes=N,r.memoizedState=Ee}}function Fp(r,i){if(typeof r!="function")throw Error(n(191,r));r.call(i)}function qp(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Fp(o[r],i)}var ll=k(null),Ku=k(0);function Hp(r,i){r=tn,j(Ku,r),j(ll,i),tn=r|i.baseLanes}function Fc(){j(Ku,tn),j(ll,ll.current)}function qc(){tn=Ku.current,q(ll),q(Ku)}var Ja=k(null),gr=null;function An(r){var i=r.alternate;j(Kt,Kt.current&1),j(Ja,r),gr===null&&(i===null||ll.current!==null||i.memoizedState!==null)&&(gr=r)}function Hc(r){j(Kt,Kt.current),j(Ja,r),gr===null&&(gr=r)}function Vp(r){r.tag===22?(j(Kt,Kt.current),j(Ja,r),gr===null&&(gr=r)):Dn()}function Dn(){j(Kt,Kt.current),j(Ja,Ja.current)}function er(r){q(Ja),gr===r&&(gr=null),q(Kt)}var Kt=k(0);function Zu(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Zh(o)||Qh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var jr=0,tt=null,St=null,$t=null,Qu=!1,sl=!1,Ei=!1,Wu=0,ds=0,ul=null,ww=0;function Ht(){throw Error(n(321))}function Vc(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Wa(r[o],i[o]))return!1;return!0}function Yc(r,i,o,d,b,w){return jr=w,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=r===null||r.memoizedState===null?Dy:lh,Ei=!1,w=o(d,b),Ei=!1,sl&&(w=Xp(i,o,d,b)),Yp(r),w}function Yp(r){U.H=ys;var i=St!==null&&St.next!==null;if(jr=0,$t=St=tt=null,Qu=!1,ds=0,ul=null,i)throw Error(n(300));r===null||Jt||(r=r.dependencies,r!==null&&Fu(r)&&(Jt=!0))}function Xp(r,i,o,d){tt=r;var b=0;do{if(sl&&(ul=null),ds=0,sl=!1,25<=b)throw Error(n(301));if(b+=1,$t=St=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}U.H=Ry,w=i(o,d)}while(sl);return w}function Sw(){var r=U.H,i=r.useState()[0];return i=typeof i.then=="function"?gs(i):i,r=r.useState()[0],(St!==null?St.memoizedState:null)!==r&&(tt.flags|=1024),i}function Xc(){var r=Wu!==0;return Wu=0,r}function jc(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Kc(r){if(Qu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qu=!1}jr=0,$t=St=tt=null,sl=!1,ds=Wu=0,ul=null}function _a(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?tt.memoizedState=$t=r:$t=$t.next=r,$t}function Zt(){if(St===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var i=$t===null?tt.memoizedState:$t.next;if(i!==null)$t=i,St=r;else{if(r===null)throw tt.alternate===null?Error(n(467)):Error(n(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},$t===null?tt.memoizedState=$t=r:$t=$t.next=r}return $t}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gs(r){var i=ds;return ds+=1,ul===null&&(ul=[]),r=kp(ul,r,i),i=tt,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Dy:lh),r}function Ju(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gs(r);if(r.$$typeof===S)return Ea(r)}throw Error(n(438,String(r)))}function Zc(r){var i=null,o=tt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=tt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(b){return b.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=$u(),tt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),d=0;d<r;d++)o[d]=M;return i.index++,o}function Kr(r,i){return typeof i=="function"?i(r):i}function eo(r){var i=Zt();return Qc(i,St,r)}function Qc(r,i,o){var d=r.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var b=r.baseQueue,w=d.pending;if(w!==null){if(b!==null){var N=b.next;b.next=w.next,w.next=N}i.baseQueue=b=w,d.pending=null}if(w=r.baseState,b===null)r.memoizedState=w;else{i=b.next;var F=N=null,Z=null,se=i,ye=!1;do{var Ee=se.lane&-536870913;if(Ee!==se.lane?(ot&Ee)===Ee:(jr&Ee)===Ee){var oe=se.revertLane;if(oe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ee===al&&(ye=!0);else if((jr&oe)===oe){se=se.next,oe===al&&(ye=!0);continue}else Ee={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Z===null?(F=Z=Ee,N=w):Z=Z.next=Ee,tt.lanes|=oe,Mn|=oe;Ee=se.action,Ei&&o(w,Ee),w=se.hasEagerState?se.eagerState:o(w,Ee)}else oe={lane:Ee,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Z===null?(F=Z=oe,N=w):Z=Z.next=oe,tt.lanes|=Ee,Mn|=Ee;se=se.next}while(se!==null&&se!==i);if(Z===null?N=w:Z.next=F,!Wa(w,r.memoizedState)&&(Jt=!0,ye&&(o=rl,o!==null)))throw o;r.memoizedState=w,r.baseState=N,r.baseQueue=Z,d.lastRenderedState=w}return b===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Wc(r){var i=Zt(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var d=o.dispatch,b=o.pending,w=i.memoizedState;if(b!==null){o.pending=null;var N=b=b.next;do w=r(w,N.action),N=N.next;while(N!==b);Wa(w,i.memoizedState)||(Jt=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),o.lastRenderedState=w}return[w,d]}function jp(r,i,o){var d=tt,b=Zt(),w=ct;if(w){if(o===void 0)throw Error(n(407));o=o()}else o=i();var N=!Wa((St||b).memoizedState,o);if(N&&(b.memoizedState=o,Jt=!0),b=b.queue,eh(Qp.bind(null,d,b,r),[r]),b.getSnapshot!==i||N||$t!==null&&$t.memoizedState.tag&1){if(d.flags|=2048,ol(9,{destroy:void 0},Zp.bind(null,d,b,o,i),null),Rt===null)throw Error(n(349));w||(jr&127)!==0||Kp(d,i,o)}return o}function Kp(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=tt.updateQueue,i===null?(i=$u(),tt.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Zp(r,i,o,d){i.value=o,i.getSnapshot=d,Wp(i)&&$p(r)}function Qp(r,i,o){return o(function(){Wp(i)&&$p(r)})}function Wp(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Wa(r,o)}catch{return!0}}function $p(r){var i=ci(r,2);i!==null&&Xa(i,r,2)}function $c(r){var i=_a();if(typeof r=="function"){var o=r;if(r=o(),Ei){he(!0);try{o()}finally{he(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:r},i}function Jp(r,i,o,d){return r.baseState=o,Qc(r,St,typeof d=="function"?d:Kr)}function Cw(r,i,o,d,b){if(ro(r))throw Error(n(485));if(r=i.action,r!==null){var w={payload:b,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};U.T!==null?o(!0):w.isTransition=!1,d(w),o=i.pending,o===null?(w.next=i.pending=w,ey(i,w)):(w.next=o.next,i.pending=o.next=w)}}function ey(r,i){var o=i.action,d=i.payload,b=r.state;if(i.isTransition){var w=U.T,N={};U.T=N;try{var F=o(b,d),Z=U.S;Z!==null&&Z(N,F),ty(r,i,F)}catch(se){Jc(r,i,se)}finally{w!==null&&N.types!==null&&(w.types=N.types),U.T=w}}else try{w=o(b,d),ty(r,i,w)}catch(se){Jc(r,i,se)}}function ty(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){ay(r,i,d)},function(d){return Jc(r,i,d)}):ay(r,i,o)}function ay(r,i,o){i.status="fulfilled",i.value=o,ry(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,ey(r,o)))}function Jc(r,i,o){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,ry(i),i=i.next;while(i!==d)}r.action=null}function ry(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function ny(r,i){return i}function iy(r,i){if(ct){var o=Rt.formState;if(o!==null){e:{var d=tt;if(ct){if(Nt){t:{for(var b=Nt,w=dr;b.nodeType!==8;){if(!w){b=null;break t}if(b=pr(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Nt=pr(b.nextSibling),d=b.data==="F!";break e}}xn(d)}d=!1}d&&(i=o[0])}}return o=_a(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},o.queue=d,o=Sy.bind(null,tt,d),d.dispatch=o,d=$c(!1),w=ih.bind(null,tt,!1,d.queue),d=_a(),b={state:i,dispatch:null,action:r,pending:null},d.queue=b,o=Cw.bind(null,tt,b,w,o),b.dispatch=o,d.memoizedState=r,[i,o,!1]}function ly(r){var i=Zt();return sy(i,St,r)}function sy(r,i,o){if(i=Qc(r,i,ny)[0],r=eo(Kr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=gs(i)}catch(N){throw N===nl?Vu:N}else d=i;i=Zt();var b=i.queue,w=b.dispatch;return o!==i.memoizedState&&(tt.flags|=2048,ol(9,{destroy:void 0},Aw.bind(null,b,o),null)),[d,w,r]}function Aw(r,i){r.action=i}function uy(r){var i=Zt(),o=St;if(o!==null)return sy(i,o,r);Zt(),i=i.memoizedState,o=Zt();var d=o.queue.dispatch;return o.memoizedState=r,[i,d,!1]}function ol(r,i,o,d){return r={tag:r,create:o,deps:d,inst:i,next:null},i=tt.updateQueue,i===null&&(i=$u(),tt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,i.lastEffect=r),r}function oy(){return Zt().memoizedState}function to(r,i,o,d){var b=_a();tt.flags|=r,b.memoizedState=ol(1|i,{destroy:void 0},o,d===void 0?null:d)}function ao(r,i,o,d){var b=Zt();d=d===void 0?null:d;var w=b.memoizedState.inst;St!==null&&d!==null&&Vc(d,St.memoizedState.deps)?b.memoizedState=ol(i,w,o,d):(tt.flags|=r,b.memoizedState=ol(1|i,w,o,d))}function fy(r,i){to(8390656,8,r,i)}function eh(r,i){ao(2048,8,r,i)}function Dw(r){tt.flags|=4;var i=tt.updateQueue;if(i===null)i=$u(),tt.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function cy(r){var i=Zt().memoizedState;return Dw({ref:i,nextImpl:r}),function(){if((mt&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function hy(r,i){return ao(4,2,r,i)}function vy(r,i){return ao(4,4,r,i)}function dy(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function gy(r,i,o){o=o!=null?o.concat([r]):null,ao(4,4,dy.bind(null,i,r),o)}function th(){}function py(r,i){var o=Zt();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&Vc(i,d[1])?d[0]:(o.memoizedState=[r,i],r)}function yy(r,i){var o=Zt();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&Vc(i,d[1]))return d[0];if(d=r(),Ei){he(!0);try{r()}finally{he(!1)}}return o.memoizedState=[d,i],d}function ah(r,i,o){return o===void 0||(jr&1073741824)!==0&&(ot&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=mm(),tt.lanes|=r,Mn|=r,o)}function my(r,i,o,d){return Wa(o,i)?o:ll.current!==null?(r=ah(r,o,d),Wa(r,i)||(Jt=!0),r):(jr&42)===0||(jr&1073741824)!==0&&(ot&261930)===0?(Jt=!0,r.memoizedState=o):(r=mm(),tt.lanes|=r,Mn|=r,i)}function by(r,i,o,d,b){var w=G.p;G.p=w!==0&&8>w?w:8;var N=U.T,F={};U.T=F,ih(r,!1,i,o);try{var Z=b(),se=U.S;if(se!==null&&se(F,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ye=Tw(Z,d);ps(r,i,ye,rr(r))}else ps(r,i,d,rr(r))}catch(Ee){ps(r,i,{then:function(){},status:"rejected",reason:Ee},rr())}finally{G.p=w,N!==null&&F.types!==null&&(N.types=F.types),U.T=N}}function Rw(){}function rh(r,i,o,d){if(r.tag!==5)throw Error(n(476));var b=Ey(r).queue;by(r,b,i,V,o===null?Rw:function(){return xy(r),o(d)})}function Ey(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:V},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function xy(r){var i=Ey(r);i.next===null&&(i=r.alternate.memoizedState),ps(r,i.next.queue,{},rr())}function nh(){return Ea(Bs)}function Ty(){return Zt().memoizedState}function wy(){return Zt().memoizedState}function Ow(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=rr();r=Sn(o);var d=Cn(i,r,o);d!==null&&(Xa(d,i,o),cs(d,i,o)),i={cache:Bc()},r.payload=i;return}i=i.return}}function Mw(r,i,o){var d=rr();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ro(r)?Cy(i,o):(o=Tc(r,i,o,d),o!==null&&(Xa(o,r,d),Ay(o,i,d)))}function Sy(r,i,o){var d=rr();ps(r,i,o,d)}function ps(r,i,o,d){var b={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ro(r))Cy(i,b);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var N=i.lastRenderedState,F=w(N,o);if(b.hasEagerState=!0,b.eagerState=F,Wa(F,N))return Iu(r,i,b,0),Rt===null&&ku(),!1}catch{}if(o=Tc(r,i,b,d),o!==null)return Xa(o,r,d),Ay(o,i,d),!0}return!1}function ih(r,i,o,d){if(d={lane:2,revertLane:Ih(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ro(r)){if(i)throw Error(n(479))}else i=Tc(r,o,d,2),i!==null&&Xa(i,r,2)}function ro(r){var i=r.alternate;return r===tt||i!==null&&i===tt}function Cy(r,i){sl=Qu=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Ay(r,i,o){if((o&4194048)!==0){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,Xt(r,o)}}var ys={readContext:Ea,use:Ju,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};ys.useEffectEvent=Ht;var Dy={readContext:Ea,use:Ju,useCallback:function(r,i){return _a().memoizedState=[r,i===void 0?null:i],r},useContext:Ea,useEffect:fy,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,to(4194308,4,dy.bind(null,i,r),o)},useLayoutEffect:function(r,i){return to(4194308,4,r,i)},useInsertionEffect:function(r,i){to(4,2,r,i)},useMemo:function(r,i){var o=_a();i=i===void 0?null:i;var d=r();if(Ei){he(!0);try{r()}finally{he(!1)}}return o.memoizedState=[d,i],d},useReducer:function(r,i,o){var d=_a();if(o!==void 0){var b=o(i);if(Ei){he(!0);try{o(i)}finally{he(!1)}}}else b=i;return d.memoizedState=d.baseState=b,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:b},d.queue=r,r=r.dispatch=Mw.bind(null,tt,r),[d.memoizedState,r]},useRef:function(r){var i=_a();return r={current:r},i.memoizedState=r},useState:function(r){r=$c(r);var i=r.queue,o=Sy.bind(null,tt,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:th,useDeferredValue:function(r,i){var o=_a();return ah(o,r,i)},useTransition:function(){var r=$c(!1);return r=by.bind(null,tt,r.queue,!0,!1),_a().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var d=tt,b=_a();if(ct){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),Rt===null)throw Error(n(349));(ot&127)!==0||Kp(d,i,o)}b.memoizedState=o;var w={value:o,getSnapshot:i};return b.queue=w,fy(Qp.bind(null,d,w,r),[r]),d.flags|=2048,ol(9,{destroy:void 0},Zp.bind(null,d,w,o,i),null),o},useId:function(){var r=_a(),i=Rt.identifierPrefix;if(ct){var o=Mr,d=Or;o=(d&~(1<<32-fe(d)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Wu++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=ww++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:nh,useFormState:iy,useActionState:iy,useOptimistic:function(r){var i=_a();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=ih.bind(null,tt,!0,o),o.dispatch=i,[r,i]},useMemoCache:Zc,useCacheRefresh:function(){return _a().memoizedState=Ow.bind(null,tt)},useEffectEvent:function(r){var i=_a(),o={impl:r};return i.memoizedState=o,function(){if((mt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}},lh={readContext:Ea,use:Ju,useCallback:py,useContext:Ea,useEffect:eh,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:vy,useMemo:yy,useReducer:eo,useRef:oy,useState:function(){return eo(Kr)},useDebugValue:th,useDeferredValue:function(r,i){var o=Zt();return my(o,St.memoizedState,r,i)},useTransition:function(){var r=eo(Kr)[0],i=Zt().memoizedState;return[typeof r=="boolean"?r:gs(r),i]},useSyncExternalStore:jp,useId:Ty,useHostTransitionStatus:nh,useFormState:ly,useActionState:ly,useOptimistic:function(r,i){var o=Zt();return Jp(o,St,r,i)},useMemoCache:Zc,useCacheRefresh:wy};lh.useEffectEvent=cy;var Ry={readContext:Ea,use:Ju,useCallback:py,useContext:Ea,useEffect:eh,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:vy,useMemo:yy,useReducer:Wc,useRef:oy,useState:function(){return Wc(Kr)},useDebugValue:th,useDeferredValue:function(r,i){var o=Zt();return St===null?ah(o,r,i):my(o,St.memoizedState,r,i)},useTransition:function(){var r=Wc(Kr)[0],i=Zt().memoizedState;return[typeof r=="boolean"?r:gs(r),i]},useSyncExternalStore:jp,useId:Ty,useHostTransitionStatus:nh,useFormState:uy,useActionState:uy,useOptimistic:function(r,i){var o=Zt();return St!==null?Jp(o,St,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:wy};Ry.useEffectEvent=cy;function sh(r,i,o,d){i=r.memoizedState,o=o(d,i),o=o==null?i:g({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var uh={enqueueSetState:function(r,i,o){r=r._reactInternals;var d=rr(),b=Sn(d);b.payload=i,o!=null&&(b.callback=o),i=Cn(r,b,d),i!==null&&(Xa(i,r,d),cs(i,r,d))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var d=rr(),b=Sn(d);b.tag=1,b.payload=i,o!=null&&(b.callback=o),i=Cn(r,b,d),i!==null&&(Xa(i,r,d),cs(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=rr(),d=Sn(o);d.tag=2,i!=null&&(d.callback=i),i=Cn(r,d,o),i!==null&&(Xa(i,r,o),cs(i,r,o))}};function Oy(r,i,o,d,b,w,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,w,N):i.prototype&&i.prototype.isPureReactComponent?!rs(o,d)||!rs(b,w):!0}function My(r,i,o,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==r&&uh.enqueueReplaceState(i,i.state,null)}function xi(r,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(r=r.defaultProps){o===i&&(o=g({},o));for(var b in r)o[b]===void 0&&(o[b]=r[b])}return o}function Ly(r){zu(r)}function Ny(r){console.error(r)}function By(r){zu(r)}function no(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function _y(r,i,o){try{var d=r.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function oh(r,i,o){return o=Sn(o),o.tag=3,o.payload={element:null},o.callback=function(){no(r,i)},o}function zy(r){return r=Sn(r),r.tag=3,r}function ky(r,i,o,d){var b=o.type.getDerivedStateFromError;if(typeof b=="function"){var w=d.value;r.payload=function(){return b(w)},r.callback=function(){_y(i,o,d)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(r.callback=function(){_y(i,o,d),typeof b!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function Lw(r,i,o,d,b){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&tl(i,o,b,!0),o=Ja.current,o!==null){switch(o.tag){case 31:case 13:return gr===null?yo():o.alternate===null&&Vt===0&&(Vt=3),o.flags&=-257,o.flags|=65536,o.lanes=b,d===Yu?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),_h(r,d,b)),!1;case 22:return o.flags|=65536,d===Yu?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),_h(r,d,b)),!1}throw Error(n(435,o.tag))}return _h(r,d,b),yo(),!1}if(ct)return i=Ja.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=b,d!==Rc&&(r=Error(n(422),{cause:d}),ls(cr(r,o)))):(d!==Rc&&(i=Error(n(423),{cause:d}),ls(cr(i,o))),r=r.current.alternate,r.flags|=65536,b&=-b,r.lanes|=b,d=cr(d,o),b=oh(r.stateNode,d,b),Gc(r,b),Vt!==4&&(Vt=2)),!1;var w=Error(n(520),{cause:d});if(w=cr(w,o),Cs===null?Cs=[w]:Cs.push(w),Vt!==4&&(Vt=2),i===null)return!0;d=cr(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=b&-b,o.lanes|=r,r=oh(o.stateNode,d,r),Gc(o,r),!1;case 1:if(i=o.type,w=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ln===null||!Ln.has(w))))return o.flags|=65536,b&=-b,o.lanes|=b,b=zy(b),ky(b,r,o,d),Gc(o,b),!1}o=o.return}while(o!==null);return!1}var fh=Error(n(461)),Jt=!1;function xa(r,i,o,d){i.child=r===null?Pp(i,null,o,d):bi(i,r.child,o,d)}function Iy(r,i,o,d,b){o=o.render;var w=i.ref;if("ref"in d){var N={};for(var F in d)F!=="ref"&&(N[F]=d[F])}else N=d;return gi(i),d=Yc(r,i,o,N,w,b),F=Xc(),r!==null&&!Jt?(jc(r,i,b),Zr(r,i,b)):(ct&&F&&Ac(i),i.flags|=1,xa(r,i,d,b),i.child)}function Uy(r,i,o,d,b){if(r===null){var w=o.type;return typeof w=="function"&&!wc(w)&&w.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=w,Gy(r,i,w,d,b)):(r=Gu(o.type,null,d,i,i.mode,b),r.ref=i.ref,r.return=i,i.child=r)}if(w=r.child,!mh(r,b)){var N=w.memoizedProps;if(o=o.compare,o=o!==null?o:rs,o(N,d)&&r.ref===i.ref)return Zr(r,i,b)}return i.flags|=1,r=Hr(w,d),r.ref=i.ref,r.return=i,i.child=r}function Gy(r,i,o,d,b){if(r!==null){var w=r.memoizedProps;if(rs(w,d)&&r.ref===i.ref)if(Jt=!1,i.pendingProps=d=w,mh(r,b))(r.flags&131072)!==0&&(Jt=!0);else return i.lanes=r.lanes,Zr(r,i,b)}return ch(r,i,o,d,b)}function Py(r,i,o,d){var b=d.children,w=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(w=w!==null?w.baseLanes|o:o,r!==null){for(d=i.child=r.child,b=0;d!==null;)b=b|d.lanes|d.childLanes,d=d.sibling;d=b&~w}else d=0,i.child=null;return Fy(r,i,w,o,d)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hu(i,w!==null?w.cachePool:null),w!==null?Hp(i,w):Fc(),Vp(i);else return d=i.lanes=536870912,Fy(r,i,w!==null?w.baseLanes|o:o,o,d)}else w!==null?(Hu(i,w.cachePool),Hp(i,w),Dn(),i.memoizedState=null):(r!==null&&Hu(i,null),Fc(),Dn());return xa(r,i,b,o),i.child}function ms(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fy(r,i,o,d,b){var w=zc();return w=w===null?null:{parent:Wt._currentValue,pool:w},i.memoizedState={baseLanes:o,cachePool:w},r!==null&&Hu(i,null),Fc(),Vp(i),r!==null&&tl(r,i,d,!0),i.childLanes=b,null}function io(r,i){return i=so({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function qy(r,i,o){return bi(i,r.child,null,o),r=io(i,i.pendingProps),r.flags|=2,er(i),i.memoizedState=null,r}function Nw(r,i,o){var d=i.pendingProps,b=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(ct){if(d.mode==="hidden")return r=io(i,d),i.lanes=536870912,ms(null,r);if(Hc(i),(r=Nt)?(r=e0(r,dr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:bn!==null?{id:Or,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},o=Cp(r),o.return=i,i.child=o,ba=i,Nt=null)):r=null,r===null)throw xn(i);return i.lanes=536870912,null}return io(i,d)}var w=r.memoizedState;if(w!==null){var N=w.dehydrated;if(Hc(i),b)if(i.flags&256)i.flags&=-257,i=qy(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(n(558));else if(Jt||tl(r,i,o,!1),b=(o&r.childLanes)!==0,Jt||b){if(d=Rt,d!==null&&(N=qt(d,o),N!==0&&N!==w.retryLane))throw w.retryLane=N,ci(r,N),Xa(d,r,N),fh;yo(),i=qy(r,i,o)}else r=w.treeContext,Nt=pr(N.nextSibling),ba=i,ct=!0,En=null,dr=!1,r!==null&&Rp(i,r),i=io(i,d),i.flags|=4096;return i}return r=Hr(r.child,{mode:d.mode,children:d.children}),r.ref=i.ref,i.child=r,r.return=i,r}function lo(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function ch(r,i,o,d,b){return gi(i),o=Yc(r,i,o,d,void 0,b),d=Xc(),r!==null&&!Jt?(jc(r,i,b),Zr(r,i,b)):(ct&&d&&Ac(i),i.flags|=1,xa(r,i,o,b),i.child)}function Hy(r,i,o,d,b,w){return gi(i),i.updateQueue=null,o=Xp(i,d,o,b),Yp(r),d=Xc(),r!==null&&!Jt?(jc(r,i,w),Zr(r,i,w)):(ct&&d&&Ac(i),i.flags|=1,xa(r,i,o,w),i.child)}function Vy(r,i,o,d,b){if(gi(i),i.stateNode===null){var w=Wi,N=o.contextType;typeof N=="object"&&N!==null&&(w=Ea(N)),w=new o(d,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=uh,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=d,w.state=i.memoizedState,w.refs={},Ic(i),N=o.contextType,w.context=typeof N=="object"&&N!==null?Ea(N):Wi,w.state=i.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(sh(i,o,N,d),w.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&uh.enqueueReplaceState(w,w.state,null),vs(i,d,w,b),hs(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(r===null){w=i.stateNode;var F=i.memoizedProps,Z=xi(o,F);w.props=Z;var se=w.context,ye=o.contextType;N=Wi,typeof ye=="object"&&ye!==null&&(N=Ea(ye));var Ee=o.getDerivedStateFromProps;ye=typeof Ee=="function"||typeof w.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,ye||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(F||se!==N)&&My(i,w,d,N),wn=!1;var oe=i.memoizedState;w.state=oe,vs(i,d,w,b),hs(),se=i.memoizedState,F||oe!==se||wn?(typeof Ee=="function"&&(sh(i,o,Ee,d),se=i.memoizedState),(Z=wn||Oy(i,o,Z,d,oe,se,N))?(ye||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=se),w.props=d,w.state=se,w.context=N,d=Z):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{w=i.stateNode,Uc(r,i),N=i.memoizedProps,ye=xi(o,N),w.props=ye,Ee=i.pendingProps,oe=w.context,se=o.contextType,Z=Wi,typeof se=="object"&&se!==null&&(Z=Ea(se)),F=o.getDerivedStateFromProps,(se=typeof F=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==Ee||oe!==Z)&&My(i,w,d,Z),wn=!1,oe=i.memoizedState,w.state=oe,vs(i,d,w,b),hs();var ve=i.memoizedState;N!==Ee||oe!==ve||wn||r!==null&&r.dependencies!==null&&Fu(r.dependencies)?(typeof F=="function"&&(sh(i,o,F,d),ve=i.memoizedState),(ye=wn||Oy(i,o,ye,d,oe,ve,Z)||r!==null&&r.dependencies!==null&&Fu(r.dependencies))?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ve,Z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ve,Z)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ve),w.props=d,w.state=ve,w.context=Z,d=ye):(typeof w.componentDidUpdate!="function"||N===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),d=!1)}return w=d,lo(r,i),d=(i.flags&128)!==0,w||d?(w=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,r!==null&&d?(i.child=bi(i,r.child,null,b),i.child=bi(i,null,o,b)):xa(r,i,o,b),i.memoizedState=w.state,r=i.child):r=Zr(r,i,b),r}function Yy(r,i,o,d){return vi(),i.flags|=256,xa(r,i,o,d),i.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vh(r){return{baseLanes:r,cachePool:_p()}}function dh(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=ar),r}function Xy(r,i,o){var d=i.pendingProps,b=!1,w=(i.flags&128)!==0,N;if((N=w)||(N=r!==null&&r.memoizedState===null?!1:(Kt.current&2)!==0),N&&(b=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,r===null){if(ct){if(b?An(i):Dn(),(r=Nt)?(r=e0(r,dr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:bn!==null?{id:Or,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},o=Cp(r),o.return=i,i.child=o,ba=i,Nt=null)):r=null,r===null)throw xn(i);return Qh(r)?i.lanes=32:i.lanes=536870912,null}var F=d.children;return d=d.fallback,b?(Dn(),b=i.mode,F=so({mode:"hidden",children:F},b),d=hi(d,b,o,null),F.return=i,d.return=i,F.sibling=d,i.child=F,d=i.child,d.memoizedState=vh(o),d.childLanes=dh(r,N,o),i.memoizedState=hh,ms(null,d)):(An(i),gh(i,F))}var Z=r.memoizedState;if(Z!==null&&(F=Z.dehydrated,F!==null)){if(w)i.flags&256?(An(i),i.flags&=-257,i=ph(r,i,o)):i.memoizedState!==null?(Dn(),i.child=r.child,i.flags|=128,i=null):(Dn(),F=d.fallback,b=i.mode,d=so({mode:"visible",children:d.children},b),F=hi(F,b,o,null),F.flags|=2,d.return=i,F.return=i,d.sibling=F,i.child=d,bi(i,r.child,null,o),d=i.child,d.memoizedState=vh(o),d.childLanes=dh(r,N,o),i.memoizedState=hh,i=ms(null,d));else if(An(i),Qh(F)){if(N=F.nextSibling&&F.nextSibling.dataset,N)var se=N.dgst;N=se,d=Error(n(419)),d.stack="",d.digest=N,ls({value:d,source:null,stack:null}),i=ph(r,i,o)}else if(Jt||tl(r,i,o,!1),N=(o&r.childLanes)!==0,Jt||N){if(N=Rt,N!==null&&(d=qt(N,o),d!==0&&d!==Z.retryLane))throw Z.retryLane=d,ci(r,d),Xa(N,r,d),fh;Zh(F)||yo(),i=ph(r,i,o)}else Zh(F)?(i.flags|=192,i.child=r.child,i=null):(r=Z.treeContext,Nt=pr(F.nextSibling),ba=i,ct=!0,En=null,dr=!1,r!==null&&Rp(i,r),i=gh(i,d.children),i.flags|=4096);return i}return b?(Dn(),F=d.fallback,b=i.mode,Z=r.child,se=Z.sibling,d=Hr(Z,{mode:"hidden",children:d.children}),d.subtreeFlags=Z.subtreeFlags&65011712,se!==null?F=Hr(se,F):(F=hi(F,b,o,null),F.flags|=2),F.return=i,d.return=i,d.sibling=F,i.child=d,ms(null,d),d=i.child,F=r.child.memoizedState,F===null?F=vh(o):(b=F.cachePool,b!==null?(Z=Wt._currentValue,b=b.parent!==Z?{parent:Z,pool:Z}:b):b=_p(),F={baseLanes:F.baseLanes|o,cachePool:b}),d.memoizedState=F,d.childLanes=dh(r,N,o),i.memoizedState=hh,ms(r.child,d)):(An(i),o=r.child,r=o.sibling,o=Hr(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,r!==null&&(N=i.deletions,N===null?(i.deletions=[r],i.flags|=16):N.push(r)),i.child=o,i.memoizedState=null,o)}function gh(r,i){return i=so({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function so(r,i){return r=$a(22,r,null,i),r.lanes=0,r}function ph(r,i,o){return bi(i,r.child,null,o),r=gh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function jy(r,i,o){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Lc(r.return,i,o)}function yh(r,i,o,d,b,w){var N=r.memoizedState;N===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:b,treeForkCount:w}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=o,N.tailMode=b,N.treeForkCount=w)}function Ky(r,i,o){var d=i.pendingProps,b=d.revealOrder,w=d.tail;d=d.children;var N=Kt.current,F=(N&2)!==0;if(F?(N=N&1|2,i.flags|=128):N&=1,j(Kt,N),xa(r,i,d,o),d=ct?is:0,!F&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jy(r,o,i);else if(r.tag===19)jy(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(b){case"forwards":for(o=i.child,b=null;o!==null;)r=o.alternate,r!==null&&Zu(r)===null&&(b=o),o=o.sibling;o=b,o===null?(b=i.child,i.child=null):(b=o.sibling,o.sibling=null),yh(i,!1,b,o,w,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,b=i.child,i.child=null;b!==null;){if(r=b.alternate,r!==null&&Zu(r)===null){i.child=b;break}r=b.sibling,b.sibling=o,o=b,b=r}yh(i,!0,o,null,w,d);break;case"together":yh(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function Zr(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Mn|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(tl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,o=Hr(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Hr(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function mh(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Fu(r)))}function Bw(r,i,o){switch(i.tag){case 3:pe(i,i.stateNode.containerInfo),Tn(i,Wt,r.memoizedState.cache),vi();break;case 27:case 5:ee(i);break;case 4:pe(i,i.stateNode.containerInfo);break;case 10:Tn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Hc(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(An(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Xy(r,i,o):(An(i),r=Zr(r,i,o),r!==null?r.sibling:null);An(i);break;case 19:var b=(r.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(tl(r,i,o,!1),d=(o&i.childLanes)!==0),b){if(d)return Ky(r,i,o);i.flags|=128}if(b=i.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),j(Kt,Kt.current),d)break;return null;case 22:return i.lanes=0,Py(r,i,o,i.pendingProps);case 24:Tn(i,Wt,r.memoizedState.cache)}return Zr(r,i,o)}function Zy(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Jt=!0;else{if(!mh(r,o)&&(i.flags&128)===0)return Jt=!1,Bw(r,i,o);Jt=(r.flags&131072)!==0}else Jt=!1,ct&&(i.flags&1048576)!==0&&Dp(i,is,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(r=yi(i.elementType),i.type=r,typeof r=="function")wc(r)?(d=xi(r,d),i.tag=1,i=Vy(null,i,r,d,o)):(i.tag=0,i=ch(null,i,r,d,o));else{if(r!=null){var b=r.$$typeof;if(b===O){i.tag=11,i=Iy(null,i,r,d,o);break e}else if(b===D){i.tag=14,i=Uy(null,i,r,d,o);break e}}throw i=P(r)||r,Error(n(306,i,""))}}return i;case 0:return ch(r,i,i.type,i.pendingProps,o);case 1:return d=i.type,b=xi(d,i.pendingProps),Vy(r,i,d,b,o);case 3:e:{if(pe(i,i.stateNode.containerInfo),r===null)throw Error(n(387));d=i.pendingProps;var w=i.memoizedState;b=w.element,Uc(r,i),vs(i,d,null,o);var N=i.memoizedState;if(d=N.cache,Tn(i,Wt,d),d!==w.cache&&Nc(i,[Wt],o,!0),hs(),d=N.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=Yy(r,i,d,o);break e}else if(d!==b){b=cr(Error(n(424)),i),ls(b),i=Yy(r,i,d,o);break e}else for(r=i.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Nt=pr(r.firstChild),ba=i,ct=!0,En=null,dr=!0,o=Pp(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(vi(),d===b){i=Zr(r,i,o);break e}xa(r,i,d,o)}i=i.child}return i;case 26:return lo(r,i),r===null?(o=l0(i.type,null,i.pendingProps,null))?i.memoizedState=o:ct||(o=i.type,r=i.pendingProps,d=So(ne.current).createElement(o),d[zt]=i,d[ra]=r,Ta(d,o,r),Qt(d),i.stateNode=d):i.memoizedState=l0(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return ee(i),r===null&&ct&&(d=i.stateNode=r0(i.type,i.pendingProps,ne.current),ba=i,dr=!0,b=Nt,zn(i.type)?(Wh=b,Nt=pr(d.firstChild)):Nt=b),xa(r,i,i.pendingProps.children,o),lo(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&ct&&((b=d=Nt)&&(d=oS(d,i.type,i.pendingProps,dr),d!==null?(i.stateNode=d,ba=i,Nt=pr(d.firstChild),dr=!1,b=!0):b=!1),b||xn(i)),ee(i),b=i.type,w=i.pendingProps,N=r!==null?r.memoizedProps:null,d=w.children,Xh(b,w)?d=null:N!==null&&Xh(b,N)&&(i.flags|=32),i.memoizedState!==null&&(b=Yc(r,i,Sw,null,null,o),Bs._currentValue=b),lo(r,i),xa(r,i,d,o),i.child;case 6:return r===null&&ct&&((r=o=Nt)&&(o=fS(o,i.pendingProps,dr),o!==null?(i.stateNode=o,ba=i,Nt=null,r=!0):r=!1),r||xn(i)),null;case 13:return Xy(r,i,o);case 4:return pe(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=bi(i,null,d,o):xa(r,i,d,o),i.child;case 11:return Iy(r,i,i.type,i.pendingProps,o);case 7:return xa(r,i,i.pendingProps,o),i.child;case 8:return xa(r,i,i.pendingProps.children,o),i.child;case 12:return xa(r,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,Tn(i,i.type,d.value),xa(r,i,d.children,o),i.child;case 9:return b=i.type._context,d=i.pendingProps.children,gi(i),b=Ea(b),d=d(b),i.flags|=1,xa(r,i,d,o),i.child;case 14:return Uy(r,i,i.type,i.pendingProps,o);case 15:return Gy(r,i,i.type,i.pendingProps,o);case 19:return Ky(r,i,o);case 31:return Nw(r,i,o);case 22:return Py(r,i,o,i.pendingProps);case 24:return gi(i),d=Ea(Wt),r===null?(b=zc(),b===null&&(b=Rt,w=Bc(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=o),b=w),i.memoizedState={parent:d,cache:b},Ic(i),Tn(i,Wt,b)):((r.lanes&o)!==0&&(Uc(r,i),vs(i,null,null,o),hs()),b=r.memoizedState,w=i.memoizedState,b.parent!==d?(b={parent:d,cache:d},i.memoizedState=b,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=b),Tn(i,Wt,d)):(d=w.cache,Tn(i,Wt,d),d!==b.cache&&Nc(i,[Wt],o,!0))),xa(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Qr(r){r.flags|=4}function bh(r,i,o,d,b){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(b&335544128)===b)if(r.stateNode.complete)r.flags|=8192;else if(Tm())r.flags|=8192;else throw mi=Yu,kc}else r.flags&=-16777217}function Qy(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!c0(i))if(Tm())r.flags|=8192;else throw mi=Yu,kc}function uo(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?at():536870912,r.lanes|=i,vl|=i)}function bs(r,i){if(!ct)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Bt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(i)for(var b=r.child;b!==null;)o|=b.lanes|b.childLanes,d|=b.subtreeFlags&65011712,d|=b.flags&65011712,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)o|=b.lanes|b.childLanes,d|=b.subtreeFlags,d|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=d,r.childLanes=o,i}function _w(r,i,o){var d=i.pendingProps;switch(Dc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(i),null;case 1:return Bt(i),null;case 3:return o=i.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Xr(Wt),ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(el(i)?Qr(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Oc())),Bt(i),null;case 26:var b=i.type,w=i.memoizedState;return r===null?(Qr(i),w!==null?(Bt(i),Qy(i,w)):(Bt(i),bh(i,b,null,d,o))):w?w!==r.memoizedState?(Qr(i),Bt(i),Qy(i,w)):(Bt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==d&&Qr(i),Bt(i),bh(i,b,r,d,o)),null;case 27:if(W(i),o=ne.current,b=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&Qr(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Bt(i),null}r=Q.current,el(i)?Op(i):(r=r0(b,d,o),i.stateNode=r,Qr(i))}return Bt(i),null;case 5:if(W(i),b=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&Qr(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Bt(i),null}if(w=Q.current,el(i))Op(i);else{var N=So(ne.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?w.multiple=!0:d.size&&(w.size=d.size);break;default:w=typeof d.is=="string"?N.createElement(b,{is:d.is}):N.createElement(b)}}w[zt]=i,w[ra]=d;e:for(N=i.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===i)break e;for(;N.sibling===null;){if(N.return===null||N.return===i)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}i.stateNode=w;e:switch(Ta(w,b,d),b){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Qr(i)}}return Bt(i),bh(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==d&&Qr(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(r=ne.current,el(i)){if(r=i.stateNode,o=i.memoizedProps,d=null,b=ba,b!==null)switch(b.tag){case 27:case 5:d=b.memoizedProps}r[zt]=i,r=!!(r.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||Xm(r.nodeValue,o)),r||xn(i,!0)}else r=So(r).createTextNode(d),r[zt]=i,i.stateNode=r}return Bt(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(d=el(i),o!==null){if(r===null){if(!d)throw Error(n(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(557));r[zt]=i}else vi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Bt(i),r=!1}else o=Oc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(er(i),i):(er(i),null);if((i.flags&128)!==0)throw Error(n(558))}return Bt(i),null;case 13:if(d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(b=el(i),d!==null&&d.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=i.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[zt]=i}else vi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Bt(i),b=!1}else b=Oc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),b=!0;if(!b)return i.flags&256?(er(i),i):(er(i),null)}return er(i),(i.flags&128)!==0?(i.lanes=o,i):(o=d!==null,r=r!==null&&r.memoizedState!==null,o&&(d=i.child,b=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(b=d.alternate.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==b&&(d.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),uo(i,i.updateQueue),Bt(i),null);case 4:return ie(),r===null&&Fh(i.stateNode.containerInfo),Bt(i),null;case 10:return Xr(i.type),Bt(i),null;case 19:if(q(Kt),d=i.memoizedState,d===null)return Bt(i),null;if(b=(i.flags&128)!==0,w=d.rendering,w===null)if(b)bs(d,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=Zu(r),w!==null){for(i.flags|=128,bs(d,!1),r=w.updateQueue,i.updateQueue=r,uo(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Sp(o,r),o=o.sibling;return j(Kt,Kt.current&1|2),ct&&Vr(i,d.treeForkCount),i.child}r=r.sibling}d.tail!==null&&Ce()>vo&&(i.flags|=128,b=!0,bs(d,!1),i.lanes=4194304)}else{if(!b)if(r=Zu(w),r!==null){if(i.flags|=128,b=!0,r=r.updateQueue,i.updateQueue=r,uo(i,r),bs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!w.alternate&&!ct)return Bt(i),null}else 2*Ce()-d.renderingStartTime>vo&&o!==536870912&&(i.flags|=128,b=!0,bs(d,!1),i.lanes=4194304);d.isBackwards?(w.sibling=i.child,i.child=w):(r=d.last,r!==null?r.sibling=w:i.child=w,d.last=w)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Ce(),r.sibling=null,o=Kt.current,j(Kt,b?o&1|2:o&1),ct&&Vr(i,d.treeForkCount),r):(Bt(i),null);case 22:case 23:return er(i),qc(),d=i.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(Bt(i),i.subtreeFlags&6&&(i.flags|=8192)):Bt(i),o=i.updateQueue,o!==null&&uo(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),r!==null&&q(pi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Xr(Wt),Bt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function zw(r,i){switch(Dc(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Xr(Wt),ie(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return W(i),null;case 31:if(i.memoizedState!==null){if(er(i),i.alternate===null)throw Error(n(340));vi()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(er(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));vi()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return q(Kt),null;case 4:return ie(),null;case 10:return Xr(i.type),null;case 22:case 23:return er(i),qc(),r!==null&&q(pi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Xr(Wt),null;case 25:return null;default:return null}}function Wy(r,i){switch(Dc(i),i.tag){case 3:Xr(Wt),ie();break;case 26:case 27:case 5:W(i);break;case 4:ie();break;case 31:i.memoizedState!==null&&er(i);break;case 13:er(i);break;case 19:q(Kt);break;case 10:Xr(i.type);break;case 22:case 23:er(i),qc(),r!==null&&q(pi);break;case 24:Xr(Wt)}}function Es(r,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var b=d.next;o=b;do{if((o.tag&r)===r){d=void 0;var w=o.create,N=o.inst;d=w(),N.destroy=d}o=o.next}while(o!==b)}}catch(F){Tt(i,i.return,F)}}function Rn(r,i,o){try{var d=i.updateQueue,b=d!==null?d.lastEffect:null;if(b!==null){var w=b.next;d=w;do{if((d.tag&r)===r){var N=d.inst,F=N.destroy;if(F!==void 0){N.destroy=void 0,b=i;var Z=o,se=F;try{se()}catch(ye){Tt(b,Z,ye)}}}d=d.next}while(d!==w)}}catch(ye){Tt(i,i.return,ye)}}function $y(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{qp(i,o)}catch(d){Tt(r,r.return,d)}}}function Jy(r,i,o){o.props=xi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(d){Tt(r,i,d)}}function xs(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(b){Tt(r,i,b)}}function Lr(r,i){var o=r.ref,d=r.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(b){Tt(r,i,b)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(b){Tt(r,i,b)}else o.current=null}function em(r){var i=r.type,o=r.memoizedProps,d=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(b){Tt(r,r.return,b)}}function Eh(r,i,o){try{var d=r.stateNode;rS(d,r.type,o,i),d[ra]=i}catch(b){Tt(r,r.return,b)}}function tm(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&zn(r.type)||r.tag===4}function xh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||tm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&zn(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Th(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Fr));else if(d!==4&&(d===27&&zn(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Th(r,i,o),r=r.sibling;r!==null;)Th(r,i,o),r=r.sibling}function oo(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(d!==4&&(d===27&&zn(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(oo(r,i,o),r=r.sibling;r!==null;)oo(r,i,o),r=r.sibling}function am(r){var i=r.stateNode,o=r.memoizedProps;try{for(var d=r.type,b=i.attributes;b.length;)i.removeAttributeNode(b[0]);Ta(i,d,o),i[zt]=r,i[ra]=o}catch(w){Tt(r,r.return,w)}}var Wr=!1,ea=!1,wh=!1,rm=typeof WeakSet=="function"?WeakSet:Set,da=null;function kw(r,i){if(r=r.containerInfo,Vh=Lo,r=gp(r),pc(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var b=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{o.nodeType,w.nodeType}catch{o=null;break e}var N=0,F=-1,Z=-1,se=0,ye=0,Ee=r,oe=null;t:for(;;){for(var ve;Ee!==o||b!==0&&Ee.nodeType!==3||(F=N+b),Ee!==w||d!==0&&Ee.nodeType!==3||(Z=N+d),Ee.nodeType===3&&(N+=Ee.nodeValue.length),(ve=Ee.firstChild)!==null;)oe=Ee,Ee=ve;for(;;){if(Ee===r)break t;if(oe===o&&++se===b&&(F=N),oe===w&&++ye===d&&(Z=N),(ve=Ee.nextSibling)!==null)break;Ee=oe,oe=Ee.parentNode}Ee=ve}o=F===-1||Z===-1?null:{start:F,end:Z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yh={focusedElem:r,selectionRange:o},Lo=!1,da=i;da!==null;)if(i=da,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,da=r;else for(;da!==null;){switch(i=da,w=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)b=r[o],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,o=i,b=w.memoizedProps,w=w.memoizedState,d=o.stateNode;try{var Ie=xi(o.type,b);r=d.getSnapshotBeforeUpdate(Ie,w),d.__reactInternalSnapshotBeforeUpdate=r}catch(Ze){Tt(o,o.return,Ze)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Kh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Kh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=i.sibling,r!==null){r.return=i.return,da=r;break}da=i.return}}function nm(r,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Jr(r,o),d&4&&Es(5,o);break;case 1:if(Jr(r,o),d&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(N){Tt(o,o.return,N)}else{var b=xi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(b,i,r.__reactInternalSnapshotBeforeUpdate)}catch(N){Tt(o,o.return,N)}}d&64&&$y(o),d&512&&xs(o,o.return);break;case 3:if(Jr(r,o),d&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{qp(r,i)}catch(N){Tt(o,o.return,N)}}break;case 27:i===null&&d&4&&am(o);case 26:case 5:Jr(r,o),i===null&&d&4&&em(o),d&512&&xs(o,o.return);break;case 12:Jr(r,o);break;case 31:Jr(r,o),d&4&&sm(r,o);break;case 13:Jr(r,o),d&4&&um(r,o),d&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Yw.bind(null,o),cS(r,o))));break;case 22:if(d=o.memoizedState!==null||Wr,!d){i=i!==null&&i.memoizedState!==null||ea,b=Wr;var w=ea;Wr=d,(ea=i)&&!w?en(r,o,(o.subtreeFlags&8772)!==0):Jr(r,o),Wr=b,ea=w}break;case 30:break;default:Jr(r,o)}}function im(r){var i=r.alternate;i!==null&&(r.alternate=null,im(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Fi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,qa=!1;function $r(r,i,o){for(o=o.child;o!==null;)lm(r,i,o),o=o.sibling}function lm(r,i,o){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(H,o)}catch{}switch(o.tag){case 26:ea||Lr(o,i),$r(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ea||Lr(o,i);var d=kt,b=qa;zn(o.type)&&(kt=o.stateNode,qa=!1),$r(r,i,o),Ms(o.stateNode),kt=d,qa=b;break;case 5:ea||Lr(o,i);case 6:if(d=kt,b=qa,kt=null,$r(r,i,o),kt=d,qa=b,kt!==null)if(qa)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(o.stateNode)}catch(w){Tt(o,i,w)}else try{kt.removeChild(o.stateNode)}catch(w){Tt(o,i,w)}break;case 18:kt!==null&&(qa?(r=kt,$m(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),xl(r)):$m(kt,o.stateNode));break;case 4:d=kt,b=qa,kt=o.stateNode.containerInfo,qa=!0,$r(r,i,o),kt=d,qa=b;break;case 0:case 11:case 14:case 15:Rn(2,o,i),ea||Rn(4,o,i),$r(r,i,o);break;case 1:ea||(Lr(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Jy(o,i,d)),$r(r,i,o);break;case 21:$r(r,i,o);break;case 22:ea=(d=ea)||o.memoizedState!==null,$r(r,i,o),ea=d;break;default:$r(r,i,o)}}function sm(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{xl(r)}catch(o){Tt(i,i.return,o)}}}function um(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{xl(r)}catch(o){Tt(i,i.return,o)}}function Iw(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new rm),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new rm),i;default:throw Error(n(435,r.tag))}}function fo(r,i){var o=Iw(r);i.forEach(function(d){if(!o.has(d)){o.add(d);var b=Xw.bind(null,r,d);d.then(b,b)}})}function Ha(r,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var b=o[d],w=r,N=i,F=N;e:for(;F!==null;){switch(F.tag){case 27:if(zn(F.type)){kt=F.stateNode,qa=!1;break e}break;case 5:kt=F.stateNode,qa=!1;break e;case 3:case 4:kt=F.stateNode.containerInfo,qa=!0;break e}F=F.return}if(kt===null)throw Error(n(160));lm(w,N,b),kt=null,qa=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)om(i,r),i=i.sibling}var Tr=null;function om(r,i){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ha(i,r),Va(r),d&4&&(Rn(3,r,r.return),Es(3,r),Rn(5,r,r.return));break;case 1:Ha(i,r),Va(r),d&512&&(ea||o===null||Lr(o,o.return)),d&64&&Wr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var b=Tr;if(Ha(i,r),Va(r),d&512&&(ea||o===null||Lr(o,o.return)),d&4){var w=o!==null?o.memoizedState:null;if(d=r.memoizedState,o===null)if(d===null)if(r.stateNode===null){e:{d=r.type,o=r.memoizedProps,b=b.ownerDocument||b;t:switch(d){case"title":w=b.getElementsByTagName("title")[0],(!w||w[ha]||w[zt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(d),b.head.insertBefore(w,b.querySelector("head > title"))),Ta(w,d,o),w[zt]=r,Qt(w),d=w;break e;case"link":var N=o0("link","href",b).get(d+(o.href||""));if(N){for(var F=0;F<N.length;F++)if(w=N[F],w.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&w.getAttribute("rel")===(o.rel==null?null:o.rel)&&w.getAttribute("title")===(o.title==null?null:o.title)&&w.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(F,1);break t}}w=b.createElement(d),Ta(w,d,o),b.head.appendChild(w);break;case"meta":if(N=o0("meta","content",b).get(d+(o.content||""))){for(F=0;F<N.length;F++)if(w=N[F],w.getAttribute("content")===(o.content==null?null:""+o.content)&&w.getAttribute("name")===(o.name==null?null:o.name)&&w.getAttribute("property")===(o.property==null?null:o.property)&&w.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&w.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(F,1);break t}}w=b.createElement(d),Ta(w,d,o),b.head.appendChild(w);break;default:throw Error(n(468,d))}w[zt]=r,Qt(w),d=w}r.stateNode=d}else f0(b,r.type,r.stateNode);else r.stateNode=u0(b,d,r.memoizedProps);else w!==d?(w===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):w.count--,d===null?f0(b,r.type,r.stateNode):u0(b,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Eh(r,r.memoizedProps,o.memoizedProps)}break;case 27:Ha(i,r),Va(r),d&512&&(ea||o===null||Lr(o,o.return)),o!==null&&d&4&&Eh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Ha(i,r),Va(r),d&512&&(ea||o===null||Lr(o,o.return)),r.flags&32){b=r.stateNode;try{Vi(b,"")}catch(Ie){Tt(r,r.return,Ie)}}d&4&&r.stateNode!=null&&(b=r.memoizedProps,Eh(r,b,o!==null?o.memoizedProps:b)),d&1024&&(wh=!0);break;case 6:if(Ha(i,r),Va(r),d&4){if(r.stateNode===null)throw Error(n(162));d=r.memoizedProps,o=r.stateNode;try{o.nodeValue=d}catch(Ie){Tt(r,r.return,Ie)}}break;case 3:if(Do=null,b=Tr,Tr=Co(i.containerInfo),Ha(i,r),Tr=b,Va(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(Ie){Tt(r,r.return,Ie)}wh&&(wh=!1,fm(r));break;case 4:d=Tr,Tr=Co(r.stateNode.containerInfo),Ha(i,r),Va(r),Tr=d;break;case 12:Ha(i,r),Va(r);break;case 31:Ha(i,r),Va(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,fo(r,d)));break;case 13:Ha(i,r),Va(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ho=Ce()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,fo(r,d)));break;case 22:b=r.memoizedState!==null;var Z=o!==null&&o.memoizedState!==null,se=Wr,ye=ea;if(Wr=se||b,ea=ye||Z,Ha(i,r),ea=ye,Wr=se,Va(r),d&8192)e:for(i=r.stateNode,i._visibility=b?i._visibility&-2:i._visibility|1,b&&(o===null||Z||Wr||ea||Ti(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){Z=o=i;try{if(w=Z.stateNode,b)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{F=Z.stateNode;var Ee=Z.memoizedProps.style,oe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;F.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ie){Tt(Z,Z.return,Ie)}}}else if(i.tag===6){if(o===null){Z=i;try{Z.stateNode.nodeValue=b?"":Z.memoizedProps}catch(Ie){Tt(Z,Z.return,Ie)}}}else if(i.tag===18){if(o===null){Z=i;try{var ve=Z.stateNode;b?Jm(ve,!0):Jm(Z.stateNode,!1)}catch(Ie){Tt(Z,Z.return,Ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=r.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,fo(r,o))));break;case 19:Ha(i,r),Va(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,fo(r,d)));break;case 30:break;case 21:break;default:Ha(i,r),Va(r)}}function Va(r){var i=r.flags;if(i&2){try{for(var o,d=r.return;d!==null;){if(tm(d)){o=d;break}d=d.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var b=o.stateNode,w=xh(r);oo(r,w,b);break;case 5:var N=o.stateNode;o.flags&32&&(Vi(N,""),o.flags&=-33);var F=xh(r);oo(r,F,N);break;case 3:case 4:var Z=o.stateNode.containerInfo,se=xh(r);Th(r,se,Z);break;default:throw Error(n(161))}}catch(ye){Tt(r,r.return,ye)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function fm(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;fm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Jr(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)nm(r,i.alternate,i),i=i.sibling}function Ti(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Rn(4,i,i.return),Ti(i);break;case 1:Lr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Jy(i,i.return,o),Ti(i);break;case 27:Ms(i.stateNode);case 26:case 5:Lr(i,i.return),Ti(i);break;case 22:i.memoizedState===null&&Ti(i);break;case 30:Ti(i);break;default:Ti(i)}r=r.sibling}}function en(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,b=r,w=i,N=w.flags;switch(w.tag){case 0:case 11:case 15:en(b,w,o),Es(4,w);break;case 1:if(en(b,w,o),d=w,b=d.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(se){Tt(d,d.return,se)}if(d=w,b=d.updateQueue,b!==null){var F=d.stateNode;try{var Z=b.shared.hiddenCallbacks;if(Z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Z.length;b++)Fp(Z[b],F)}catch(se){Tt(d,d.return,se)}}o&&N&64&&$y(w),xs(w,w.return);break;case 27:am(w);case 26:case 5:en(b,w,o),o&&d===null&&N&4&&em(w),xs(w,w.return);break;case 12:en(b,w,o);break;case 31:en(b,w,o),o&&N&4&&sm(b,w);break;case 13:en(b,w,o),o&&N&4&&um(b,w);break;case 22:w.memoizedState===null&&en(b,w,o),xs(w,w.return);break;case 30:break;default:en(b,w,o)}i=i.sibling}}function Sh(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ss(o))}function Ch(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ss(r))}function wr(r,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cm(r,i,o,d),i=i.sibling}function cm(r,i,o,d){var b=i.flags;switch(i.tag){case 0:case 11:case 15:wr(r,i,o,d),b&2048&&Es(9,i);break;case 1:wr(r,i,o,d);break;case 3:wr(r,i,o,d),b&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ss(r)));break;case 12:if(b&2048){wr(r,i,o,d),r=i.stateNode;try{var w=i.memoizedProps,N=w.id,F=w.onPostCommit;typeof F=="function"&&F(N,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Z){Tt(i,i.return,Z)}}else wr(r,i,o,d);break;case 31:wr(r,i,o,d);break;case 13:wr(r,i,o,d);break;case 23:break;case 22:w=i.stateNode,N=i.alternate,i.memoizedState!==null?w._visibility&2?wr(r,i,o,d):Ts(r,i):w._visibility&2?wr(r,i,o,d):(w._visibility|=2,fl(r,i,o,d,(i.subtreeFlags&10256)!==0||!1)),b&2048&&Sh(N,i);break;case 24:wr(r,i,o,d),b&2048&&Ch(i.alternate,i);break;default:wr(r,i,o,d)}}function fl(r,i,o,d,b){for(b=b&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var w=r,N=i,F=o,Z=d,se=N.flags;switch(N.tag){case 0:case 11:case 15:fl(w,N,F,Z,b),Es(8,N);break;case 23:break;case 22:var ye=N.stateNode;N.memoizedState!==null?ye._visibility&2?fl(w,N,F,Z,b):Ts(w,N):(ye._visibility|=2,fl(w,N,F,Z,b)),b&&se&2048&&Sh(N.alternate,N);break;case 24:fl(w,N,F,Z,b),b&&se&2048&&Ch(N.alternate,N);break;default:fl(w,N,F,Z,b)}i=i.sibling}}function Ts(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,d=i,b=d.flags;switch(d.tag){case 22:Ts(o,d),b&2048&&Sh(d.alternate,d);break;case 24:Ts(o,d),b&2048&&Ch(d.alternate,d);break;default:Ts(o,d)}i=i.sibling}}var ws=8192;function cl(r,i,o){if(r.subtreeFlags&ws)for(r=r.child;r!==null;)hm(r,i,o),r=r.sibling}function hm(r,i,o){switch(r.tag){case 26:cl(r,i,o),r.flags&ws&&r.memoizedState!==null&&wS(o,Tr,r.memoizedState,r.memoizedProps);break;case 5:cl(r,i,o);break;case 3:case 4:var d=Tr;Tr=Co(r.stateNode.containerInfo),cl(r,i,o),Tr=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=ws,ws=16777216,cl(r,i,o),ws=d):cl(r,i,o));break;default:cl(r,i,o)}}function vm(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Ss(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];da=d,gm(d,r)}vm(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dm(r),r=r.sibling}function dm(r){switch(r.tag){case 0:case 11:case 15:Ss(r),r.flags&2048&&Rn(9,r,r.return);break;case 3:Ss(r);break;case 12:Ss(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,co(r)):Ss(r);break;default:Ss(r)}}function co(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];da=d,gm(d,r)}vm(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Rn(8,i,i.return),co(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,co(i));break;default:co(i)}r=r.sibling}}function gm(r,i){for(;da!==null;){var o=da;switch(o.tag){case 0:case 11:case 15:Rn(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ss(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,da=d;else e:for(o=r;da!==null;){d=da;var b=d.sibling,w=d.return;if(im(d),d===o){da=null;break e}if(b!==null){b.return=w,da=b;break e}da=w}}}var Uw={getCacheForType:function(r){var i=Ea(Wt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Ea(Wt).controller.signal}},Gw=typeof WeakMap=="function"?WeakMap:Map,mt=0,Rt=null,lt=null,ot=0,xt=0,tr=null,On=!1,hl=!1,Ah=!1,tn=0,Vt=0,Mn=0,wi=0,Dh=0,ar=0,vl=0,Cs=null,Ya=null,Rh=!1,ho=0,pm=0,vo=1/0,go=null,Ln=null,na=0,Nn=null,dl=null,an=0,Oh=0,Mh=null,ym=null,As=0,Lh=null;function rr(){return(mt&2)!==0&&ot!==0?ot&-ot:U.T!==null?Ih():Pt()}function mm(){if(ar===0)if((ot&536870912)===0||ct){var r=Be;Be<<=1,(Be&3932160)===0&&(Be=262144),ar=r}else ar=536870912;return r=Ja.current,r!==null&&(r.flags|=32),ar}function Xa(r,i,o){(r===Rt&&(xt===2||xt===9)||r.cancelPendingCommit!==null)&&(gl(r,0),Bn(r,ot,ar,!1)),wt(r,o),((mt&2)===0||r!==Rt)&&(r===Rt&&((mt&2)===0&&(wi|=o),Vt===4&&Bn(r,ot,ar,!1)),Nr(r))}function bm(r,i,o){if((mt&6)!==0)throw Error(n(327));var d=!o&&(i&127)===0&&(i&r.expiredLanes)===0||ke(r,i),b=d?qw(r,i):Bh(r,i,!0),w=d;do{if(b===0){hl&&!d&&Bn(r,i,0,!1);break}else{if(o=r.current.alternate,w&&!Pw(o)){b=Bh(r,i,!1),w=!1;continue}if(b===2){if(w=i,r.errorRecoveryDisabledLanes&w)var N=0;else N=r.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var F=r;b=Cs;var Z=F.current.memoizedState.isDehydrated;if(Z&&(gl(F,N).flags|=256),N=Bh(F,N,!1),N!==2){if(Ah&&!Z){F.errorRecoveryDisabledLanes|=w,wi|=w,b=4;break e}w=Ya,Ya=b,w!==null&&(Ya===null?Ya=w:Ya.push.apply(Ya,w))}b=N}if(w=!1,b!==2)continue}}if(b===1){gl(r,0),Bn(r,i,0,!0);break}e:{switch(d=r,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Bn(d,i,ar,!On);break e;case 2:Ya=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(b=ho+300-Ce(),10<b)){if(Bn(d,i,ar,!On),Je(d,0,!0)!==0)break e;an=i,d.timeoutHandle=Qm(Em.bind(null,d,o,Ya,go,Rh,i,ar,wi,vl,On,w,"Throttled",-0,0),b);break e}Em(d,o,Ya,go,Rh,i,ar,wi,vl,On,w,null,-0,0)}}break}while(!0);Nr(r)}function Em(r,i,o,d,b,w,N,F,Z,se,ye,Ee,oe,ve){if(r.timeoutHandle=-1,Ee=i.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fr},hm(i,w,Ee);var Ie=(w&62914560)===w?ho-Ce():(w&4194048)===w?pm-Ce():0;if(Ie=SS(Ee,Ie),Ie!==null){an=w,r.cancelPendingCommit=Ie(Rm.bind(null,r,i,w,o,d,b,N,F,Z,ye,Ee,null,oe,ve)),Bn(r,w,N,!se);return}}Rm(r,i,w,o,d,b,N,F,Z)}function Pw(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var b=o[d],w=b.getSnapshot;b=b.value;try{if(!Wa(w(),b))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bn(r,i,o,d){i&=~Dh,i&=~wi,r.suspendedLanes|=i,r.pingedLanes&=~i,d&&(r.warmLanes|=i),d=r.expirationTimes;for(var b=i;0<b;){var w=31-fe(b),N=1<<w;d[w]=-1,b&=~N}o!==0&&Gt(r,o,i)}function po(){return(mt&6)===0?(Ds(0),!1):!0}function Nh(){if(lt!==null){if(xt===0)var r=lt.return;else r=lt,Yr=di=null,Kc(r),il=null,os=0,r=lt;for(;r!==null;)Wy(r.alternate,r),r=r.return;lt=null}}function gl(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,lS(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),an=0,Nh(),Rt=r,lt=o=Hr(r.current,null),ot=i,xt=0,tr=null,On=!1,hl=ke(r,i),Ah=!1,vl=ar=Dh=wi=Mn=Vt=0,Ya=Cs=null,Rh=!1,(i&8)!==0&&(i|=i&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=i;0<d;){var b=31-fe(d),w=1<<b;i|=r[b],d&=~w}return tn=i,ku(),o}function xm(r,i){tt=null,U.H=ys,i===nl||i===Vu?(i=Ip(),xt=3):i===kc?(i=Ip(),xt=4):xt=i===fh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,tr=i,lt===null&&(Vt=1,no(r,cr(i,r.current)))}function Tm(){var r=Ja.current;return r===null?!0:(ot&4194048)===ot?gr===null:(ot&62914560)===ot||(ot&536870912)!==0?r===gr:!1}function wm(){var r=U.H;return U.H=ys,r===null?ys:r}function Sm(){var r=U.A;return U.A=Uw,r}function yo(){Vt=4,On||(ot&4194048)!==ot&&Ja.current!==null||(hl=!0),(Mn&134217727)===0&&(wi&134217727)===0||Rt===null||Bn(Rt,ot,ar,!1)}function Bh(r,i,o){var d=mt;mt|=2;var b=wm(),w=Sm();(Rt!==r||ot!==i)&&(go=null,gl(r,i)),i=!1;var N=Vt;e:do try{if(xt!==0&&lt!==null){var F=lt,Z=tr;switch(xt){case 8:Nh(),N=6;break e;case 3:case 2:case 9:case 6:Ja.current===null&&(i=!0);var se=xt;if(xt=0,tr=null,pl(r,F,Z,se),o&&hl){N=0;break e}break;default:se=xt,xt=0,tr=null,pl(r,F,Z,se)}}Fw(),N=Vt;break}catch(ye){xm(r,ye)}while(!0);return i&&r.shellSuspendCounter++,Yr=di=null,mt=d,U.H=b,U.A=w,lt===null&&(Rt=null,ot=0,ku()),N}function Fw(){for(;lt!==null;)Cm(lt)}function qw(r,i){var o=mt;mt|=2;var d=wm(),b=Sm();Rt!==r||ot!==i?(go=null,vo=Ce()+500,gl(r,i)):hl=ke(r,i);e:do try{if(xt!==0&&lt!==null){i=lt;var w=tr;t:switch(xt){case 1:xt=0,tr=null,pl(r,i,w,1);break;case 2:case 9:if(zp(w)){xt=0,tr=null,Am(i);break}i=function(){xt!==2&&xt!==9||Rt!==r||(xt=7),Nr(r)},w.then(i,i);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:zp(w)?(xt=0,tr=null,Am(i)):(xt=0,tr=null,pl(r,i,w,7));break;case 5:var N=null;switch(lt.tag){case 26:N=lt.memoizedState;case 5:case 27:var F=lt;if(N?c0(N):F.stateNode.complete){xt=0,tr=null;var Z=F.sibling;if(Z!==null)lt=Z;else{var se=F.return;se!==null?(lt=se,mo(se)):lt=null}break t}}xt=0,tr=null,pl(r,i,w,5);break;case 6:xt=0,tr=null,pl(r,i,w,6);break;case 8:Nh(),Vt=6;break e;default:throw Error(n(462))}}Hw();break}catch(ye){xm(r,ye)}while(!0);return Yr=di=null,U.H=d,U.A=b,mt=o,lt!==null?0:(Rt=null,ot=0,ku(),Vt)}function Hw(){for(;lt!==null&&!Le();)Cm(lt)}function Cm(r){var i=Zy(r.alternate,r,tn);r.memoizedProps=r.pendingProps,i===null?mo(r):lt=i}function Am(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=Hy(o,i,i.pendingProps,i.type,void 0,ot);break;case 11:i=Hy(o,i,i.pendingProps,i.type.render,i.ref,ot);break;case 5:Kc(i);default:Wy(o,i),i=lt=Sp(i,tn),i=Zy(o,i,tn)}r.memoizedProps=r.pendingProps,i===null?mo(r):lt=i}function pl(r,i,o,d){Yr=di=null,Kc(i),il=null,os=0;var b=i.return;try{if(Lw(r,b,i,o,ot)){Vt=1,no(r,cr(o,r.current)),lt=null;return}}catch(w){if(b!==null)throw lt=b,w;Vt=1,no(r,cr(o,r.current)),lt=null;return}i.flags&32768?(ct||d===1?r=!0:hl||(ot&536870912)!==0?r=!1:(On=r=!0,(d===2||d===9||d===3||d===6)&&(d=Ja.current,d!==null&&d.tag===13&&(d.flags|=16384))),Dm(i,r)):mo(i)}function mo(r){var i=r;do{if((i.flags&32768)!==0){Dm(i,On);return}r=i.return;var o=_w(i.alternate,i,tn);if(o!==null){lt=o;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=r}while(i!==null);Vt===0&&(Vt=5)}function Dm(r,i){do{var o=zw(r.alternate,r);if(o!==null){o.flags&=32767,lt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){lt=r;return}lt=r=o}while(r!==null);Vt=6,lt=null}function Rm(r,i,o,d,b,w,N,F,Z){r.cancelPendingCommit=null;do bo();while(na!==0);if((mt&6)!==0)throw Error(n(327));if(i!==null){if(i===r.current)throw Error(n(177));if(w=i.lanes|i.childLanes,w|=xc,ma(r,o,w,N,F,Z),r===Rt&&(lt=Rt=null,ot=0),dl=i,Nn=r,an=o,Oh=w,Mh=b,ym=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,jw($e,function(){return Bm(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=U.T,U.T=null,b=G.p,G.p=2,N=mt,mt|=4;try{kw(r,i,o)}finally{mt=N,G.p=b,U.T=d}}na=1,Om(),Mm(),Lm()}}function Om(){if(na===1){na=0;var r=Nn,i=dl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var d=G.p;G.p=2;var b=mt;mt|=4;try{om(i,r);var w=Yh,N=gp(r.containerInfo),F=w.focusedElem,Z=w.selectionRange;if(N!==F&&F&&F.ownerDocument&&dp(F.ownerDocument.documentElement,F)){if(Z!==null&&pc(F)){var se=Z.start,ye=Z.end;if(ye===void 0&&(ye=se),"selectionStart"in F)F.selectionStart=se,F.selectionEnd=Math.min(ye,F.value.length);else{var Ee=F.ownerDocument||document,oe=Ee&&Ee.defaultView||window;if(oe.getSelection){var ve=oe.getSelection(),Ie=F.textContent.length,Ze=Math.min(Z.start,Ie),At=Z.end===void 0?Ze:Math.min(Z.end,Ie);!ve.extend&&Ze>At&&(N=At,At=Ze,Ze=N);var te=vp(F,Ze),$=vp(F,At);if(te&&$&&(ve.rangeCount!==1||ve.anchorNode!==te.node||ve.anchorOffset!==te.offset||ve.focusNode!==$.node||ve.focusOffset!==$.offset)){var le=Ee.createRange();le.setStart(te.node,te.offset),ve.removeAllRanges(),Ze>At?(ve.addRange(le),ve.extend($.node,$.offset)):(le.setEnd($.node,$.offset),ve.addRange(le))}}}}for(Ee=[],ve=F;ve=ve.parentNode;)ve.nodeType===1&&Ee.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ee.length;F++){var be=Ee[F];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Lo=!!Vh,Yh=Vh=null}finally{mt=b,G.p=d,U.T=o}}r.current=i,na=2}}function Mm(){if(na===2){na=0;var r=Nn,i=dl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var d=G.p;G.p=2;var b=mt;mt|=4;try{nm(r,i.alternate,i)}finally{mt=b,G.p=d,U.T=o}}na=3}}function Lm(){if(na===4||na===3){na=0,Ye();var r=Nn,i=dl,o=an,d=ym;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?na=5:(na=0,dl=Nn=null,Nm(r,r.pendingLanes));var b=r.pendingLanes;if(b===0&&(Ln=null),lr(o),i=i.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(H,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=U.T,b=G.p,G.p=2,U.T=null;try{for(var w=r.onRecoverableError,N=0;N<d.length;N++){var F=d[N];w(F.value,{componentStack:F.stack})}}finally{U.T=i,G.p=b}}(an&3)!==0&&bo(),Nr(r),b=r.pendingLanes,(o&261930)!==0&&(b&42)!==0?r===Lh?As++:(As=0,Lh=r):As=0,Ds(0)}}function Nm(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,ss(i)))}function bo(){return Om(),Mm(),Lm(),Bm()}function Bm(){if(na!==5)return!1;var r=Nn,i=Oh;Oh=0;var o=lr(an),d=U.T,b=G.p;try{G.p=32>o?32:o,U.T=null,o=Mh,Mh=null;var w=Nn,N=an;if(na=0,dl=Nn=null,an=0,(mt&6)!==0)throw Error(n(331));var F=mt;if(mt|=4,dm(w.current),cm(w,w.current,N,o),mt=F,Ds(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(H,w)}catch{}return!0}finally{G.p=b,U.T=d,Nm(r,i)}}function _m(r,i,o){i=cr(o,i),i=oh(r.stateNode,i,2),r=Cn(r,i,2),r!==null&&(wt(r,2),Nr(r))}function Tt(r,i,o){if(r.tag===3)_m(r,r,o);else for(;i!==null;){if(i.tag===3){_m(i,r,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ln===null||!Ln.has(d))){r=cr(o,r),o=zy(2),d=Cn(i,o,2),d!==null&&(ky(o,d,i,r),wt(d,2),Nr(d));break}}i=i.return}}function _h(r,i,o){var d=r.pingCache;if(d===null){d=r.pingCache=new Gw;var b=new Set;d.set(i,b)}else b=d.get(i),b===void 0&&(b=new Set,d.set(i,b));b.has(o)||(Ah=!0,b.add(o),r=Vw.bind(null,r,i,o),i.then(r,r))}function Vw(r,i,o){var d=r.pingCache;d!==null&&d.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Rt===r&&(ot&o)===o&&(Vt===4||Vt===3&&(ot&62914560)===ot&&300>Ce()-ho?(mt&2)===0&&gl(r,0):Dh|=o,vl===ot&&(vl=0)),Nr(r)}function zm(r,i){i===0&&(i=at()),r=ci(r,i),r!==null&&(wt(r,i),Nr(r))}function Yw(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),zm(r,o)}function Xw(r,i){var o=0;switch(r.tag){case 31:case 13:var d=r.stateNode,b=r.memoizedState;b!==null&&(o=b.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(i),zm(r,o)}function jw(r,i){return we(r,i)}var Eo=null,yl=null,zh=!1,xo=!1,kh=!1,_n=0;function Nr(r){r!==yl&&r.next===null&&(yl===null?Eo=yl=r:yl=yl.next=r),xo=!0,zh||(zh=!0,Zw())}function Ds(r,i){if(!kh&&xo){kh=!0;do for(var o=!1,d=Eo;d!==null;){if(r!==0){var b=d.pendingLanes;if(b===0)var w=0;else{var N=d.suspendedLanes,F=d.pingedLanes;w=(1<<31-fe(42|r)+1)-1,w&=b&~(N&~F),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(o=!0,Gm(d,w))}else w=ot,w=Je(d,d===Rt?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||ke(d,w)||(o=!0,Gm(d,w));d=d.next}while(o);kh=!1}}function Kw(){km()}function km(){xo=zh=!1;var r=0;_n!==0&&iS()&&(r=_n);for(var i=Ce(),o=null,d=Eo;d!==null;){var b=d.next,w=Im(d,i);w===0?(d.next=null,o===null?Eo=b:o.next=b,b===null&&(yl=o)):(o=d,(r!==0||(w&3)!==0)&&(xo=!0)),d=b}na!==0&&na!==5||Ds(r),_n!==0&&(_n=0)}function Im(r,i){for(var o=r.suspendedLanes,d=r.pingedLanes,b=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var N=31-fe(w),F=1<<N,Z=b[N];Z===-1?((F&o)===0||(F&d)!==0)&&(b[N]=nt(F,i)):Z<=i&&(r.expiredLanes|=F),w&=~F}if(i=Rt,o=ot,o=Je(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,o===0||r===i&&(xt===2||xt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Ne(d),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ke(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(d!==null&&Ne(d),lr(o)){case 2:case 8:o=Qe;break;case 32:o=$e;break;case 268435456:o=Xe;break;default:o=$e}return d=Um.bind(null,r),o=we(o,d),r.callbackPriority=i,r.callbackNode=o,i}return d!==null&&d!==null&&Ne(d),r.callbackPriority=2,r.callbackNode=null,2}function Um(r,i){if(na!==0&&na!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(bo()&&r.callbackNode!==o)return null;var d=ot;return d=Je(r,r===Rt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(bm(r,d,i),Im(r,Ce()),r.callbackNode!=null&&r.callbackNode===o?Um.bind(null,r):null)}function Gm(r,i){if(bo())return null;bm(r,i,!0)}function Zw(){sS(function(){(mt&6)!==0?we(qe,Kw):km()})}function Ih(){if(_n===0){var r=al;r===0&&(r=Ge,Ge<<=1,(Ge&261888)===0&&(Ge=256)),_n=r}return _n}function Pm(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ru(""+r)}function Fm(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function Qw(r,i,o,d,b){if(i==="submit"&&o&&o.stateNode===b){var w=Pm((b[ra]||null).action),N=d.submitter;N&&(i=(i=N[ra]||null)?Pm(i.formAction):N.getAttribute("formAction"),i!==null&&(w=i,N=null));var F=new Nu("action","action",null,d,b);r.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(_n!==0){var Z=N?Fm(b,N):new FormData(b);rh(o,{pending:!0,data:Z,method:b.method,action:w},null,Z)}}else typeof w=="function"&&(F.preventDefault(),Z=N?Fm(b,N):new FormData(b),rh(o,{pending:!0,data:Z,method:b.method,action:w},w,Z))},currentTarget:b}]})}}for(var Uh=0;Uh<Ec.length;Uh++){var Gh=Ec[Uh],Ww=Gh.toLowerCase(),$w=Gh[0].toUpperCase()+Gh.slice(1);xr(Ww,"on"+$w)}xr(mp,"onAnimationEnd"),xr(bp,"onAnimationIteration"),xr(Ep,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(dw,"onTransitionRun"),xr(gw,"onTransitionStart"),xr(pw,"onTransitionCancel"),xr(xp,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function qm(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],b=d.event;d=d.listeners;e:{var w=void 0;if(i)for(var N=d.length-1;0<=N;N--){var F=d[N],Z=F.instance,se=F.currentTarget;if(F=F.listener,Z!==w&&b.isPropagationStopped())break e;w=F,b.currentTarget=se;try{w(b)}catch(ye){zu(ye)}b.currentTarget=null,w=Z}else for(N=0;N<d.length;N++){if(F=d[N],Z=F.instance,se=F.currentTarget,F=F.listener,Z!==w&&b.isPropagationStopped())break e;w=F,b.currentTarget=se;try{w(b)}catch(ye){zu(ye)}b.currentTarget=null,w=Z}}}}function st(r,i){var o=i[fa];o===void 0&&(o=i[fa]=new Set);var d=r+"__bubble";o.has(d)||(Hm(i,r,2,!1),o.add(d))}function Ph(r,i,o){var d=0;i&&(d|=4),Hm(o,r,d,i)}var To="_reactListening"+Math.random().toString(36).slice(2);function Fh(r){if(!r[To]){r[To]=!0,wu.forEach(function(o){o!=="selectionchange"&&(Jw.has(o)||Ph(o,!1,r),Ph(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[To]||(i[To]=!0,Ph("selectionchange",!1,i))}}function Hm(r,i,o,d){switch(m0(i)){case 2:var b=DS;break;case 8:b=RS;break;default:b=av}o=b.bind(null,i,o,r),b=void 0,!sc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(b=!0),d?b!==void 0?r.addEventListener(i,o,{capture:!0,passive:b}):r.addEventListener(i,o,!0):b!==void 0?r.addEventListener(i,o,{passive:b}):r.addEventListener(i,o,!1)}function qh(r,i,o,d,b){var w=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var F=d.stateNode.containerInfo;if(F===b)break;if(N===4)for(N=d.return;N!==null;){var Z=N.tag;if((Z===3||Z===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;F!==null;){if(N=dn(F),N===null)return;if(Z=N.tag,Z===5||Z===6||Z===26||Z===27){d=w=N;continue e}F=F.parentNode}}d=d.return}Kg(function(){var se=w,ye=ic(o),Ee=[];e:{var oe=Tp.get(r);if(oe!==void 0){var ve=Nu,Ie=r;switch(r){case"keypress":if(Mu(o)===0)break e;case"keydown":case"keyup":ve=XT;break;case"focusin":Ie="focus",ve=cc;break;case"focusout":Ie="blur",ve=cc;break;case"beforeblur":case"afterblur":ve=cc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=_T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=ZT;break;case mp:case bp:case Ep:ve=IT;break;case xp:ve=WT;break;case"scroll":case"scrollend":ve=NT;break;case"wheel":ve=JT;break;case"copy":case"cut":case"paste":ve=GT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Jg;break;case"toggle":case"beforetoggle":ve=tw}var Ze=(i&4)!==0,At=!Ze&&(r==="scroll"||r==="scrollend"),te=Ze?oe!==null?oe+"Capture":null:oe;Ze=[];for(var $=se,le;$!==null;){var be=$;if(le=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||le===null||te===null||(be=Ql($,te),be!=null&&Ze.push(Os($,be,le))),At)break;$=$.return}0<Ze.length&&(oe=new ve(oe,Ie,null,o,ye),Ee.push({event:oe,listeners:Ze}))}}if((i&7)===0){e:{if(oe=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",oe&&o!==nc&&(Ie=o.relatedTarget||o.fromElement)&&(dn(Ie)||Ie[Ga]))break e;if((ve||oe)&&(oe=ye.window===ye?ye:(oe=ye.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(Ie=o.relatedTarget||o.toElement,ve=se,Ie=Ie?dn(Ie):null,Ie!==null&&(At=s(Ie),Ze=Ie.tag,Ie!==At||Ze!==5&&Ze!==27&&Ze!==6)&&(Ie=null)):(ve=null,Ie=se),ve!==Ie)){if(Ze=Wg,be="onMouseLeave",te="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Ze=Jg,be="onPointerLeave",te="onPointerEnter",$="pointer"),At=ve==null?oe:si(ve),le=Ie==null?oe:si(Ie),oe=new Ze(be,$+"leave",ve,o,ye),oe.target=At,oe.relatedTarget=le,be=null,dn(ye)===se&&(Ze=new Ze(te,$+"enter",Ie,o,ye),Ze.target=le,Ze.relatedTarget=At,be=Ze),At=be,ve&&Ie)t:{for(Ze=eS,te=ve,$=Ie,le=0,be=te;be;be=Ze(be))le++;be=0;for(var Ve=$;Ve;Ve=Ze(Ve))be++;for(;0<le-be;)te=Ze(te),le--;for(;0<be-le;)$=Ze($),be--;for(;le--;){if(te===$||$!==null&&te===$.alternate){Ze=te;break t}te=Ze(te),$=Ze($)}Ze=null}else Ze=null;ve!==null&&Vm(Ee,oe,ve,Ze,!1),Ie!==null&&At!==null&&Vm(Ee,At,Ie,Ze,!0)}}e:{if(oe=se?si(se):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var gt=sp;else if(ip(oe))if(up)gt=cw;else{gt=ow;var Pe=uw}else ve=oe.nodeName,!ve||ve.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&rc(se.elementType)&&(gt=sp):gt=fw;if(gt&&(gt=gt(r,se))){lp(Ee,gt,o,ye);break e}Pe&&Pe(r,oe,se),r==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&ac(oe,"number",oe.value)}switch(Pe=se?si(se):window,r){case"focusin":(ip(Pe)||Pe.contentEditable==="true")&&(Ki=Pe,yc=se,ns=null);break;case"focusout":ns=yc=Ki=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,pp(Ee,o,ye);break;case"selectionchange":if(vw)break;case"keydown":case"keyup":pp(Ee,o,ye)}var rt;if(vc)e:{switch(r){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ji?rp(r,o)&&(ft="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ft="onCompositionStart");ft&&(ep&&o.locale!=="ko"&&(ji||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ji&&(rt=Zg()):(mn=ye,uc="value"in mn?mn.value:mn.textContent,ji=!0)),Pe=wo(se,ft),0<Pe.length&&(ft=new $g(ft,r,null,o,ye),Ee.push({event:ft,listeners:Pe}),rt?ft.data=rt:(rt=np(o),rt!==null&&(ft.data=rt)))),(rt=rw?nw(r,o):iw(r,o))&&(ft=wo(se,"onBeforeInput"),0<ft.length&&(Pe=new $g("onBeforeInput","beforeinput",null,o,ye),Ee.push({event:Pe,listeners:ft}),Pe.data=rt)),Qw(Ee,r,se,o,ye)}qm(Ee,i)})}function Os(r,i,o){return{instance:r,listener:i,currentTarget:o}}function wo(r,i){for(var o=i+"Capture",d=[];r!==null;){var b=r,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Ql(r,o),b!=null&&d.unshift(Os(r,b,w)),b=Ql(r,i),b!=null&&d.push(Os(r,b,w))),r.tag===3)return d;r=r.return}return[]}function eS(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vm(r,i,o,d,b){for(var w=i._reactName,N=[];o!==null&&o!==d;){var F=o,Z=F.alternate,se=F.stateNode;if(F=F.tag,Z!==null&&Z===d)break;F!==5&&F!==26&&F!==27||se===null||(Z=se,b?(se=Ql(o,w),se!=null&&N.unshift(Os(o,se,Z))):b||(se=Ql(o,w),se!=null&&N.push(Os(o,se,Z)))),o=o.return}N.length!==0&&r.push({event:i,listeners:N})}var tS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function Ym(r){return(typeof r=="string"?r:""+r).replace(tS,`
`).replace(aS,"")}function Xm(r,i){return i=Ym(i),Ym(r)===i}function Ct(r,i,o,d,b,w){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Vi(r,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Vi(r,""+d);break;case"className":yn(r,"class",d);break;case"tabIndex":yn(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(r,o,d);break;case"style":Xg(r,d,w);break;case"data":if(i!=="object"){yn(r,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=Ru(""+d),r.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(o==="formAction"?(i!=="input"&&Ct(r,i,"name",b.name,b,null),Ct(r,i,"formEncType",b.formEncType,b,null),Ct(r,i,"formMethod",b.formMethod,b,null),Ct(r,i,"formTarget",b.formTarget,b,null)):(Ct(r,i,"encType",b.encType,b,null),Ct(r,i,"method",b.method,b,null),Ct(r,i,"target",b.target,b,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=Ru(""+d),r.setAttribute(o,d);break;case"onClick":d!=null&&(r.onclick=Fr);break;case"onScroll":d!=null&&st("scroll",r);break;case"onScrollEnd":d!=null&&st("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(o=d.__html,o!=null){if(b.children!=null)throw Error(n(60));r.innerHTML=o}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}o=Ru(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""+d):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":d===!0?r.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,d):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(o,d):r.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(o):r.setAttribute(o,d);break;case"popover":st("beforetoggle",r),st("toggle",r),Ra(r,"popover",d);break;case"xlinkActuate":ur(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ur(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ur(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ur(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ur(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ur(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ur(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ur(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ur(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ra(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=MT.get(o)||o,Ra(r,o,d))}}function Hh(r,i,o,d,b,w){switch(o){case"style":Xg(r,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(o=d.__html,o!=null){if(b.children!=null)throw Error(n(60));r.innerHTML=o}}break;case"children":typeof d=="string"?Vi(r,d):(typeof d=="number"||typeof d=="bigint")&&Vi(r,""+d);break;case"onScroll":d!=null&&st("scroll",r);break;case"onScrollEnd":d!=null&&st("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Su.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(b=o.endsWith("Capture"),i=o.slice(2,b?o.length-7:void 0),w=r[ra]||null,w=w!=null?w[o]:null,typeof w=="function"&&r.removeEventListener(i,w,b),typeof d=="function")){typeof w!="function"&&w!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,d,b);break e}o in r?r[o]=d:d===!0?r.setAttribute(o,""):Ra(r,o,d)}}}function Ta(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",r),st("load",r);var d=!1,b=!1,w;for(w in o)if(o.hasOwnProperty(w)){var N=o[w];if(N!=null)switch(w){case"src":d=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Ct(r,i,w,N,o,null)}}b&&Ct(r,i,"srcSet",o.srcSet,o,null),d&&Ct(r,i,"src",o.src,o,null);return;case"input":st("invalid",r);var F=w=N=b=null,Z=null,se=null;for(d in o)if(o.hasOwnProperty(d)){var ye=o[d];if(ye!=null)switch(d){case"name":b=ye;break;case"type":N=ye;break;case"checked":Z=ye;break;case"defaultChecked":se=ye;break;case"value":w=ye;break;case"defaultValue":F=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,i));break;default:Ct(r,i,d,ye,o,null)}}qg(r,w,F,Z,se,N,b,!1);return;case"select":st("invalid",r),d=N=w=null;for(b in o)if(o.hasOwnProperty(b)&&(F=o[b],F!=null))switch(b){case"value":w=F;break;case"defaultValue":N=F;break;case"multiple":d=F;default:Ct(r,i,b,F,o,null)}i=w,o=N,r.multiple=!!d,i!=null?Hi(r,!!d,i,!1):o!=null&&Hi(r,!!d,o,!0);return;case"textarea":st("invalid",r),w=b=d=null;for(N in o)if(o.hasOwnProperty(N)&&(F=o[N],F!=null))switch(N){case"value":d=F;break;case"defaultValue":b=F;break;case"children":w=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(n(91));break;default:Ct(r,i,N,F,o,null)}Vg(r,d,b,w);return;case"option":for(Z in o)o.hasOwnProperty(Z)&&(d=o[Z],d!=null)&&(Z==="selected"?r.selected=d&&typeof d!="function"&&typeof d!="symbol":Ct(r,i,Z,d,o,null));return;case"dialog":st("beforetoggle",r),st("toggle",r),st("cancel",r),st("close",r);break;case"iframe":case"object":st("load",r);break;case"video":case"audio":for(d=0;d<Rs.length;d++)st(Rs[d],r);break;case"image":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"embed":case"source":case"link":st("error",r),st("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(d=o[se],d!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Ct(r,i,se,d,o,null)}return;default:if(rc(i)){for(ye in o)o.hasOwnProperty(ye)&&(d=o[ye],d!==void 0&&Hh(r,i,ye,d,o,void 0));return}}for(F in o)o.hasOwnProperty(F)&&(d=o[F],d!=null&&Ct(r,i,F,d,o,null))}function rS(r,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,N=null,F=null,Z=null,se=null,ye=null;for(ve in o){var Ee=o[ve];if(o.hasOwnProperty(ve)&&Ee!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":Z=Ee;default:d.hasOwnProperty(ve)||Ct(r,i,ve,null,d,Ee)}}for(var oe in d){var ve=d[oe];if(Ee=o[oe],d.hasOwnProperty(oe)&&(ve!=null||Ee!=null))switch(oe){case"type":w=ve;break;case"name":b=ve;break;case"checked":se=ve;break;case"defaultChecked":ye=ve;break;case"value":N=ve;break;case"defaultValue":F=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,i));break;default:ve!==Ee&&Ct(r,i,oe,ve,d,Ee)}}tc(r,N,F,Z,se,ye,w,b);return;case"select":ve=N=F=oe=null;for(w in o)if(Z=o[w],o.hasOwnProperty(w)&&Z!=null)switch(w){case"value":break;case"multiple":ve=Z;default:d.hasOwnProperty(w)||Ct(r,i,w,null,d,Z)}for(b in d)if(w=d[b],Z=o[b],d.hasOwnProperty(b)&&(w!=null||Z!=null))switch(b){case"value":oe=w;break;case"defaultValue":F=w;break;case"multiple":N=w;default:w!==Z&&Ct(r,i,b,w,d,Z)}i=F,o=N,d=ve,oe!=null?Hi(r,!!o,oe,!1):!!d!=!!o&&(i!=null?Hi(r,!!o,i,!0):Hi(r,!!o,o?[]:"",!1));return;case"textarea":ve=oe=null;for(F in o)if(b=o[F],o.hasOwnProperty(F)&&b!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Ct(r,i,F,null,d,b)}for(N in d)if(b=d[N],w=o[N],d.hasOwnProperty(N)&&(b!=null||w!=null))switch(N){case"value":oe=b;break;case"defaultValue":ve=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&Ct(r,i,N,b,d,w)}Hg(r,oe,ve);return;case"option":for(var Ie in o)oe=o[Ie],o.hasOwnProperty(Ie)&&oe!=null&&!d.hasOwnProperty(Ie)&&(Ie==="selected"?r.selected=!1:Ct(r,i,Ie,null,d,oe));for(Z in d)oe=d[Z],ve=o[Z],d.hasOwnProperty(Z)&&oe!==ve&&(oe!=null||ve!=null)&&(Z==="selected"?r.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":Ct(r,i,Z,oe,d,ve));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in o)oe=o[Ze],o.hasOwnProperty(Ze)&&oe!=null&&!d.hasOwnProperty(Ze)&&Ct(r,i,Ze,null,d,oe);for(se in d)if(oe=d[se],ve=o[se],d.hasOwnProperty(se)&&oe!==ve&&(oe!=null||ve!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,i));break;default:Ct(r,i,se,oe,d,ve)}return;default:if(rc(i)){for(var At in o)oe=o[At],o.hasOwnProperty(At)&&oe!==void 0&&!d.hasOwnProperty(At)&&Hh(r,i,At,void 0,d,oe);for(ye in d)oe=d[ye],ve=o[ye],!d.hasOwnProperty(ye)||oe===ve||oe===void 0&&ve===void 0||Hh(r,i,ye,oe,d,ve);return}}for(var te in o)oe=o[te],o.hasOwnProperty(te)&&oe!=null&&!d.hasOwnProperty(te)&&Ct(r,i,te,null,d,oe);for(Ee in d)oe=d[Ee],ve=o[Ee],!d.hasOwnProperty(Ee)||oe===ve||oe==null&&ve==null||Ct(r,i,Ee,oe,d,ve)}function jm(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nS(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var b=o[d],w=b.transferSize,N=b.initiatorType,F=b.duration;if(w&&F&&jm(N)){for(N=0,F=b.responseEnd,d+=1;d<o.length;d++){var Z=o[d],se=Z.startTime;if(se>F)break;var ye=Z.transferSize,Ee=Z.initiatorType;ye&&jm(Ee)&&(Z=Z.responseEnd,N+=ye*(Z<F?1:(F-se)/(Z-se)))}if(--d,i+=8*(w+N)/(b.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Vh=null,Yh=null;function So(r){return r.nodeType===9?r:r.ownerDocument}function Km(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zm(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Xh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jh=null;function iS(){var r=window.event;return r&&r.type==="popstate"?r===jh?!1:(jh=r,!0):(jh=null,!1)}var Qm=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(r){return Wm.resolve(null).then(r).catch(uS)}:Qm;function uS(r){setTimeout(function(){throw r})}function zn(r){return r==="head"}function $m(r,i){var o=i,d=0;do{var b=o.nextSibling;if(r.removeChild(o),b&&b.nodeType===8)if(o=b.data,o==="/$"||o==="/&"){if(d===0){r.removeChild(b),xl(i);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Ms(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Ms(o);for(var w=o.firstChild;w;){var N=w.nextSibling,F=w.nodeName;w[ha]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=N}}else o==="body"&&Ms(r.ownerDocument.body);o=b}while(o);xl(i)}function Jm(r,i){var o=r;r=0;do{var d=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=d}while(o)}function Kh(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kh(o),Fi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function oS(r,i,o,d){for(;r.nodeType===1;){var b=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[ha])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==b.rel||r.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||r.getAttribute("title")!==(b.title==null?null:b.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(b.src==null?null:b.src)||r.getAttribute("type")!==(b.type==null?null:b.type)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=pr(r.nextSibling),r===null)break}return null}function fS(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=pr(r.nextSibling),r===null))return null;return r}function e0(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=pr(r.nextSibling),r===null))return null;return r}function Zh(r){return r.data==="$?"||r.data==="$~"}function Qh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function cS(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var d=function(){i(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function pr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Wh=null;function t0(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return pr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function a0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function r0(r,i,o){switch(i=So(o),r){case"html":if(r=i.documentElement,!r)throw Error(n(452));return r;case"head":if(r=i.head,!r)throw Error(n(453));return r;case"body":if(r=i.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Ms(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Fi(r)}var yr=new Map,n0=new Set;function Co(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var rn=G.d;G.d={f:hS,r:vS,D:dS,C:gS,L:pS,m:yS,X:bS,S:mS,M:ES};function hS(){var r=rn.f(),i=po();return r||i}function vS(r){var i=gn(r);i!==null&&i.tag===5&&i.type==="form"?xy(i):rn.r(r)}var ml=typeof document>"u"?null:document;function i0(r,i,o){var d=ml;if(d&&typeof i=="string"&&i){var b=or(i);b='link[rel="'+r+'"][href="'+b+'"]',typeof o=="string"&&(b+='[crossorigin="'+o+'"]'),n0.has(b)||(n0.add(b),r={rel:r,crossOrigin:o,href:i},d.querySelector(b)===null&&(i=d.createElement("link"),Ta(i,"link",r),Qt(i),d.head.appendChild(i)))}}function dS(r){rn.D(r),i0("dns-prefetch",r,null)}function gS(r,i){rn.C(r,i),i0("preconnect",r,i)}function pS(r,i,o){rn.L(r,i,o);var d=ml;if(d&&r&&i){var b='link[rel="preload"][as="'+or(i)+'"]';i==="image"&&o&&o.imageSrcSet?(b+='[imagesrcset="'+or(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(b+='[imagesizes="'+or(o.imageSizes)+'"]')):b+='[href="'+or(r)+'"]';var w=b;switch(i){case"style":w=bl(r);break;case"script":w=El(r)}yr.has(w)||(r=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),yr.set(w,r),d.querySelector(b)!==null||i==="style"&&d.querySelector(Ls(w))||i==="script"&&d.querySelector(Ns(w))||(i=d.createElement("link"),Ta(i,"link",r),Qt(i),d.head.appendChild(i)))}}function yS(r,i){rn.m(r,i);var o=ml;if(o&&r){var d=i&&typeof i.as=="string"?i.as:"script",b='link[rel="modulepreload"][as="'+or(d)+'"][href="'+or(r)+'"]',w=b;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=El(r)}if(!yr.has(w)&&(r=g({rel:"modulepreload",href:r},i),yr.set(w,r),o.querySelector(b)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ns(w)))return}d=o.createElement("link"),Ta(d,"link",r),Qt(d),o.head.appendChild(d)}}}function mS(r,i,o){rn.S(r,i,o);var d=ml;if(d&&r){var b=pn(d).hoistableStyles,w=bl(r);i=i||"default";var N=b.get(w);if(!N){var F={loading:0,preload:null};if(N=d.querySelector(Ls(w)))F.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},o),(o=yr.get(w))&&$h(r,o);var Z=N=d.createElement("link");Qt(Z),Ta(Z,"link",r),Z._p=new Promise(function(se,ye){Z.onload=se,Z.onerror=ye}),Z.addEventListener("load",function(){F.loading|=1}),Z.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Ao(N,i,d)}N={type:"stylesheet",instance:N,count:1,state:F},b.set(w,N)}}}function bS(r,i){rn.X(r,i);var o=ml;if(o&&r){var d=pn(o).hoistableScripts,b=El(r),w=d.get(b);w||(w=o.querySelector(Ns(b)),w||(r=g({src:r,async:!0},i),(i=yr.get(b))&&Jh(r,i),w=o.createElement("script"),Qt(w),Ta(w,"link",r),o.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(b,w))}}function ES(r,i){rn.M(r,i);var o=ml;if(o&&r){var d=pn(o).hoistableScripts,b=El(r),w=d.get(b);w||(w=o.querySelector(Ns(b)),w||(r=g({src:r,async:!0,type:"module"},i),(i=yr.get(b))&&Jh(r,i),w=o.createElement("script"),Qt(w),Ta(w,"link",r),o.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(b,w))}}function l0(r,i,o,d){var b=(b=ne.current)?Co(b):null;if(!b)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=bl(o.href),o=pn(b).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=bl(o.href);var w=pn(b).hoistableStyles,N=w.get(r);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,N),(w=b.querySelector(Ls(r)))&&!w._p&&(N.instance=w,N.state.loading=5),yr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},yr.set(r,o),w||xS(b,r,o,N.state))),i&&d===null)throw Error(n(528,""));return N}if(i&&d!==null)throw Error(n(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=El(o),o=pn(b).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function bl(r){return'href="'+or(r)+'"'}function Ls(r){return'link[rel="stylesheet"]['+r+"]"}function s0(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function xS(r,i,o,d){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=r.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),Ta(i,"link",o),Qt(i),r.head.appendChild(i))}function El(r){return'[src="'+or(r)+'"]'}function Ns(r){return"script[async]"+r}function u0(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=r.querySelector('style[data-href~="'+or(o.href)+'"]');if(d)return i.instance=d,Qt(d),d;var b=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Qt(d),Ta(d,"style",b),Ao(d,o.precedence,r),i.instance=d;case"stylesheet":b=bl(o.href);var w=r.querySelector(Ls(b));if(w)return i.state.loading|=4,i.instance=w,Qt(w),w;d=s0(o),(b=yr.get(b))&&$h(d,b),w=(r.ownerDocument||r).createElement("link"),Qt(w);var N=w;return N._p=new Promise(function(F,Z){N.onload=F,N.onerror=Z}),Ta(w,"link",d),i.state.loading|=4,Ao(w,o.precedence,r),i.instance=w;case"script":return w=El(o.src),(b=r.querySelector(Ns(w)))?(i.instance=b,Qt(b),b):(d=o,(b=yr.get(w))&&(d=g({},o),Jh(d,b)),r=r.ownerDocument||r,b=r.createElement("script"),Qt(b),Ta(b,"link",d),r.head.appendChild(b),i.instance=b);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Ao(d,o.precedence,r));return i.instance}function Ao(r,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=d.length?d[d.length-1]:null,w=b,N=0;N<d.length;N++){var F=d[N];if(F.dataset.precedence===i)w=F;else if(w!==b)break}w?w.parentNode.insertBefore(r,w.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function $h(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Jh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Do=null;function o0(r,i,o){if(Do===null){var d=new Map,b=Do=new Map;b.set(o,d)}else b=Do,d=b.get(o),d||(d=new Map,b.set(o,d));if(d.has(r))return d;for(d.set(r,null),o=o.getElementsByTagName(r),b=0;b<o.length;b++){var w=o[b];if(!(w[ha]||w[zt]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(i)||"";N=r+N;var F=d.get(N);F?F.push(w):d.set(N,[w])}}return d}function f0(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function TS(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(r=i.disabled,typeof i.precedence=="string"&&r==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function c0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function wS(r,i,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var b=bl(d.href),w=i.querySelector(Ls(b));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Ro.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=w,Qt(w);return}w=i.ownerDocument||i,d=s0(d),(b=yr.get(b))&&$h(d,b),w=w.createElement("link"),Qt(w);var N=w;N._p=new Promise(function(F,Z){N.onload=F,N.onerror=Z}),Ta(w,"link",d),o.instance=w}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Ro.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var ev=0;function SS(r,i){return r.stylesheets&&r.count===0&&Mo(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var d=setTimeout(function(){if(r.stylesheets&&Mo(r,r.stylesheets),r.unsuspend){var w=r.unsuspend;r.unsuspend=null,w()}},6e4+i);0<r.imgBytes&&ev===0&&(ev=62500*nS());var b=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Mo(r,r.stylesheets),r.unsuspend)){var w=r.unsuspend;r.unsuspend=null,w()}},(r.imgBytes>ev?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(b)}}:null}function Ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Oo=null;function Mo(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Oo=new Map,i.forEach(CS,r),Oo=null,Ro.call(r))}function CS(r,i){if(!(i.state.loading&4)){var o=Oo.get(r);if(o)var d=o.get(null);else{o=new Map,Oo.set(r,o);for(var b=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var N=b[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),d=N)}d&&o.set(null,d)}b=i.instance,N=b.getAttribute("data-precedence"),w=o.get(N)||d,w===d&&o.set(null,b),o.set(N,b),this.count++,d=Ro.bind(this),b.addEventListener("load",d),b.addEventListener("error",d),w?w.parentNode.insertBefore(b,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(b,r.firstChild)),i.state.loading|=4}}var Bs={$$typeof:S,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function AS(r,i,o,d,b,w,N,F,Z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=d,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function h0(r,i,o,d,b,w,N,F,Z,se,ye,Ee){return r=new AS(r,i,o,N,Z,se,ye,Ee,F),i=1,w===!0&&(i|=24),w=$a(3,null,null,i),r.current=w,w.stateNode=r,i=Bc(),i.refCount++,r.pooledCache=i,i.refCount++,w.memoizedState={element:d,isDehydrated:o,cache:i},Ic(w),r}function v0(r){return r?(r=Wi,r):Wi}function d0(r,i,o,d,b,w){b=v0(b),d.context===null?d.context=b:d.pendingContext=b,d=Sn(i),d.payload={element:o},w=w===void 0?null:w,w!==null&&(d.callback=w),o=Cn(r,d,i),o!==null&&(Xa(o,r,i),cs(o,r,i))}function g0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function tv(r,i){g0(r,i),(r=r.alternate)&&g0(r,i)}function p0(r){if(r.tag===13||r.tag===31){var i=ci(r,67108864);i!==null&&Xa(i,r,67108864),tv(r,67108864)}}function y0(r){if(r.tag===13||r.tag===31){var i=rr();i=jt(i);var o=ci(r,i);o!==null&&Xa(o,r,i),tv(r,i)}}var Lo=!0;function DS(r,i,o,d){var b=U.T;U.T=null;var w=G.p;try{G.p=2,av(r,i,o,d)}finally{G.p=w,U.T=b}}function RS(r,i,o,d){var b=U.T;U.T=null;var w=G.p;try{G.p=8,av(r,i,o,d)}finally{G.p=w,U.T=b}}function av(r,i,o,d){if(Lo){var b=rv(d);if(b===null)qh(r,i,d,No,o),b0(r,d);else if(MS(b,r,i,o,d))d.stopPropagation();else if(b0(r,d),i&4&&-1<OS.indexOf(r)){for(;b!==null;){var w=gn(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=We(w.pendingLanes);if(N!==0){var F=w;for(F.pendingLanes|=2,F.entangledLanes|=2;N;){var Z=1<<31-fe(N);F.entanglements[1]|=Z,N&=~Z}Nr(w),(mt&6)===0&&(vo=Ce()+500,Ds(0))}}break;case 31:case 13:F=ci(w,2),F!==null&&Xa(F,w,2),po(),tv(w,2)}if(w=rv(d),w===null&&qh(r,i,d,No,o),w===b)break;b=w}b!==null&&d.stopPropagation()}else qh(r,i,d,null,o)}}function rv(r){return r=ic(r),nv(r)}var No=null;function nv(r){if(No=null,r=dn(r),r!==null){var i=s(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===31){if(r=f(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return No=r,null}function m0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case qe:return 2;case Qe:return 8;case $e:case ut:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var iv=!1,kn=null,In=null,Un=null,_s=new Map,zs=new Map,Gn=[],OS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(r,i){switch(r){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":_s.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(i.pointerId)}}function ks(r,i,o,d,b,w){return r===null||r.nativeEvent!==w?(r={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:w,targetContainers:[b]},i!==null&&(i=gn(i),i!==null&&p0(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,b!==null&&i.indexOf(b)===-1&&i.push(b),r)}function MS(r,i,o,d,b){switch(i){case"focusin":return kn=ks(kn,r,i,o,d,b),!0;case"dragenter":return In=ks(In,r,i,o,d,b),!0;case"mouseover":return Un=ks(Un,r,i,o,d,b),!0;case"pointerover":var w=b.pointerId;return _s.set(w,ks(_s.get(w)||null,r,i,o,d,b)),!0;case"gotpointercapture":return w=b.pointerId,zs.set(w,ks(zs.get(w)||null,r,i,o,d,b)),!0}return!1}function E0(r){var i=dn(r.target);if(i!==null){var o=s(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,sr(r.priority,function(){y0(o)});return}}else if(i===31){if(i=f(o),i!==null){r.blockedOn=i,sr(r.priority,function(){y0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Bo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=rv(r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);nc=d,o.target.dispatchEvent(d),nc=null}else return i=gn(o),i!==null&&p0(i),r.blockedOn=o,!1;i.shift()}return!0}function x0(r,i,o){Bo(r)&&o.delete(i)}function LS(){iv=!1,kn!==null&&Bo(kn)&&(kn=null),In!==null&&Bo(In)&&(In=null),Un!==null&&Bo(Un)&&(Un=null),_s.forEach(x0),zs.forEach(x0)}function _o(r,i){r.blockedOn===i&&(r.blockedOn=null,iv||(iv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LS)))}var zo=null;function T0(r){zo!==r&&(zo=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zo===r&&(zo=null);for(var i=0;i<r.length;i+=3){var o=r[i],d=r[i+1],b=r[i+2];if(typeof d!="function"){if(nv(d||o)===null)continue;break}var w=gn(o);w!==null&&(r.splice(i,3),i-=3,rh(w,{pending:!0,data:b,method:o.method,action:d},d,b))}}))}function xl(r){function i(Z){return _o(Z,r)}kn!==null&&_o(kn,r),In!==null&&_o(In,r),Un!==null&&_o(Un,r),_s.forEach(i),zs.forEach(i);for(var o=0;o<Gn.length;o++){var d=Gn[o];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Gn.length&&(o=Gn[0],o.blockedOn===null);)E0(o),o.blockedOn===null&&Gn.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var b=o[d],w=o[d+1],N=b[ra]||null;if(typeof w=="function")N||T0(o);else if(N){var F=null;if(w&&w.hasAttribute("formAction")){if(b=w,N=w[ra]||null)F=N.formAction;else if(nv(b)!==null)continue}else F=N.action;typeof F=="function"?o[d+1]=F:(o.splice(d,3),d-=3),T0(o)}}}function w0(){function r(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function i(){b!==null&&(b(),b=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,b=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),b!==null&&(b(),b=null)}}}function lv(r){this._internalRoot=r}ko.prototype.render=lv.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));var o=i.current,d=rr();d0(o,d,r,i,null,null)},ko.prototype.unmount=lv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;d0(r.current,2,null,r,null,null),po(),i[Ga]=null}};function ko(r){this._internalRoot=r}ko.prototype.unstable_scheduleHydration=function(r){if(r){var i=Pt();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Gn.length&&i!==0&&i<Gn[o].priority;o++);Gn.splice(o,0,r),o===0&&E0(r)}};var S0=e.version;if(S0!=="19.2.4")throw Error(n(527,S0,"19.2.4"));G.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=c(i),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var NS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{H=Io.inject(NS),re=Io}catch{}}return Us.createRoot=function(r,i){if(!l(r))throw Error(n(299));var o=!1,d="",b=Ly,w=Ny,N=By;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(b=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError)),i=h0(r,1,!1,null,null,o,d,null,b,w,N,w0),r[Ga]=i.current,Fh(r),new lv(i)},Us.hydrateRoot=function(r,i,o){if(!l(r))throw Error(n(299));var d=!1,b="",w=Ly,N=Ny,F=By,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(b=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(F=o.onRecoverableError),o.formState!==void 0&&(Z=o.formState)),i=h0(r,1,!0,i,o??null,d,b,Z,w,N,F,w0),i.context=v0(null),o=i.current,d=rr(),d=jt(d),b=Sn(d),b.callback=null,Cn(o,b,d),o=d,i.current.lanes=o,wt(i,o),Nr(i),r[Ga]=i.current,Fh(r),new ko(i)},Us.version="19.2.4",Us}var _0;function qS(){if(_0)return ov.exports;_0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ov.exports=FS(),ov.exports}var HS=qS();const SE=(...t)=>t.filter((e,a,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===a).join(" ").trim();const VS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const YS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,n)=>n?n.toUpperCase():a.toLowerCase());const z0=t=>{const e=YS(t);return e.charAt(0).toUpperCase()+e.slice(1)};var XS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const KS=vt.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:l="",children:s,iconNode:u,...f},h)=>vt.createElement("svg",{ref:h,...XS,width:e,height:e,stroke:t,strokeWidth:n?Number(a)*24/Number(e):a,className:SE("lucide",l),...!s&&!jS(f)&&{"aria-hidden":"true"},...f},[...u.map(([c,v])=>vt.createElement(c,v)),...Array.isArray(s)?s:[s]]));const Ur=(t,e)=>{const a=vt.forwardRef(({className:n,...l},s)=>vt.createElement(KS,{ref:s,iconNode:e,className:SE(`lucide-${VS(z0(t))}`,`lucide-${t}`,n),...l}));return a.displayName=z0(t),a};const ZS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QS=Ur("chevron-down",ZS);const WS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$S=Ur("chevron-right",WS);const JS=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],e2=Ur("folder-open",JS);const t2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],a2=Ur("funnel",t2);const r2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],n2=Ur("loader-circle",r2);const i2=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],CE=Ur("network",i2);const l2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],s2=Ur("rotate-ccw",l2);const u2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],o2=Ur("search",u2);const f2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],c2=Ur("users",f2);const h2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],v2=Ur("x",h2),k0=t=>{let e;const a=new Set,n=(c,v)=>{const g=typeof c=="function"?c(e):c;if(!Object.is(g,e)){const y=e;e=v??(typeof g!="object"||g===null)?g:Object.assign({},e,g),a.forEach(p=>p(e,y))}},l=()=>e,f={setState:n,getState:l,getInitialState:()=>h,subscribe:c=>(a.add(c),()=>a.delete(c))},h=e=t(n,l,f);return f},d2=(t=>t?k0(t):k0),g2=t=>t;function p2(t,e=g2){const a=Mi.useSyncExternalStore(t.subscribe,Mi.useCallback(()=>e(t.getState()),[t,e]),Mi.useCallback(()=>e(t.getInitialState()),[t,e]));return Mi.useDebugValue(a),a}const I0=t=>{const e=d2(t),a=n=>p2(e,n);return Object.assign(a,e),a},gg=(t=>t?I0(t):I0),Ma=gg(t=>({entities:new Map,relationships:[],schemas:new Map,users:[],isLoading:!1,loadProgress:null,error:null,isLoaded:!1,setEntities:e=>t({entities:e}),setRelationships:e=>t({relationships:e}),setSchemas:e=>t({schemas:e}),setUsers:e=>t({users:e}),setLoading:e=>t({isLoading:e}),setLoadProgress:e=>t({loadProgress:e}),setError:e=>t({error:e}),setLoaded:e=>t({isLoaded:e}),reset:()=>t({entities:new Map,relationships:[],schemas:new Map,users:[],isLoading:!1,loadProgress:null,error:null,isLoaded:!1})})),sn=gg(t=>({selectedNodeId:null,hoveredNodeId:null,layout:"cose-bilkent",setSelectedNodeId:e=>t({selectedNodeId:e}),setHoveredNodeId:e=>t({hoveredNodeId:e}),setLayout:e=>t({layout:e})}));var af={exports:{}};var y2=af.exports,U0;function m2(){return U0||(U0=1,(function(t,e){((a,n)=>{t.exports=n()})(y2,function a(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},l,s=!n.document&&!!n.postMessage,u=n.IS_PAPA_WORKER||!1,f={},h=0,c={};function v(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var M=L(R);M.chunkSize=parseInt(M.chunkSize),R.step||R.chunk||(M.chunkSize=null),this._handle=new E(M),(this._handle.streamer=this)._config=M}).call(this,A),this.parseChunk=function(R,M){var B=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<B){let I=this._config.newline;I||(z=this._config.quoteChar||'"',I=this._handle.guessLineEndings(R,z)),R=[...R.split(I).slice(B)].join(I)}this.isFirstChunk&&D(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(R))!==void 0&&(R=z),this.isFirstChunk=!1,this._halted=!1;var B=this._partialLine+R,z=(this._partialLine="",this._handle.parse(B,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=z.meta.cursor,B=(this._finished||(this._partialLine=B.substring(R-this._baseIndex),this._baseIndex=R),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)n.postMessage({results:z,workerId:c.WORKER_ID,finished:B});else if(D(this._config.chunk)&&!M){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!B||!D(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(R){D(this._config.error)?this._config.error(R):u&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:R,finished:!1})}}function g(A){var R;(A=A||{}).chunkSize||(A.chunkSize=c.RemoteChunkSize),v.call(this,A),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=_(this._chunkLoaded,this),R.onerror=_(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var M,B=this._config.downloadRequestHeaders;for(M in B)R.setRequestHeader(M,B[M])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+z));try{R.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(M){M=R.statusText||M,this._sendError(new Error(M))}}function y(A){(A=A||{}).chunkSize||(A.chunkSize=c.LocalChunkSize),v.call(this,A);var R,M,B=typeof FileReader<"u";this.stream=function(z){this._input=z,M=z.slice||z.webkitSlice||z.mozSlice,B?((R=new FileReader).onload=_(this._chunkLoaded,this),R.onerror=_(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,I=(this._config.chunkSize&&(I=Math.min(this._start+this._config.chunkSize,this._input.size),z=M.call(z,this._start,I)),R.readAsText(z,this._config.encoding));B||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(R.error)}}function p(A){var R;v.call(this,A=A||{}),this.stream=function(M){return R=M,this._nextChunk()},this._nextChunk=function(){var M,B;if(!this._finished)return M=this._config.chunkSize,R=M?(B=R.substring(0,M),R.substring(M)):(B=R,""),this._finished=!R,this.parseChunk(B)}}function m(A){v.call(this,A=A||{});var R=[],M=!0,B=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){B&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):M=!0},this._streamData=_(function(z){try{R.push(typeof z=="string"?z:z.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(I){this._streamError(I)}},this),this._streamError=_(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=_(function(){this._streamCleanUp(),B=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function E(A){var R,M,B,z,I=Math.pow(2,53),P=-I,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,V=0,X=0,K=!1,k=!1,q=[],j={data:[],errors:[],meta:{}};function Q(pe){return A.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function J(){if(j&&B&&(ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),B=!1),A.skipEmptyLines&&(j.data=j.data.filter(function(ae){return!Q(ae)})),ne()){let ae=function(ce,xe){D(A.transformHeader)&&(ce=A.transformHeader(ce,xe)),q.push(ce)};var W=ae;if(j)if(Array.isArray(j.data[0])){for(var pe=0;ne()&&pe<j.data.length;pe++)j.data[pe].forEach(ae);j.data.splice(0,1)}else j.data.forEach(ae)}function ie(ae,ce){for(var xe=A.header?{}:[],Se=0;Se<ae.length;Se++){var Oe=Se,Ue=ae[Se],Ue=((Ae,De)=>(we=>(A.dynamicTypingFunction&&A.dynamicTyping[we]===void 0&&(A.dynamicTyping[we]=A.dynamicTypingFunction(we)),(A.dynamicTyping[we]||A.dynamicTyping)===!0))(Ae)?De==="true"||De==="TRUE"||De!=="false"&&De!=="FALSE"&&((we=>{if(Y.test(we)&&(we=parseFloat(we),P<we&&we<I))return 1})(De)?parseFloat(De):U.test(De)?new Date(De):De===""?null:De):De)(Oe=A.header?Se>=q.length?"__parsed_extra":q[Se]:Oe,Ue=A.transform?A.transform(Ue,Oe):Ue);Oe==="__parsed_extra"?(xe[Oe]=xe[Oe]||[],xe[Oe].push(Ue)):xe[Oe]=Ue}return A.header&&(Se>q.length?ue("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+Se,X+ce):Se<q.length&&ue("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+Se,X+ce)),xe}var ee;j&&(A.header||A.dynamicTyping||A.transform)&&(ee=1,!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(ie),ee=j.data.length):j.data=ie(j.data,0),A.header&&j.meta&&(j.meta.fields=q),X+=ee)}function ne(){return A.header&&q.length===0}function ue(pe,ie,ee,W){pe={type:pe,code:ie,message:ee},W!==void 0&&(pe.row=W),j.errors.push(pe)}D(A.step)&&(z=A.step,A.step=function(pe){j=pe,ne()?J():(J(),j.data.length!==0&&(V+=pe.data.length,A.preview&&V>A.preview?M.abort():(j.data=j.data[0],z(j,G))))}),this.parse=function(pe,ie,ee){var W=A.quoteChar||'"',W=(A.newline||(A.newline=this.guessLineEndings(pe,W)),B=!1,A.delimiter?D(A.delimiter)&&(A.delimiter=A.delimiter(pe),j.meta.delimiter=A.delimiter):((W=((ae,ce,xe,Se,Oe)=>{var Ue,Ae,De,we;Oe=Oe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ne=0;Ne<Oe.length;Ne++){for(var Le,Ye=Oe[Ne],Ce=0,je=0,qe=0,Qe=(De=void 0,new T({comments:Se,delimiter:Ye,newline:ce,preview:10}).parse(ae)),$e=0;$e<Qe.data.length;$e++)xe&&Q(Qe.data[$e])?qe++:(Le=Qe.data[$e].length,je+=Le,De===void 0?De=Le:0<Le&&(Ce+=Math.abs(Le-De),De=Le));0<Qe.data.length&&(je/=Qe.data.length-qe),(Ae===void 0||Ce<=Ae)&&(we===void 0||we<je)&&1.99<je&&(Ae=Ce,Ue=Ye,we=je)}return{successful:!!(A.delimiter=Ue),bestDelimiter:Ue}})(pe,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=W.bestDelimiter:(B=!0,A.delimiter=c.DefaultDelimiter),j.meta.delimiter=A.delimiter),L(A));return A.preview&&A.header&&W.preview++,R=pe,M=new T(W),j=M.parse(R,ie,ee),J(),K?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return K},this.pause=function(){K=!0,M.abort(),R=D(A.chunk)?"":R.substring(M.getCharIndex())},this.resume=function(){G.streamer._halted?(K=!1,G.streamer.parseChunk(R,!0)):setTimeout(G.resume,3)},this.aborted=function(){return k},this.abort=function(){k=!0,M.abort(),j.meta.aborted=!0,D(A.complete)&&A.complete(j),R=""},this.guessLineEndings=function(ae,W){ae=ae.substring(0,1048576);var W=new RegExp(x(W)+"([^]*?)"+x(W),"gm"),ee=(ae=ae.replace(W,"")).split("\r"),W=ae.split(`
`),ae=1<W.length&&W[0].length<ee[0].length;if(ee.length===1||ae)return`
`;for(var ce=0,xe=0;xe<ee.length;xe++)ee[xe][0]===`
`&&ce++;return ce>=ee.length/2?`\r
`:"\r"}}function x(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(A){var R=(A=A||{}).delimiter,M=A.newline,B=A.comments,z=A.step,I=A.preview,P=A.fastMode,Y=null,U=!1,G=A.quoteChar==null?'"':A.quoteChar,V=G;if(A.escapeChar!==void 0&&(V=A.escapeChar),(typeof R!="string"||-1<c.BAD_DELIMITERS.indexOf(R))&&(R=","),B===R)throw new Error("Comment character same as delimiter");B===!0?B="#":(typeof B!="string"||-1<c.BAD_DELIMITERS.indexOf(B))&&(B=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var X=0,K=!1;this.parse=function(k,q,j){if(typeof k!="string")throw new Error("Input must be a string");var Q=k.length,J=R.length,ne=M.length,ue=B.length,pe=D(z),ie=[],ee=[],W=[],ae=X=0;if(!k)return Ce();if(P||P!==!1&&k.indexOf(G)===-1){for(var ce=k.split(M),xe=0;xe<ce.length;xe++){if(W=ce[xe],X+=W.length,xe!==ce.length-1)X+=M.length;else if(j)return Ce();if(!B||W.substring(0,ue)!==B){if(pe){if(ie=[],we(W.split(R)),je(),K)return Ce()}else we(W.split(R));if(I&&I<=xe)return ie=ie.slice(0,I),Ce(!0)}}return Ce()}for(var Se=k.indexOf(R,X),Oe=k.indexOf(M,X),Ue=new RegExp(x(V)+x(G),"g"),Ae=k.indexOf(G,X);;)if(k[X]===G)for(Ae=X,X++;;){if((Ae=k.indexOf(G,Ae+1))===-1)return j||ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:X}),Le();if(Ae===Q-1)return Le(k.substring(X,Ae).replace(Ue,G));if(G===V&&k[Ae+1]===V)Ae++;else if(G===V||Ae===0||k[Ae-1]!==V){Se!==-1&&Se<Ae+1&&(Se=k.indexOf(R,Ae+1));var De=Ne((Oe=Oe!==-1&&Oe<Ae+1?k.indexOf(M,Ae+1):Oe)===-1?Se:Math.min(Se,Oe));if(k.substr(Ae+1+De,J)===R){W.push(k.substring(X,Ae).replace(Ue,G)),k[X=Ae+1+De+J]!==G&&(Ae=k.indexOf(G,X)),Se=k.indexOf(R,X),Oe=k.indexOf(M,X);break}if(De=Ne(Oe),k.substring(Ae+1+De,Ae+1+De+ne)===M){if(W.push(k.substring(X,Ae).replace(Ue,G)),Ye(Ae+1+De+ne),Se=k.indexOf(R,X),Ae=k.indexOf(G,X),pe&&(je(),K))return Ce();if(I&&ie.length>=I)return Ce(!0);break}ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:X}),Ae++}}else if(B&&W.length===0&&k.substring(X,X+ue)===B){if(Oe===-1)return Ce();X=Oe+ne,Oe=k.indexOf(M,X),Se=k.indexOf(R,X)}else if(Se!==-1&&(Se<Oe||Oe===-1))W.push(k.substring(X,Se)),X=Se+J,Se=k.indexOf(R,X);else{if(Oe===-1)break;if(W.push(k.substring(X,Oe)),Ye(Oe+ne),pe&&(je(),K))return Ce();if(I&&ie.length>=I)return Ce(!0)}return Le();function we(qe){ie.push(qe),ae=X}function Ne(qe){var Qe=0;return Qe=qe!==-1&&(qe=k.substring(Ae+1,qe))&&qe.trim()===""?qe.length:Qe}function Le(qe){return j||(qe===void 0&&(qe=k.substring(X)),W.push(qe),X=Q,we(W),pe&&je()),Ce()}function Ye(qe){X=qe,we(W),W=[],Oe=k.indexOf(M,X)}function Ce(qe){if(A.header&&!q&&ie.length&&!U){var Qe=ie[0],$e=Object.create(null),ut=new Set(Qe);let Xe=!1;for(let Me=0;Me<Qe.length;Me++){let de=Qe[Me];if($e[de=D(A.transformHeader)?A.transformHeader(de,Me):de]){let H,re=$e[de];for(;H=de+"_"+re,re++,ut.has(H););ut.add(H),Qe[Me]=H,$e[de]++,Xe=!0,(Y=Y===null?{}:Y)[H]=de}else $e[de]=1,Qe[Me]=de;ut.add(de)}Xe&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:ie,errors:ee,meta:{delimiter:R,linebreak:M,aborted:K,truncated:!!qe,cursor:ae+(q||0),renamedHeaders:Y}}}function je(){z(Ce()),ie=[],ee=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return X}}function C(A){var R=A.data,M=f[R.workerId],B=!1;if(R.error)M.userError(R.error,R.file);else if(R.results&&R.results.data){var z={abort:function(){B=!0,S(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(D(M.userStep)){for(var I=0;I<R.results.data.length&&(M.userStep({data:R.results.data[I],errors:R.results.errors,meta:R.results.meta},z),!B);I++);delete R.results}else D(M.userChunk)&&(M.userChunk(R.results,z,R.file),delete R.results)}R.finished&&!B&&S(R.workerId,R.results)}function S(A,R){var M=f[A];D(M.userComplete)&&M.userComplete(R),M.terminate(),delete f[A]}function O(){throw new Error("Not implemented.")}function L(A){if(typeof A!="object"||A===null)return A;var R,M=Array.isArray(A)?[]:{};for(R in A)M[R]=L(A[R]);return M}function _(A,R){return function(){A.apply(R,arguments)}}function D(A){return typeof A=="function"}return c.parse=function(A,R){var M=(R=R||{}).dynamicTyping||!1;if(D(M)&&(R.dynamicTypingFunction=M,M={}),R.dynamicTyping=M,R.transform=!!D(R.transform)&&R.transform,!R.worker||!c.WORKERS_SUPPORTED)return M=null,c.NODE_STREAM_INPUT,typeof A=="string"?(A=(B=>B.charCodeAt(0)!==65279?B:B.slice(1))(A),M=new(R.download?g:p)(R)):A.readable===!0&&D(A.read)&&D(A.on)?M=new m(R):(n.File&&A instanceof File||A instanceof Object)&&(M=new y(R)),M.stream(A);(M=(()=>{var B;return!!c.WORKERS_SUPPORTED&&(B=(()=>{var z=n.URL||n.webkitURL||null,I=a.toString();return c.BLOB_URL||(c.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",I,")();"],{type:"text/javascript"})))})(),(B=new n.Worker(B)).onmessage=C,B.id=h++,f[B.id]=B)})()).userStep=R.step,M.userChunk=R.chunk,M.userComplete=R.complete,M.userError=R.error,R.step=D(R.step),R.chunk=D(R.chunk),R.complete=D(R.complete),R.error=D(R.error),delete R.worker,M.postMessage({input:A,config:R,workerId:M.id})},c.unparse=function(A,R){var M=!1,B=!0,z=",",I=`\r
`,P='"',Y=P+P,U=!1,G=null,V=!1,X=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||c.BAD_DELIMITERS.filter(function(q){return R.delimiter.indexOf(q)!==-1}).length||(z=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(M=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(U=R.skipEmptyLines),typeof R.newline=="string"&&(I=R.newline),typeof R.quoteChar=="string"&&(P=R.quoteChar),typeof R.header=="boolean"&&(B=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");G=R.columns}R.escapeChar!==void 0&&(Y=R.escapeChar+P),R.escapeFormulae instanceof RegExp?V=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(V=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(P),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return K(null,A,U);if(typeof A[0]=="object")return K(G||Object.keys(A[0]),A,U)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||G),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),K(A.fields||[],A.data||[],U);throw new Error("Unable to serialize unrecognized input");function K(q,j,Q){var J="",ne=(typeof q=="string"&&(q=JSON.parse(q)),typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(q)&&0<q.length),ue=!Array.isArray(j[0]);if(ne&&B){for(var pe=0;pe<q.length;pe++)0<pe&&(J+=z),J+=k(q[pe],pe);0<j.length&&(J+=I)}for(var ie=0;ie<j.length;ie++){var ee=(ne?q:j[ie]).length,W=!1,ae=ne?Object.keys(j[ie]).length===0:j[ie].length===0;if(Q&&!ne&&(W=Q==="greedy"?j[ie].join("").trim()==="":j[ie].length===1&&j[ie][0].length===0),Q==="greedy"&&ne){for(var ce=[],xe=0;xe<ee;xe++){var Se=ue?q[xe]:xe;ce.push(j[ie][Se])}W=ce.join("").trim()===""}if(!W){for(var Oe=0;Oe<ee;Oe++){0<Oe&&!ae&&(J+=z);var Ue=ne&&ue?q[Oe]:Oe;J+=k(j[ie][Ue],Oe)}ie<j.length-1&&(!Q||0<ee&&!ae)&&(J+=I)}}return J}function k(q,j){var Q,J;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(J=!1,V&&typeof q=="string"&&V.test(q)&&(q="'"+q,J=!0),Q=q.toString().replace(X,Y),(J=J||M===!0||typeof M=="function"&&M(q,j)||Array.isArray(M)&&M[j]||((ne,ue)=>{for(var pe=0;pe<ue.length;pe++)if(-1<ne.indexOf(ue[pe]))return!0;return!1})(Q,c.BAD_DELIMITERS)||-1<Q.indexOf(z)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?P+Q+P:Q)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=E,c.NetworkStreamer=g,c.FileStreamer=y,c.StringStreamer=p,c.ReadableStreamStreamer=m,n.jQuery&&((l=n.jQuery).fn.parse=function(A){var R=A.config||{},M=[];return this.each(function(I){if(!(l(this).prop("tagName").toUpperCase()==="INPUT"&&l(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)M.push({file:this.files[P],inputElem:this,instanceConfig:l.extend({},R)})}),B(),this;function B(){if(M.length===0)D(A.complete)&&A.complete();else{var I,P,Y,U,G=M[0];if(D(A.before)){var V=A.before(G.file,G.inputElem);if(typeof V=="object"){if(V.action==="abort")return I="AbortError",P=G.file,Y=G.inputElem,U=V.reason,void(D(A.error)&&A.error({name:I},P,Y,U));if(V.action==="skip")return void z();typeof V.config=="object"&&(G.instanceConfig=l.extend(G.instanceConfig,V.config))}else if(V==="skip")return void z()}var X=G.instanceConfig.complete;G.instanceConfig.complete=function(K){D(X)&&X(K,G.file,G.inputElem),z()},c.parse(G.file,G.instanceConfig)}}function z(){M.splice(0,1),B()}}),u&&(n.onmessage=function(A){A=A.data,c.WORKER_ID===void 0&&A&&(c.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=c.parse(A.input,A.config))&&n.postMessage({workerId:c.WORKER_ID,results:A,finished:!0})}),(g.prototype=Object.create(v.prototype)).constructor=g,(y.prototype=Object.create(v.prototype)).constructor=y,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(v.prototype)).constructor=m,c})})(af)),af.exports}var b2=m2();const E2=_f(b2);function x2(t){return t.charCodeAt(0)===65279?t.slice(1):t}function rf(t){const e=x2(t),a=E2.parse(e,{header:!0,skipEmptyLines:!0,transformHeader:n=>n.trim()});return{data:a.data,headers:a.meta.fields??[],errors:a.errors}}async function vv(t){const e=await t.text();return rf(e)}function AE(t){const e=[];for(const a of t.data)a.is_deleted!=="t"&&e.push({relationshipGuid:a.relationship_guid,accountId:a.bim360_account_id,projectId:a.bim360_project_id,item1Domain:a.item1_domain,item1EntityType:a.item1_entitytype,item1Id:a.item1_id,item2Domain:a.item2_domain,item2EntityType:a.item2_entitytype,item2Id:a.item2_id,createdOn:a.created_on,isDeleted:a.is_deleted==="t",isServiceOwned:a.is_service_owned==="t"});return e}const DE={"autodesk-bim360-issue":{issue:{csvFile:"issues_issues.csv",primaryKey:"issue_id",displayNameColumn:"title",personColumns:["assignee_id","owner_id","created_by","updated_by","opened_by","closed_by","response_by","deleted_by"],entityType:"issue"},coordinationother:{csvFile:"issues_issues.csv",primaryKey:"issue_id",displayNameColumn:"title",personColumns:["assignee_id","owner_id","created_by","updated_by","opened_by","closed_by","response_by","deleted_by"],entityType:"issue"}},"autodesk-bim360-asset":{asset:{csvFile:"assets_assets.csv",primaryKey:"id",displayNameColumn:"client_asset_id",personColumns:["created_by","updated_by","deleted_by"],entityType:"asset"}},"autodesk-construction-photo":{photo:{csvFile:"photos_photos.csv",primaryKey:"uid",displayNameColumn:"title",personColumns:["creator_id","deleter_id","updater_id"],entityType:"photo"}},"autodesk-construction-schedule":{activity:{csvFile:"schedule_activities.csv",primaryKey:["schedule_id","unique_id"],displayNameColumn:"name",personColumns:[],entityType:"activity"}},"autodesk-bim360-rfi":{rfi:{csvFile:"rfis_rfis.csv",primaryKey:"id",displayNameColumn:"title",personColumns:["created_by","updated_by","closed_by","responded_by","answered_by","manager_id"],entityType:"rfi"}},"autodesk-construction-markup":{markup:{csvFile:"markups_markup.csv",primaryKey:"uid",displayNameColumn:"markup_text",personColumns:["created_by","updated_by","deleted_by"],entityType:"markup"}},"autodesk-bim360-modelcoordination":{documentlineage:{csvFile:"",primaryKey:"",displayNameColumn:"",personColumns:[],entityType:"documentlineage"},container:{csvFile:"",primaryKey:"",displayNameColumn:"",personColumns:[],entityType:"container"},scope:{csvFile:"",primaryKey:"",displayNameColumn:"",personColumns:[],entityType:"scope"}},"autodesk-construction-form":{form:{csvFile:"forms_forms.csv",primaryKey:"id",displayNameColumn:"name",personColumns:["created_by","assignee_id","last_reopened_by","last_submitted_by"],entityType:"form"}},"autodesk-bim360-cost":{pco:{csvFile:"cost_change_orders.csv",primaryKey:"id",displayNameColumn:"name",personColumns:["creator_id","owner_id","changed_by","applied_by","integration_state_changed_by"],entityType:"pco"}}};function pg(t,e){return DE[t]?.[e]??null}function T2(t,e){const a=pg(t,e);return a?a.entityType:"unknown"}function RE(){const t=[];for(const[e,a]of Object.entries(DE))for(const[n,l]of Object.entries(a))t.push({domain:e,entityType:n,mapping:l});return t}function OE(t,e){const a=new Map;for(const n of t.data){let l;Array.isArray(e)?l=e.map(s=>n[s]??"").join("-"):l=n[e]??"",l&&a.set(l,n)}return{byKey:a}}function G0(t,e,a,n){const l=pg(t,e),s=T2(t,e);if(!l||!l.csvFile)return{id:`${t}:${e}:${a}`,entityType:s,domain:t,displayName:a.length>40?a.slice(0,40)+"...":a,fields:{},personFields:[],isOpaque:!0};const f=n.get(l.csvFile)?.byKey.get(a);if(!f)return{id:`${t}:${e}:${a}`,entityType:s,domain:t,displayName:a.length>40?a.slice(0,40)+"...":a,fields:{},personFields:l.personColumns,isOpaque:!0};const h=f[l.displayNameColumn]||a;return{id:`${t}:${e}:${a}`,entityType:s,domain:t,displayName:h,fields:{...f},personFields:l.personColumns,isOpaque:!1}}function ME(t,e){const a=new Map;for(const n of t){const l=`${n.item1Domain}:${n.item1EntityType}:${n.item1Id}`;a.has(l)||a.set(l,G0(n.item1Domain,n.item1EntityType,n.item1Id,e));const s=`${n.item2Domain}:${n.item2EntityType}:${n.item2Id}`;a.has(s)||a.set(s,G0(n.item2Domain,n.item2EntityType,n.item2Id,e))}return a}function LE(t,e){const a=new Map;try{const n=JSON.parse(t);if(typeof n!="object"||n===null)return a;for(const[l,s]of Object.entries(n)){if(typeof s!="object"||s===null)continue;const u={name:l,columns:s};a.set(l,u)}}catch{}return a}class Ni{fileMap;constructor(e){this.fileMap=e}static async fromDirectoryPicker(){const e=await window.showDirectoryPicker({mode:"read"}),a=new Map;return await NE(e,a),new Ni(a)}static fromFileList(e){const a=new Map;for(const n of Array.from(e)){const s=(n.webkitRelativePath||n.name).split("/").pop()||n.name;a.set(s,n)}return new Ni(a)}static fromDroppedItems(e){return new Ni(e)}async loadAll(e){const a=[...this.fileMap.entries()].filter(([x])=>x.endsWith(".csv")),n=[...this.fileMap.entries()].filter(([x])=>x.endsWith(".json")),l=a.length+n.length;let s=0;const u=x=>{s++,e?.({current:s,total:l,currentFile:x})},f=this.fileMap.get("relationships_entity_relationship.csv");let h=[];if(f){u("relationships_entity_relationship.csv");const x=await vv(f);h=AE(x)}const c=new Map,v=RE(),g=new Set(v.map(x=>x.mapping.csvFile).filter(Boolean));for(const x of g){const T=this.fileMap.get(x);if(!T)continue;u(x);const C=await vv(T),S=v.find(O=>O.mapping.csvFile===x);if(S){const O=OE(C,S.mapping.primaryKey);c.set(x,O)}}const y=this.fileMap.get("admin_users.csv");let p=[];y&&(u("admin_users.csv"),p=(await vv(y)).data.map(T=>({id:T.id||"",autodesk_id:T.autodesk_id||"",name:T.name||"",email:T.email||"",first_name:T.first_name||"",last_name:T.last_name||"",job_title:T.job_title||"",company_id:T.default_company_id||""})));const m=ME(h,c),E=new Map;for(const[x,T]of this.fileMap.entries())if(x.endsWith(".json"))try{u(x);const C=await T.text(),S=LE(C,x.replace(".json",""));for(const[O,L]of S.entries())E.set(O,L)}catch{}for(const[x]of a)!g.has(x)&&x!=="relationships_entity_relationship.csv"&&x!=="admin_users.csv"&&u(x);return{entities:m,relationships:h,schemas:E,users:p}}}async function NE(t,e,a){for await(const n of t.values())if(n.kind==="file"){const l=await n.getFile();e.set(l.name,l)}else n.kind==="directory"&&await NE(n,e,n.name+"/")}const w2="/autodesk_data_extract";class S2{async loadAll(e){const a=RE(),n=new Set(a.map(E=>E.mapping.csvFile).filter(Boolean));n.add("relationships_entity_relationship.csv"),n.add("admin_users.csv");const l=["activities.json","admin.json","assets.json","bridge.json","checklists.json","cost.json","daily_logs.json","documents.json","forms.json","issues.json","locations.json","markups.json","model_coordination.json","photos.json","relationships.json","rfis.json","schedule.json","sheets.json","submittals.json","transmittals.json"],s=n.size+l.length;let u=0;const f=E=>{u++,e?.({current:u,total:s,currentFile:E})};f("relationships_entity_relationship.csv");const h=await Uo("relationships_entity_relationship.csv"),c=rf(h),v=AE(c),g=new Map;for(const E of n)if(!(E==="relationships_entity_relationship.csv"||E==="admin_users.csv")){f(E);try{const x=await Uo(E),T=rf(x),C=a.find(S=>S.mapping.csvFile===E);if(C){const S=OE(T,C.mapping.primaryKey);g.set(E,S)}}catch{}}f("admin_users.csv");let y=[];try{const E=await Uo("admin_users.csv");y=rf(E).data.map(T=>({id:T.id||"",autodesk_id:T.autodesk_id||"",name:T.name||"",email:T.email||"",first_name:T.first_name||"",last_name:T.last_name||"",job_title:T.job_title||"",company_id:T.default_company_id||""}))}catch{}const p=ME(v,g),m=new Map;for(const E of l){f(E);try{const x=await Uo(`schemas/${E}`),T=LE(x,E.replace(".json",""));for(const[C,S]of T.entries())m.set(C,S)}catch{}}return{entities:p,relationships:v,schemas:m,users:y}}}async function Uo(t){const e=await fetch(`${w2}/${t}`);if(!e.ok)throw new Error(`Failed to fetch ${t}: ${e.status}`);return e.text()}let nf=new Map;function C2(t){nf=new Map;for(const e of t)e.autodesk_id&&nf.set(e.autodesk_id,e),e.id&&nf.set(e.id,e)}function A2(t){if(!t)return null;const e=nf.get(t);return e?{autodeskId:e.autodesk_id,name:e.name||`${e.first_name} ${e.last_name}`.trim(),email:e.email}:null}function BE(t){return A2(t)?.name||t}let Ws=new Map;function D2(t){Ws=t}function R2(t){const e=Ws.get(t);return e?Object.entries(e.columns).map(([a,n])=>({name:a,schema:n})).sort((a,n)=>a.schema.ordinal_position-n.schema.ordinal_position):[]}function O2(t){const e=t.replace(".csv","");if(Ws.has(e))return e;const a=e.split("_");if(a.length>=2){const n=a.slice(1).join("_");if(Ws.has(n))return n}for(const[n]of Ws)if(e.endsWith("_"+n)||e===n)return n}var dv={exports:{}},gv,P0;function M2(){if(P0)return gv;P0=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gv=t,gv}var pv,F0;function L2(){if(F0)return pv;F0=1;var t=M2();function e(){}function a(){}return a.resetWarningCache=e,pv=function(){function n(u,f,h,c,v,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function l(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:l,element:n,elementType:n,instanceOf:l,node:n,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:a,resetWarningCache:e};return s.PropTypes=s,s},pv}var q0;function N2(){return q0||(q0=1,dv.exports=L2()()),dv.exports}var B2=N2();const _2=_f(B2);function Kd(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}function z2(t){if(Array.isArray(t))return t}function k2(t){if(Array.isArray(t))return Kd(t)}function ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I2(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zE(n.key),n)}}function ri(t,e,a){return e&&I2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Za(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=yg(t))||e){a&&(t=a);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,u=!0,f=!1;return{s:function(){a=a.call(t)},n:function(){var h=a.next();return u=h.done,h},e:function(h){f=!0,s=h},f:function(){try{u||a.return==null||a.return()}finally{if(f)throw s}}}}function _E(t,e,a){return(e=zE(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function U2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G2(t,e){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,l,s,u,f=[],h=!0,c=!1;try{if(s=(a=a.call(t)).next,e===0){if(Object(a)!==a)return;h=!1}else for(;!(h=(n=s.call(a)).done)&&(f.push(n.value),f.length!==e);h=!0);}catch(v){c=!0,l=v}finally{try{if(!h&&a.return!=null&&(u=a.return(),Object(u)!==u))return}finally{if(c)throw l}}return f}}function P2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aa(t,e){return z2(t)||G2(t,e)||yg(t,e)||P2()}function Ef(t){return k2(t)||U2(t)||yg(t)||F2()}function q2(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zE(t){var e=q2(t,"string");return typeof e=="symbol"?e:e+""}function sa(t){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(t)}function yg(t,e){if(t){if(typeof t=="string")return Kd(t,e);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Kd(t,e):void 0}}var ia=typeof window>"u"?null:window,H0=ia?ia.navigator:null;ia&&ia.document;var H2=sa(""),kE=sa({}),V2=sa(function(){}),Y2=typeof HTMLElement>"u"?"undefined":sa(HTMLElement),cu=function(e){return e&&e.instanceString&&Ft(e.instanceString)?e.instanceString():null},He=function(e){return e!=null&&sa(e)==H2},Ft=function(e){return e!=null&&sa(e)===V2},Ot=function(e){return!ir(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},dt=function(e){return e!=null&&sa(e)===kE&&!Ot(e)&&e.constructor===Object},X2=function(e){return e!=null&&sa(e)===kE},Re=function(e){return e!=null&&sa(e)===sa(1)&&!isNaN(e)},j2=function(e){return Re(e)&&Math.floor(e)===e},xf=function(e){if(Y2!=="undefined")return e!=null&&e instanceof HTMLElement},ir=function(e){return hu(e)||IE(e)},hu=function(e){return cu(e)==="collection"&&e._private.single},IE=function(e){return cu(e)==="collection"&&!e._private.single},mg=function(e){return cu(e)==="core"},UE=function(e){return cu(e)==="stylesheet"},K2=function(e){return cu(e)==="event"},Zn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Z2=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Q2=function(e){return dt(e)&&Re(e.x1)&&Re(e.x2)&&Re(e.y1)&&Re(e.y2)},W2=function(e){return X2(e)&&Ft(e.then)},$2=function(){return H0&&H0.userAgent.match(/msie|trident|edge/i)},Gl=function(e,a){a||(a=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var s=[],u=0;u<arguments.length;u++)s.push(arguments[u]);return s.join("$")});var n=function(){var s=this,u=arguments,f,h=a.apply(s,u),c=n.cache;return(f=c[h])||(f=c[h]=e.apply(s,u)),f};return n.cache={},n},bg=Gl(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),zf=Gl(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),GE=Gl(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),V0=function(e){return Zn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Vn=function(e,a){return e.slice(-1*a.length)===a},la="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",J2="rgb[a]?\\(("+la+"[%]?)\\s*,\\s*("+la+"[%]?)\\s*,\\s*("+la+"[%]?)(?:\\s*,\\s*("+la+"))?\\)",eC="rgb[a]?\\((?:"+la+"[%]?)\\s*,\\s*(?:"+la+"[%]?)\\s*,\\s*(?:"+la+"[%]?)(?:\\s*,\\s*(?:"+la+"))?\\)",tC="hsl[a]?\\(("+la+")\\s*,\\s*("+la+"[%])\\s*,\\s*("+la+"[%])(?:\\s*,\\s*("+la+"))?\\)",aC="hsl[a]?\\((?:"+la+")\\s*,\\s*(?:"+la+"[%])\\s*,\\s*(?:"+la+"[%])(?:\\s*,\\s*(?:"+la+"))?\\)",rC="\\#[0-9a-fA-F]{3}",nC="\\#[0-9a-fA-F]{6}",PE=function(e,a){return e<a?-1:e>a?1:0},iC=function(e,a){return-1*PE(e,a)},Ke=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,a=1;a<e.length;a++){var n=e[a];if(n!=null)for(var l=Object.keys(n),s=0;s<l.length;s++){var u=l[s];t[u]=n[u]}}return t},lC=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var a=e.length===4,n,l,s,u=16;return a?(n=parseInt(e[1]+e[1],u),l=parseInt(e[2]+e[2],u),s=parseInt(e[3]+e[3],u)):(n=parseInt(e[1]+e[2],u),l=parseInt(e[3]+e[4],u),s=parseInt(e[5]+e[6],u)),[n,l,s]}},sC=function(e){var a,n,l,s,u,f,h,c;function v(m,E,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?m+(E-m)*6*x:x<1/2?E:x<2/3?m+(E-m)*(2/3-x)*6:m}var g=new RegExp("^"+tC+"$").exec(e);if(g){if(n=parseInt(g[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,l=parseFloat(g[2]),l<0||l>100||(l=l/100,s=parseFloat(g[3]),s<0||s>100)||(s=s/100,u=g[4],u!==void 0&&(u=parseFloat(u),u<0||u>1)))return;if(l===0)f=h=c=Math.round(s*255);else{var y=s<.5?s*(1+l):s+l-s*l,p=2*s-y;f=Math.round(255*v(p,y,n+1/3)),h=Math.round(255*v(p,y,n)),c=Math.round(255*v(p,y,n-1/3))}a=[f,h,c,u]}return a},uC=function(e){var a,n=new RegExp("^"+J2+"$").exec(e);if(n){a=[];for(var l=[],s=1;s<=3;s++){var u=n[s];if(u[u.length-1]==="%"&&(l[s]=!0),u=parseFloat(u),l[s]&&(u=u/100*255),u<0||u>255)return;a.push(Math.floor(u))}var f=l[1]||l[2]||l[3],h=l[1]&&l[2]&&l[3];if(f&&!h)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;a.push(c)}}return a},oC=function(e){return fC[e.toLowerCase()]},FE=function(e){return(Ot(e)?e:null)||oC(e)||lC(e)||uC(e)||sC(e)},fC={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},qE=function(e){for(var a=e.map,n=e.keys,l=n.length,s=0;s<l;s++){var u=n[s];if(dt(u))throw Error("Tried to set map with object key");s<n.length-1?(a[u]==null&&(a[u]={}),a=a[u]):a[u]=e.value}},HE=function(e){for(var a=e.map,n=e.keys,l=n.length,s=0;s<l;s++){var u=n[s];if(dt(u))throw Error("Tried to get map with object key");if(a=a[u],a==null)return a}return a},Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yv,Y0;function du(){if(Y0)return yv;Y0=1;function t(e){var a=typeof e;return e!=null&&(a=="object"||a=="function")}return yv=t,yv}var mv,X0;function cC(){if(X0)return mv;X0=1;var t=typeof Go=="object"&&Go&&Go.Object===Object&&Go;return mv=t,mv}var bv,j0;function kf(){if(j0)return bv;j0=1;var t=cC(),e=typeof self=="object"&&self&&self.Object===Object&&self,a=t||e||Function("return this")();return bv=a,bv}var Ev,K0;function hC(){if(K0)return Ev;K0=1;var t=kf(),e=function(){return t.Date.now()};return Ev=e,Ev}var xv,Z0;function vC(){if(Z0)return xv;Z0=1;var t=/\s/;function e(a){for(var n=a.length;n--&&t.test(a.charAt(n)););return n}return xv=e,xv}var Tv,Q0;function dC(){if(Q0)return Tv;Q0=1;var t=vC(),e=/^\s+/;function a(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Tv=a,Tv}var wv,W0;function Eg(){if(W0)return wv;W0=1;var t=kf(),e=t.Symbol;return wv=e,wv}var Sv,$0;function gC(){if($0)return Sv;$0=1;var t=Eg(),e=Object.prototype,a=e.hasOwnProperty,n=e.toString,l=t?t.toStringTag:void 0;function s(u){var f=a.call(u,l),h=u[l];try{u[l]=void 0;var c=!0}catch{}var v=n.call(u);return c&&(f?u[l]=h:delete u[l]),v}return Sv=s,Sv}var Cv,J0;function pC(){if(J0)return Cv;J0=1;var t=Object.prototype,e=t.toString;function a(n){return e.call(n)}return Cv=a,Cv}var Av,e1;function VE(){if(e1)return Av;e1=1;var t=Eg(),e=gC(),a=pC(),n="[object Null]",l="[object Undefined]",s=t?t.toStringTag:void 0;function u(f){return f==null?f===void 0?l:n:s&&s in Object(f)?e(f):a(f)}return Av=u,Av}var Dv,t1;function yC(){if(t1)return Dv;t1=1;function t(e){return e!=null&&typeof e=="object"}return Dv=t,Dv}var Rv,a1;function gu(){if(a1)return Rv;a1=1;var t=VE(),e=yC(),a="[object Symbol]";function n(l){return typeof l=="symbol"||e(l)&&t(l)==a}return Rv=n,Rv}var Ov,r1;function mC(){if(r1)return Ov;r1=1;var t=dC(),e=du(),a=gu(),n=NaN,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;function h(c){if(typeof c=="number")return c;if(a(c))return n;if(e(c)){var v=typeof c.valueOf=="function"?c.valueOf():c;c=e(v)?v+"":v}if(typeof c!="string")return c===0?c:+c;c=t(c);var g=s.test(c);return g||u.test(c)?f(c.slice(2),g?2:8):l.test(c)?n:+c}return Ov=h,Ov}var Mv,n1;function bC(){if(n1)return Mv;n1=1;var t=du(),e=hC(),a=mC(),n="Expected a function",l=Math.max,s=Math.min;function u(f,h,c){var v,g,y,p,m,E,x=0,T=!1,C=!1,S=!0;if(typeof f!="function")throw new TypeError(n);h=a(h)||0,t(c)&&(T=!!c.leading,C="maxWait"in c,y=C?l(a(c.maxWait)||0,h):y,S="trailing"in c?!!c.trailing:S);function O(I){var P=v,Y=g;return v=g=void 0,x=I,p=f.apply(Y,P),p}function L(I){return x=I,m=setTimeout(A,h),T?O(I):p}function _(I){var P=I-E,Y=I-x,U=h-P;return C?s(U,y-Y):U}function D(I){var P=I-E,Y=I-x;return E===void 0||P>=h||P<0||C&&Y>=y}function A(){var I=e();if(D(I))return R(I);m=setTimeout(A,_(I))}function R(I){return m=void 0,S&&v?O(I):(v=g=void 0,p)}function M(){m!==void 0&&clearTimeout(m),x=0,v=E=g=m=void 0}function B(){return m===void 0?p:R(e())}function z(){var I=e(),P=D(I);if(v=arguments,g=this,E=I,P){if(m===void 0)return L(E);if(C)return clearTimeout(m),m=setTimeout(A,h),O(E)}return m===void 0&&(m=setTimeout(A,h)),p}return z.cancel=M,z.flush=B,z}return Mv=u,Mv}var EC=bC(),pu=vu(EC),Lv=ia?ia.performance:null,YE=Lv&&Lv.now?function(){return Lv.now()}:function(){return Date.now()},xC=(function(){if(ia){if(ia.requestAnimationFrame)return function(t){ia.requestAnimationFrame(t)};if(ia.mozRequestAnimationFrame)return function(t){ia.mozRequestAnimationFrame(t)};if(ia.webkitRequestAnimationFrame)return function(t){ia.webkitRequestAnimationFrame(t)};if(ia.msRequestAnimationFrame)return function(t){ia.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(YE())},1e3/60)}})(),Tf=function(e){return xC(e)},on=YE,Ri=9261,XE=65599,Ll=5381,jE=function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri,n=a,l;l=e.next(),!l.done;)n=n*XE+l.value|0;return n},tu=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri;return a*XE+e|0},au=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ll;return(a<<5)+a+e|0},TC=function(e,a){return e*2097152+a},Fn=function(e){return e[0]*2097152+e[1]},Po=function(e,a){return[tu(e[0],a[0]),au(e[1],a[1])]},i1=function(e,a){var n={value:0,done:!1},l=0,s=e.length,u={next:function(){return l<s?n.value=e[l++]:n.done=!0,n}};return jE(u,a)},Bi=function(e,a){var n={value:0,done:!1},l=0,s=e.length,u={next:function(){return l<s?n.value=e.charCodeAt(l++):n.done=!0,n}};return jE(u,a)},KE=function(){return wC(arguments)},wC=function(e){for(var a,n=0;n<e.length;n++){var l=e[n];n===0?a=Bi(l):a=Bi(l,a)}return a};function SC(t,e,a,n,l){var s=l*Math.PI/180,u=Math.cos(s)*(t-a)-Math.sin(s)*(e-n)+a,f=Math.sin(s)*(t-a)+Math.cos(s)*(e-n)+n;return{x:u,y:f}}var CC=function(e,a,n,l,s,u){return{x:(e-n)*s+n,y:(a-l)*u+l}};function AC(t,e,a){if(a===0)return t;var n=(e.x1+e.x2)/2,l=(e.y1+e.y2)/2,s=e.w/e.h,u=1/s,f=SC(t.x,t.y,n,l,a),h=CC(f.x,f.y,n,l,s,u);return{x:h.x,y:h.y}}var l1=!0,DC=console.warn!=null,RC=console.trace!=null,xg=Number.MAX_SAFE_INTEGER||9007199254740991,ZE=function(){return!0},wf=function(){return!1},s1=function(){return 0},Tg=function(){},It=function(e){throw new Error(e)},QE=function(e){if(e!==void 0)l1=!!e;else return l1},Et=function(e){QE()&&(DC?console.warn(e):(console.log(e),RC&&console.trace()))},OC=function(e){return Ke({},e)},kr=function(e){return e==null?e:Ot(e)?e.slice():dt(e)?OC(e):e},MC=function(e){return e.slice()},WE=function(e,a){for(a=e="";e++<36;a+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return a},LC={},$E=function(){return LC},Ca=function(e){var a=Object.keys(e);return function(n){for(var l={},s=0;s<a.length;s++){var u=a[s],f=n?.[u];l[u]=f===void 0?e[u]:f}return l}},Qn=function(e,a,n){for(var l=e.length-1;l>=0;l--)e[l]===a&&e.splice(l,1)},wg=function(e){e.splice(0,e.length)},NC=function(e,a){for(var n=0;n<a.length;n++){var l=a[n];e.push(l)}},ja=function(e,a,n){return n&&(a=GE(n,a)),e[a]},ln=function(e,a,n,l){n&&(a=GE(n,a)),e[a]=l},BC=(function(){function t(){ai(this,t),this._obj={}}return ri(t,[{key:"set",value:function(a,n){return this._obj[a]=n,this}},{key:"delete",value:function(a){return this._obj[a]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(a){return this._obj[a]!==void 0}},{key:"get",value:function(a){return this._obj[a]}}])})(),un=typeof Map<"u"?Map:BC,_C="undefined",zC=(function(){function t(e){if(ai(this,t),this._obj=Object.create(null),this.size=0,e!=null){var a;e.instanceString!=null&&e.instanceString()===this.instanceString()?a=e.toArray():a=e;for(var n=0;n<a.length;n++)this.add(a[n])}}return ri(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(a){var n=this._obj;n[a]!==1&&(n[a]=1,this.size++)}},{key:"delete",value:function(a){var n=this._obj;n[a]===1&&(n[a]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(a){return this._obj[a]===1}},{key:"toArray",value:function(){var a=this;return Object.keys(this._obj).filter(function(n){return a.has(n)})}},{key:"forEach",value:function(a,n){return this.toArray().forEach(a,n)}}])})(),ql=(typeof Set>"u"?"undefined":sa(Set))!==_C?Set:zC,If=function(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||a===void 0||!mg(e)){It("An element must have a core reference and parameters set");return}var l=a.group;if(l==null&&(a.data&&a.data.source!=null&&a.data.target!=null?l="edges":l="nodes"),l!=="nodes"&&l!=="edges"){It("An element must be of type `nodes` or `edges`; you specified `"+l+"`");return}this.length=1,this[0]=this;var s=this._private={cy:e,single:!0,data:a.data||{},position:a.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:l,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!a.selected,selectable:a.selectable===void 0?!0:!!a.selectable,locked:!!a.locked,grabbed:!1,grabbable:a.grabbable===void 0?!0:!!a.grabbable,pannable:a.pannable===void 0?l==="edges":!!a.pannable,active:!1,classes:new ql,animation:{current:[],queue:[]},rscratch:{},scratch:a.scratch||{},edges:[],children:[],parent:a.parent&&a.parent.isNode()?a.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(s.position.x==null&&(s.position.x=0),s.position.y==null&&(s.position.y=0),a.renderedPosition){var u=a.renderedPosition,f=e.pan(),h=e.zoom();s.position={x:(u.x-f.x)/h,y:(u.y-f.y)/h}}var c=[];Ot(a.classes)?c=a.classes:He(a.classes)&&(c=a.classes.split(/\s+/));for(var v=0,g=c.length;v<g;v++){var y=c[v];!y||y===""||s.classes.add(y)}this.createEmitter(),(n===void 0||n)&&this.restore();var p=a.style||a.css;p&&(Et("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p))},u1=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,l,s){var u;dt(n)&&!ir(n)&&(u=n,n=u.roots||u.root,l=u.visit,s=u.directed),s=arguments.length===2&&!Ft(l)?l:s,l=Ft(l)?l:function(){};for(var f=this._private.cy,h=n=He(n)?this.filter(n):n,c=[],v=[],g={},y={},p={},m=0,E,x=this.byGroup(),T=x.nodes,C=x.edges,S=0;S<h.length;S++){var O=h[S],L=O.id();O.isNode()&&(c.unshift(O),e.bfs&&(p[L]=!0,v.push(O)),y[L]=0)}for(var _=function(){var I=e.bfs?c.shift():c.pop(),P=I.id();if(e.dfs){if(p[P])return 0;p[P]=!0,v.push(I)}var Y=y[P],U=g[P],G=U!=null?U.source():null,V=U!=null?U.target():null,X=U==null?void 0:I.same(G)?V[0]:G[0],K;if(K=l(I,U,X,m++,Y),K===!0)return E=I,1;if(K===!1)return 1;for(var k=I.connectedEdges().filter(function(ne){return(!s||ne.source().same(I))&&C.has(ne)}),q=0;q<k.length;q++){var j=k[q],Q=j.connectedNodes().filter(function(ne){return!ne.same(I)&&T.has(ne)}),J=Q.id();Q.length!==0&&!p[J]&&(Q=Q[0],c.push(Q),e.bfs&&(p[J]=!0,v.push(Q)),g[J]=j,y[J]=y[P]+1)}},D;c.length!==0&&(D=_(),!(D!==0&&D===1)););for(var A=f.collection(),R=0;R<v.length;R++){var M=v[R],B=g[M.id()];B!=null&&A.push(B),A.push(M)}return{path:f.collection(A),found:f.collection(E)}}},ru={breadthFirstSearch:u1({bfs:!0}),depthFirstSearch:u1({dfs:!0})};ru.bfs=ru.breadthFirstSearch;ru.dfs=ru.depthFirstSearch;var lf={exports:{}},kC=lf.exports,o1;function IC(){return o1||(o1=1,(function(t,e){(function(){var a,n,l,s,u,f,h,c,v,g,y,p,m,E,x;l=Math.floor,g=Math.min,n=function(T,C){return T<C?-1:T>C?1:0},v=function(T,C,S,O,L){var _;if(S==null&&(S=0),L==null&&(L=n),S<0)throw new Error("lo must be non-negative");for(O==null&&(O=T.length);S<O;)_=l((S+O)/2),L(C,T[_])<0?O=_:S=_+1;return[].splice.apply(T,[S,S-S].concat(C)),C},f=function(T,C,S){return S==null&&(S=n),T.push(C),E(T,0,T.length-1,S)},u=function(T,C){var S,O;return C==null&&(C=n),S=T.pop(),T.length?(O=T[0],T[0]=S,x(T,0,C)):O=S,O},c=function(T,C,S){var O;return S==null&&(S=n),O=T[0],T[0]=C,x(T,0,S),O},h=function(T,C,S){var O;return S==null&&(S=n),T.length&&S(T[0],C)<0&&(O=[T[0],C],C=O[0],T[0]=O[1],x(T,0,S)),C},s=function(T,C){var S,O,L,_,D,A;for(C==null&&(C=n),_=(function(){A=[];for(var R=0,M=l(T.length/2);0<=M?R<M:R>M;0<=M?R++:R--)A.push(R);return A}).apply(this).reverse(),D=[],O=0,L=_.length;O<L;O++)S=_[O],D.push(x(T,S,C));return D},m=function(T,C,S){var O;if(S==null&&(S=n),O=T.indexOf(C),O!==-1)return E(T,0,O,S),x(T,O,S)},y=function(T,C,S){var O,L,_,D,A;if(S==null&&(S=n),L=T.slice(0,C),!L.length)return L;for(s(L,S),A=T.slice(C),_=0,D=A.length;_<D;_++)O=A[_],h(L,O,S);return L.sort(S).reverse()},p=function(T,C,S){var O,L,_,D,A,R,M,B,z;if(S==null&&(S=n),C*10<=T.length){if(_=T.slice(0,C).sort(S),!_.length)return _;for(L=_[_.length-1],M=T.slice(C),D=0,R=M.length;D<R;D++)O=M[D],S(O,L)<0&&(v(_,O,0,null,S),_.pop(),L=_[_.length-1]);return _}for(s(T,S),z=[],A=0,B=g(C,T.length);0<=B?A<B:A>B;0<=B?++A:--A)z.push(u(T,S));return z},E=function(T,C,S,O){var L,_,D;for(O==null&&(O=n),L=T[S];S>C;){if(D=S-1>>1,_=T[D],O(L,_)<0){T[S]=_,S=D;continue}break}return T[S]=L},x=function(T,C,S){var O,L,_,D,A;for(S==null&&(S=n),L=T.length,A=C,_=T[C],O=2*C+1;O<L;)D=O+1,D<L&&!(S(T[O],T[D])<0)&&(O=D),T[C]=T[O],C=O,O=2*C+1;return T[C]=_,E(T,A,C,S)},a=(function(){T.push=f,T.pop=u,T.replace=c,T.pushpop=h,T.heapify=s,T.updateItem=m,T.nlargest=y,T.nsmallest=p;function T(C){this.cmp=C??n,this.nodes=[]}return T.prototype.push=function(C){return f(this.nodes,C,this.cmp)},T.prototype.pop=function(){return u(this.nodes,this.cmp)},T.prototype.peek=function(){return this.nodes[0]},T.prototype.contains=function(C){return this.nodes.indexOf(C)!==-1},T.prototype.replace=function(C){return c(this.nodes,C,this.cmp)},T.prototype.pushpop=function(C){return h(this.nodes,C,this.cmp)},T.prototype.heapify=function(){return s(this.nodes,this.cmp)},T.prototype.updateItem=function(C){return m(this.nodes,C,this.cmp)},T.prototype.clear=function(){return this.nodes=[]},T.prototype.empty=function(){return this.nodes.length===0},T.prototype.size=function(){return this.nodes.length},T.prototype.clone=function(){var C;return C=new T,C.nodes=this.nodes.slice(0),C},T.prototype.toArray=function(){return this.nodes.slice(0)},T.prototype.insert=T.prototype.push,T.prototype.top=T.prototype.peek,T.prototype.front=T.prototype.peek,T.prototype.has=T.prototype.contains,T.prototype.copy=T.prototype.clone,T})(),(function(T,C){return t.exports=C()})(this,function(){return a})}).call(kC)})(lf)),lf.exports}var Nv,f1;function UC(){return f1||(f1=1,Nv=IC()),Nv}var GC=UC(),yu=vu(GC),PC=Ca({root:null,weight:function(e){return 1},directed:!1}),FC={dijkstra:function(e){if(!dt(e)){var a=arguments;e={root:a[0],weight:a[1],directed:a[2]}}var n=PC(e),l=n.root,s=n.weight,u=n.directed,f=this,h=s,c=He(l)?this.filter(l)[0]:l[0],v={},g={},y={},p=this.byGroup(),m=p.nodes,E=p.edges;E.unmergeBy(function(Y){return Y.isLoop()});for(var x=function(U){return v[U.id()]},T=function(U,G){v[U.id()]=G,C.updateItem(U)},C=new yu(function(Y,U){return x(Y)-x(U)}),S=0;S<m.length;S++){var O=m[S];v[O.id()]=O.same(c)?0:1/0,C.push(O)}for(var L=function(U,G){for(var V=(u?U.edgesTo(G):U.edgesWith(G)).intersect(E),X=1/0,K,k=0;k<V.length;k++){var q=V[k],j=h(q);(j<X||!K)&&(X=j,K=q)}return{edge:K,dist:X}};C.size()>0;){var _=C.pop(),D=x(_),A=_.id();if(y[A]=D,D!==1/0)for(var R=_.neighborhood().intersect(m),M=0;M<R.length;M++){var B=R[M],z=B.id(),I=L(_,B),P=D+I.dist;P<x(B)&&(T(B,P),g[z]={node:_,edge:I.edge})}}return{distanceTo:function(U){var G=He(U)?m.filter(U)[0]:U[0];return y[G.id()]},pathTo:function(U){var G=He(U)?m.filter(U)[0]:U[0],V=[],X=G,K=X.id();if(G.length>0)for(V.unshift(G);g[K];){var k=g[K];V.unshift(k.edge),V.unshift(k.node),X=k.node,K=X.id()}return f.spawn(V)}}}},qC={kruskal:function(e){e=e||function(S){return 1};for(var a=this.byGroup(),n=a.nodes,l=a.edges,s=n.length,u=new Array(s),f=n,h=function(O){for(var L=0;L<u.length;L++){var _=u[L];if(_.has(O))return L}},c=0;c<s;c++)u[c]=this.spawn(n[c]);for(var v=l.sort(function(S,O){return e(S)-e(O)}),g=0;g<v.length;g++){var y=v[g],p=y.source()[0],m=y.target()[0],E=h(p),x=h(m),T=u[E],C=u[x];E!==x&&(f.merge(y),T.merge(C),u.splice(x,1))}return f}},HC=Ca({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),VC={aStar:function(e){var a=this.cy(),n=HC(e),l=n.root,s=n.goal,u=n.heuristic,f=n.directed,h=n.weight;l=a.collection(l)[0],s=a.collection(s)[0];var c=l.id(),v=s.id(),g={},y={},p={},m=new yu(function(K,k){return y[K.id()]-y[k.id()]}),E=new ql,x={},T={},C=function(k,q){m.push(k),E.add(q)},S,O,L=function(){S=m.pop(),O=S.id(),E.delete(O)},_=function(k){return E.has(k)};C(l,c),g[c]=0,y[c]=u(l);for(var D=0;m.size()>0;){if(L(),D++,O===v){for(var A=[],R=s,M=v,B=T[M];A.unshift(R),B!=null&&A.unshift(B),R=x[M],R!=null;)M=R.id(),B=T[M];return{found:!0,distance:g[O],path:this.spawn(A),steps:D}}p[O]=!0;for(var z=S._private.edges,I=0;I<z.length;I++){var P=z[I];if(this.hasElementWithId(P.id())&&!(f&&P.data("source")!==O)){var Y=P.source(),U=P.target(),G=Y.id()!==O?Y:U,V=G.id();if(this.hasElementWithId(V)&&!p[V]){var X=g[O]+h(P);if(!_(V)){g[V]=X,y[V]=X+u(G),C(G,V),x[V]=S,T[V]=P;continue}X<g[V]&&(g[V]=X,y[V]=X+u(G),x[V]=S,T[V]=P)}}}}return{found:!1,distance:void 0,path:void 0,steps:D}}},YC=Ca({weight:function(e){return 1},directed:!1}),XC={floydWarshall:function(e){for(var a=this.cy(),n=YC(e),l=n.weight,s=n.directed,u=l,f=this.byGroup(),h=f.nodes,c=f.edges,v=h.length,g=v*v,y=function(j){return h.indexOf(j)},p=function(j){return h[j]},m=new Array(g),E=0;E<g;E++){var x=E%v,T=(E-x)/v;T===x?m[E]=0:m[E]=1/0}for(var C=new Array(g),S=new Array(g),O=0;O<c.length;O++){var L=c[O],_=L.source()[0],D=L.target()[0];if(_!==D){var A=y(_),R=y(D),M=A*v+R,B=u(L);if(m[M]>B&&(m[M]=B,C[M]=R,S[M]=L),!s){var z=R*v+A;!s&&m[z]>B&&(m[z]=B,C[z]=A,S[z]=L)}}}for(var I=0;I<v;I++)for(var P=0;P<v;P++)for(var Y=P*v+I,U=0;U<v;U++){var G=P*v+U,V=I*v+U;m[Y]+m[V]<m[G]&&(m[G]=m[Y]+m[V],C[G]=C[Y])}var X=function(j){return(He(j)?a.filter(j):j)[0]},K=function(j){return y(X(j))},k={distance:function(j,Q){var J=K(j),ne=K(Q);return m[J*v+ne]},path:function(j,Q){var J=K(j),ne=K(Q),ue=p(J);if(J===ne)return ue.collection();if(C[J*v+ne]==null)return a.collection();var pe=a.collection(),ie=J,ee;for(pe.merge(ue);J!==ne;)ie=J,J=C[J*v+ne],ee=S[ie*v+J],pe.merge(ee),pe.merge(p(J));return pe}};return k}},jC=Ca({weight:function(e){return 1},directed:!1,root:null}),KC={bellmanFord:function(e){var a=this,n=jC(e),l=n.weight,s=n.directed,u=n.root,f=l,h=this,c=this.cy(),v=this.byGroup(),g=v.edges,y=v.nodes,p=y.length,m=new un,E=!1,x=[];u=c.collection(u)[0],g.unmergeBy(function(Ue){return Ue.isLoop()});for(var T=g.length,C=function(Ae){var De=m.get(Ae.id());return De||(De={},m.set(Ae.id(),De)),De},S=function(Ae){return(He(Ae)?c.$(Ae):Ae)[0]},O=function(Ae){return C(S(Ae)).dist},L=function(Ae){for(var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,we=S(Ae),Ne=[],Le=we;;){if(Le==null)return a.spawn();var Ye=C(Le),Ce=Ye.edge,je=Ye.pred;if(Ne.unshift(Le[0]),Le.same(De)&&Ne.length>0)break;Ce!=null&&Ne.unshift(Ce),Le=je}return h.spawn(Ne)},_=0;_<p;_++){var D=y[_],A=C(D);D.same(u)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var R=!1,M=function(Ae,De,we,Ne,Le,Ye){var Ce=Ne.dist+Ye;Ce<Le.dist&&!we.same(Ne.edge)&&(Le.dist=Ce,Le.pred=Ae,Le.edge=we,R=!0)},B=1;B<p;B++){R=!1;for(var z=0;z<T;z++){var I=g[z],P=I.source(),Y=I.target(),U=f(I),G=C(P),V=C(Y);M(P,Y,I,G,V,U),s||M(Y,P,I,V,G,U)}if(!R)break}if(R)for(var X=[],K=0;K<T;K++){var k=g[K],q=k.source(),j=k.target(),Q=f(k),J=C(q).dist,ne=C(j).dist;if(J+Q<ne||!s&&ne+Q<J)if(E||(Et("Graph contains a negative weight cycle for Bellman-Ford"),E=!0),e.findNegativeWeightCycles!==!1){var ue=[];J+Q<ne&&ue.push(q),!s&&ne+Q<J&&ue.push(j);for(var pe=ue.length,ie=0;ie<pe;ie++){var ee=ue[ie],W=[ee];W.push(C(ee).edge);for(var ae=C(ee).pred;W.indexOf(ae)===-1;)W.push(ae),W.push(C(ae).edge),ae=C(ae).pred;W=W.slice(W.indexOf(ae));for(var ce=W[0].id(),xe=0,Se=2;Se<W.length;Se+=2)W[Se].id()<ce&&(ce=W[Se].id(),xe=Se);W=W.slice(xe).concat(W.slice(0,xe)),W.push(W[0]);var Oe=W.map(function(Ue){return Ue.id()}).join(",");X.indexOf(Oe)===-1&&(x.push(h.spawn(W)),X.push(Oe))}}else break}return{distanceTo:O,pathTo:L,hasNegativeWeightCycle:E,negativeWeightCycles:x}}},ZC=Math.sqrt(2),QC=function(e,a,n){n.length===0&&It("Karger-Stein must be run on a connected (sub)graph");for(var l=n[e],s=l[1],u=l[2],f=a[s],h=a[u],c=n,v=c.length-1;v>=0;v--){var g=c[v],y=g[1],p=g[2];(a[y]===f&&a[p]===h||a[y]===h&&a[p]===f)&&c.splice(v,1)}for(var m=0;m<c.length;m++){var E=c[m];E[1]===h?(c[m]=E.slice(),c[m][1]=f):E[2]===h&&(c[m]=E.slice(),c[m][2]=f)}for(var x=0;x<a.length;x++)a[x]===h&&(a[x]=f);return c},Bv=function(e,a,n,l){for(;n>l;){var s=Math.floor(Math.random()*a.length);a=QC(s,e,a),n--}return a},WC={kargerStein:function(){var e=this,a=this.byGroup(),n=a.nodes,l=a.edges;l.unmergeBy(function(V){return V.isLoop()});var s=n.length,u=l.length,f=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),h=Math.floor(s/ZC);if(s<2){It("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],v=0;v<u;v++){var g=l[v];c.push([v,n.indexOf(g.source()),n.indexOf(g.target())])}for(var y=1/0,p=[],m=new Array(s),E=new Array(s),x=new Array(s),T=function(X,K){for(var k=0;k<s;k++)K[k]=X[k]},C=0;C<=f;C++){for(var S=0;S<s;S++)E[S]=S;var O=Bv(E,c.slice(),s,h),L=O.slice();T(E,x);var _=Bv(E,O,h,2),D=Bv(x,L,h,2);_.length<=D.length&&_.length<y?(y=_.length,p=_,T(E,m)):D.length<=_.length&&D.length<y&&(y=D.length,p=D,T(x,m))}for(var A=this.spawn(p.map(function(V){return l[V[0]]})),R=this.spawn(),M=this.spawn(),B=m[0],z=0;z<m.length;z++){var I=m[z],P=n[z];I===B?R.merge(P):M.merge(P)}var Y=function(X){var K=e.spawn();return X.forEach(function(k){K.merge(k),k.connectedEdges().forEach(function(q){e.contains(q)&&!A.contains(q)&&K.merge(q)})}),K},U=[Y(R),Y(M)],G={cut:A,components:U,partition1:R,partition2:M};return G}},_v,$C=function(e){return{x:e.x,y:e.y}},Uf=function(e,a,n){return{x:e.x*a+n.x,y:e.y*a+n.y}},JE=function(e,a,n){return{x:(e.x-n.x)/a,y:(e.y-n.y)/a}},Nl=function(e){return{x:e[0],y:e[1]}},JC=function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=1/0,s=a;s<n;s++){var u=e[s];isFinite(u)&&(l=Math.min(u,l))}return l},eA=function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=-1/0,s=a;s<n;s++){var u=e[s];isFinite(u)&&(l=Math.max(u,l))}return l},tA=function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=0,s=0,u=a;u<n;u++){var f=e[u];isFinite(f)&&(l+=f,s++)}return l/s},aA=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;l?e=e.slice(a,n):(n<e.length&&e.splice(n,e.length-n),a>0&&e.splice(0,a));for(var f=0,h=e.length-1;h>=0;h--){var c=e[h];u?isFinite(c)||(e[h]=-1/0,f++):e.splice(h,1)}s&&e.sort(function(y,p){return y-p});var v=e.length,g=Math.floor(v/2);return v%2!==0?e[g+1+f]:(e[g-1+f]+e[g+f])/2},rA=function(e){return Math.PI*e/180},Fo=function(e,a){return Math.atan2(a,e)-Math.PI/2},Sg=Math.log2||function(t){return Math.log(t)/Math.log(2)},Cg=function(e){return e>0?1:e<0?-1:0},_i=function(e,a){return Math.sqrt(Ai(e,a))},Ai=function(e,a){var n=a.x-e.x,l=a.y-e.y;return n*n+l*l},nA=function(e){for(var a=e.length,n=0,l=0;l<a;l++)n+=e[l];for(var s=0;s<a;s++)e[s]=e[s]/n;return e},ga=function(e,a,n,l){return(1-l)*(1-l)*e+2*(1-l)*l*a+l*l*n},zl=function(e,a,n,l){return{x:ga(e.x,a.x,n.x,l),y:ga(e.y,a.y,n.y,l)}},iA=function(e,a,n,l){var s={x:a.x-e.x,y:a.y-e.y},u=_i(e,a),f={x:s.x/u,y:s.y/u};return n=n??0,l=l??n*u,{x:e.x+f.x*l,y:e.y+f.y*l}},nu=function(e,a,n){return Math.max(e,Math.min(n,a))},Ia=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},lA=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},sA=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},uA=function(e,a){e.x1=Math.min(e.x1,a.x1),e.x2=Math.max(e.x2,a.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,a.y1),e.y2=Math.max(e.y2,a.y2),e.h=e.y2-e.y1},ex=function(e,a,n){e.x1=Math.min(e.x1,a),e.x2=Math.max(e.x2,a),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},sf=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=a,e.x2+=a,e.y1-=a,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},uf=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,l,s,u;if(a.length===1)n=l=s=u=a[0];else if(a.length===2)n=s=a[0],u=l=a[1];else if(a.length===4){var f=aa(a,4);n=f[0],l=f[1],s=f[2],u=f[3]}return e.x1-=u,e.x2+=l,e.y1-=n,e.y2+=s,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},c1=function(e,a){e.x1=a.x1,e.y1=a.y1,e.x2=a.x2,e.y2=a.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Ag=function(e,a){return!(e.x1>a.x2||a.x1>e.x2||e.x2<a.x1||a.x2<e.x1||e.y2<a.y1||a.y2<e.y1||e.y1>a.y2||a.y1>e.y2)},Yn=function(e,a,n){return e.x1<=a&&a<=e.x2&&e.y1<=n&&n<=e.y2},h1=function(e,a){return Yn(e,a.x,a.y)},tx=function(e,a){return Yn(e,a.x1,a.y1)&&Yn(e,a.x2,a.y2)},oA=(_v=Math.hypot)!==null&&_v!==void 0?_v:function(t,e){return Math.sqrt(t*t+e*e)};function fA(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var a=function(A,R){return{x:A.x+R.x,y:A.y+R.y}},n=function(A,R){return{x:A.x-R.x,y:A.y-R.y}},l=function(A,R){return{x:A.x*R,y:A.y*R}},s=function(A,R){return A.x*R.y-A.y*R.x},u=function(A){var R=oA(A.x,A.y);return R===0?{x:0,y:0}:{x:A.x/R,y:A.y/R}},f=function(A){for(var R=0,M=0;M<A.length;M++){var B=A[M],z=A[(M+1)%A.length];R+=B.x*z.y-z.x*B.y}return R/2},h=function(A,R,M,B){var z=n(R,A),I=n(B,M),P=s(z,I);if(Math.abs(P)<1e-9)return a(A,l(z,.5));var Y=s(n(M,A),I)/P;return a(A,l(z,Y))},c=t.map(function(D){return{x:D.x,y:D.y}});f(c)<0&&c.reverse();for(var v=c.length,g=[],y=0;y<v;y++){var p=c[y],m=c[(y+1)%v],E=n(m,p),x=u({x:E.y,y:-E.x});g.push(x)}for(var T=g.map(function(D,A){var R=a(c[A],l(D,e)),M=a(c[(A+1)%v],l(D,e));return{p1:R,p2:M}}),C=[],S=0;S<v;S++){var O=T[(S-1+v)%v],L=T[S],_=h(O.p1,O.p2,L.p1,L.p2);C.push(_)}return C}function cA(t,e,a,n,l,s){var u=EA(t,e,a,n,l),f=fA(u,s),h=Ia();return f.forEach(function(c){return ex(h,c.x,c.y)}),h}var ax=function(e,a,n,l,s,u,f){var h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=h==="auto"?Wn(s,u):h,v=s/2,g=u/2;c=Math.min(c,v,g);var y=c!==v,p=c!==g,m;if(y){var E=n-v+c-f,x=l-g-f,T=n+v-c+f,C=x;if(m=Xn(e,a,n,l,E,x,T,C,!1),m.length>0)return m}if(p){var S=n+v+f,O=l-g+c-f,L=S,_=l+g-c+f;if(m=Xn(e,a,n,l,S,O,L,_,!1),m.length>0)return m}if(y){var D=n-v+c-f,A=l+g+f,R=n+v-c+f,M=A;if(m=Xn(e,a,n,l,D,A,R,M,!1),m.length>0)return m}if(p){var B=n-v-f,z=l-g+c-f,I=B,P=l+g-c+f;if(m=Xn(e,a,n,l,B,z,I,P,!1),m.length>0)return m}var Y;{var U=n-v+c,G=l-g+c;if(Y=Ks(e,a,n,l,U,G,c+f),Y.length>0&&Y[0]<=U&&Y[1]<=G)return[Y[0],Y[1]]}{var V=n+v-c,X=l-g+c;if(Y=Ks(e,a,n,l,V,X,c+f),Y.length>0&&Y[0]>=V&&Y[1]<=X)return[Y[0],Y[1]]}{var K=n+v-c,k=l+g-c;if(Y=Ks(e,a,n,l,K,k,c+f),Y.length>0&&Y[0]>=K&&Y[1]>=k)return[Y[0],Y[1]]}{var q=n-v+c,j=l+g-c;if(Y=Ks(e,a,n,l,q,j,c+f),Y.length>0&&Y[0]<=q&&Y[1]>=j)return[Y[0],Y[1]]}return[]},hA=function(e,a,n,l,s,u,f){var h=f,c=Math.min(n,s),v=Math.max(n,s),g=Math.min(l,u),y=Math.max(l,u);return c-h<=e&&e<=v+h&&g-h<=a&&a<=y+h},vA=function(e,a,n,l,s,u,f,h,c){var v={x1:Math.min(n,f,s)-c,x2:Math.max(n,f,s)+c,y1:Math.min(l,h,u)-c,y2:Math.max(l,h,u)+c};return!(e<v.x1||e>v.x2||a<v.y1||a>v.y2)},dA=function(e,a,n,l){n-=l;var s=a*a-4*e*n;if(s<0)return[];var u=Math.sqrt(s),f=2*e,h=(-a+u)/f,c=(-a-u)/f;return[h,c]},gA=function(e,a,n,l,s){var u=1e-5;e===0&&(e=u),a/=e,n/=e,l/=e;var f,h,c,v,g,y,p,m;if(h=(3*n-a*a)/9,c=-(27*l)+a*(9*n-2*(a*a)),c/=54,f=h*h*h+c*c,s[1]=0,p=a/3,f>0){g=c+Math.sqrt(f),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),y=c-Math.sqrt(f),y=y<0?-Math.pow(-y,1/3):Math.pow(y,1/3),s[0]=-p+g+y,p+=(g+y)/2,s[4]=s[2]=-p,p=Math.sqrt(3)*(-y+g)/2,s[3]=p,s[5]=-p;return}if(s[5]=s[3]=0,f===0){m=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),s[0]=-p+2*m,s[4]=s[2]=-(m+p);return}h=-h,v=h*h*h,v=Math.acos(c/Math.sqrt(v)),m=2*Math.sqrt(h),s[0]=-p+m*Math.cos(v/3),s[2]=-p+m*Math.cos((v+2*Math.PI)/3),s[4]=-p+m*Math.cos((v+4*Math.PI)/3)},pA=function(e,a,n,l,s,u,f,h){var c=1*n*n-4*n*s+2*n*f+4*s*s-4*s*f+f*f+l*l-4*l*u+2*l*h+4*u*u-4*u*h+h*h,v=9*n*s-3*n*n-3*n*f-6*s*s+3*s*f+9*l*u-3*l*l-3*l*h-6*u*u+3*u*h,g=3*n*n-6*n*s+n*f-n*e+2*s*s+2*s*e-f*e+3*l*l-6*l*u+l*h-l*a+2*u*u+2*u*a-h*a,y=1*n*s-n*n+n*e-s*e+l*u-l*l+l*a-u*a,p=[];gA(c,v,g,y,p);for(var m=1e-7,E=[],x=0;x<6;x+=2)Math.abs(p[x+1])<m&&p[x]>=0&&p[x]<=1&&E.push(p[x]);E.push(1),E.push(0);for(var T=-1,C,S,O,L=0;L<E.length;L++)C=Math.pow(1-E[L],2)*n+2*(1-E[L])*E[L]*s+E[L]*E[L]*f,S=Math.pow(1-E[L],2)*l+2*(1-E[L])*E[L]*u+E[L]*E[L]*h,O=Math.pow(C-e,2)+Math.pow(S-a,2),T>=0?O<T&&(T=O):T=O;return T},yA=function(e,a,n,l,s,u){var f=[e-n,a-l],h=[s-n,u-l],c=h[0]*h[0]+h[1]*h[1],v=f[0]*f[0]+f[1]*f[1],g=f[0]*h[0]+f[1]*h[1],y=g*g/c;return g<0?v:y>c?(e-s)*(e-s)+(a-u)*(a-u):v-y},Ka=function(e,a,n){for(var l,s,u,f,h,c=0,v=0;v<n.length/2;v++)if(l=n[v*2],s=n[v*2+1],v+1<n.length/2?(u=n[(v+1)*2],f=n[(v+1)*2+1]):(u=n[(v+1-n.length/2)*2],f=n[(v+1-n.length/2)*2+1]),!(l==e&&u==e))if(l>=e&&e>=u||l<=e&&e<=u)h=(e-l)/(u-l)*(f-s)+s,h>a&&c++;else continue;return c%2!==0},fn=function(e,a,n,l,s,u,f,h,c){var v=new Array(n.length),g;h[0]!=null?(g=Math.atan(h[1]/h[0]),h[0]<0?g=g+Math.PI/2:g=-g-Math.PI/2):g=h;for(var y=Math.cos(-g),p=Math.sin(-g),m=0;m<v.length/2;m++)v[m*2]=u/2*(n[m*2]*y-n[m*2+1]*p),v[m*2+1]=f/2*(n[m*2+1]*y+n[m*2]*p),v[m*2]+=l,v[m*2+1]+=s;var E;if(c>0){var x=Cf(v,-c);E=Sf(x)}else E=v;return Ka(e,a,E)},mA=function(e,a,n,l,s,u,f,h){for(var c=new Array(n.length*2),v=0;v<h.length;v++){var g=h[v];c[v*4+0]=g.startX,c[v*4+1]=g.startY,c[v*4+2]=g.stopX,c[v*4+3]=g.stopY;var y=Math.pow(g.cx-e,2)+Math.pow(g.cy-a,2);if(y<=Math.pow(g.radius,2))return!0}return Ka(e,a,c)},Sf=function(e){for(var a=new Array(e.length/2),n,l,s,u,f,h,c,v,g=0;g<e.length/4;g++){n=e[g*4],l=e[g*4+1],s=e[g*4+2],u=e[g*4+3],g<e.length/4-1?(f=e[(g+1)*4],h=e[(g+1)*4+1],c=e[(g+1)*4+2],v=e[(g+1)*4+3]):(f=e[0],h=e[1],c=e[2],v=e[3]);var y=Xn(n,l,s,u,f,h,c,v,!0);a[g*2]=y[0],a[g*2+1]=y[1]}return a},Cf=function(e,a){for(var n=new Array(e.length*2),l,s,u,f,h=0;h<e.length/2;h++){l=e[h*2],s=e[h*2+1],h<e.length/2-1?(u=e[(h+1)*2],f=e[(h+1)*2+1]):(u=e[0],f=e[1]);var c=f-s,v=-(u-l),g=Math.sqrt(c*c+v*v),y=c/g,p=v/g;n[h*4]=l+y*a,n[h*4+1]=s+p*a,n[h*4+2]=u+y*a,n[h*4+3]=f+p*a}return n},bA=function(e,a,n,l,s,u){var f=n-e,h=l-a;f/=s,h/=u;var c=Math.sqrt(f*f+h*h),v=c-1;if(v<0)return[];var g=v/c;return[(n-e)*g+e,(l-a)*g+a]},Li=function(e,a,n,l,s,u,f){return e-=s,a-=u,e/=n/2+f,a/=l/2+f,e*e+a*a<=1},Ks=function(e,a,n,l,s,u,f){var h=[n-e,l-a],c=[e-s,a-u],v=h[0]*h[0]+h[1]*h[1],g=2*(c[0]*h[0]+c[1]*h[1]),y=c[0]*c[0]+c[1]*c[1]-f*f,p=g*g-4*v*y;if(p<0)return[];var m=(-g+Math.sqrt(p))/(2*v),E=(-g-Math.sqrt(p))/(2*v),x=Math.min(m,E),T=Math.max(m,E),C=[];if(x>=0&&x<=1&&C.push(x),T>=0&&T<=1&&C.push(T),C.length===0)return[];var S=C[0]*h[0]+e,O=C[0]*h[1]+a;if(C.length>1){if(C[0]==C[1])return[S,O];var L=C[1]*h[0]+e,_=C[1]*h[1]+a;return[S,O,L,_]}else return[S,O]},zv=function(e,a,n){return a<=e&&e<=n||n<=e&&e<=a?e:e<=a&&a<=n||n<=a&&a<=e?a:n},Xn=function(e,a,n,l,s,u,f,h,c){var v=e-s,g=n-e,y=f-s,p=a-u,m=l-a,E=h-u,x=y*p-E*v,T=g*p-m*v,C=E*g-y*m;if(C!==0){var S=x/C,O=T/C,L=.001,_=0-L,D=1+L;return _<=S&&S<=D&&_<=O&&O<=D?[e+S*g,a+S*m]:c?[e+S*g,a+S*m]:[]}else return x===0||T===0?zv(e,n,f)===f?[f,h]:zv(e,n,s)===s?[s,u]:zv(s,f,n)===n?[n,l]:[]:[]},EA=function(e,a,n,l,s){var u=[],f=l/2,h=s/2,c=a,v=n;u.push({x:c+f*e[0],y:v+h*e[1]});for(var g=1;g<e.length/2;g++)u.push({x:c+f*e[g*2],y:v+h*e[g*2+1]});return u},iu=function(e,a,n,l,s,u,f,h){var c=[],v,g=new Array(n.length),y=!0;u==null&&(y=!1);var p;if(y){for(var m=0;m<g.length/2;m++)g[m*2]=n[m*2]*u+l,g[m*2+1]=n[m*2+1]*f+s;if(h>0){var E=Cf(g,-h);p=Sf(E)}else p=g}else p=n;for(var x,T,C,S,O=0;O<p.length/2;O++)x=p[O*2],T=p[O*2+1],O<p.length/2-1?(C=p[(O+1)*2],S=p[(O+1)*2+1]):(C=p[0],S=p[1]),v=Xn(e,a,l,s,x,T,C,S),v.length!==0&&c.push(v[0],v[1]);return c},xA=function(e,a,n,l,s,u,f,h,c){var v=[],g,y=new Array(n.length*2);c.forEach(function(C,S){S===0?(y[y.length-2]=C.startX,y[y.length-1]=C.startY):(y[S*4-2]=C.startX,y[S*4-1]=C.startY),y[S*4]=C.stopX,y[S*4+1]=C.stopY,g=Ks(e,a,l,s,C.cx,C.cy,C.radius),g.length!==0&&v.push(g[0],g[1])});for(var p=0;p<y.length/4;p++)g=Xn(e,a,l,s,y[p*4],y[p*4+1],y[p*4+2],y[p*4+3],!1),g.length!==0&&v.push(g[0],g[1]);if(v.length>2){for(var m=[v[0],v[1]],E=Math.pow(m[0]-e,2)+Math.pow(m[1]-a,2),x=1;x<v.length/2;x++){var T=Math.pow(v[x*2]-e,2)+Math.pow(v[x*2+1]-a,2);T<=E&&(m[0]=v[x*2],m[1]=v[x*2+1],E=T)}return m}return v},qo=function(e,a,n){var l=[e[0]-a[0],e[1]-a[1]],s=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=(s-n)/s;return u<0&&(u=1e-5),[a[0]+u*l[0],a[1]+u*l[1]]},za=function(e,a){var n=Zd(e,a);return n=rx(n),n},rx=function(e){for(var a,n,l=e.length/2,s=1/0,u=1/0,f=-1/0,h=-1/0,c=0;c<l;c++)a=e[2*c],n=e[2*c+1],s=Math.min(s,a),f=Math.max(f,a),u=Math.min(u,n),h=Math.max(h,n);for(var v=2/(f-s),g=2/(h-u),y=0;y<l;y++)a=e[2*y]=e[2*y]*v,n=e[2*y+1]=e[2*y+1]*g,s=Math.min(s,a),f=Math.max(f,a),u=Math.min(u,n),h=Math.max(h,n);if(u<-1)for(var p=0;p<l;p++)n=e[2*p+1]=e[2*p+1]+(-1-u);return e},Zd=function(e,a){var n=1/e*2*Math.PI,l=e%2===0?Math.PI/2+n/2:Math.PI/2;l+=a;for(var s=new Array(e*2),u,f=0;f<e;f++)u=f*n+l,s[2*f]=Math.cos(u),s[2*f+1]=Math.sin(-u);return s},Wn=function(e,a){return Math.min(e/4,a/4,8)},nx=function(e,a){return Math.min(e/10,a/10,8)},Dg=function(){return 8},TA=function(e,a,n){return[e-2*a+n,2*(a-e),e]},Qd=function(e,a){return{heightOffset:Math.min(15,.05*a),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function kv(t,e){function a(g){for(var y=[],p=0;p<g.length;p++){var m=g[p],E=g[(p+1)%g.length],x={x:E.x-m.x,y:E.y-m.y},T={x:-x.y,y:x.x},C=Math.sqrt(T.x*T.x+T.y*T.y);y.push({x:T.x/C,y:T.y/C})}return y}function n(g,y){var p=1/0,m=-1/0,E=Za(g),x;try{for(E.s();!(x=E.n()).done;){var T=x.value,C=T.x*y.x+T.y*y.y;p=Math.min(p,C),m=Math.max(m,C)}}catch(S){E.e(S)}finally{E.f()}return{min:p,max:m}}function l(g,y){return!(g.max<y.min||y.max<g.min)}var s=[].concat(Ef(a(t)),Ef(a(e))),u=Za(s),f;try{for(u.s();!(f=u.n()).done;){var h=f.value,c=n(t,h),v=n(e,h);if(!l(c,v))return!1}}catch(g){u.e(g)}finally{u.f()}return!0}var wA=Ca({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),SA={pageRank:function(e){for(var a=wA(e),n=a.dampingFactor,l=a.precision,s=a.iterations,u=a.weight,f=this._private.cy,h=this.byGroup(),c=h.nodes,v=h.edges,g=c.length,y=g*g,p=v.length,m=new Array(y),E=new Array(g),x=(1-n)/g,T=0;T<g;T++){for(var C=0;C<g;C++){var S=T*g+C;m[S]=0}E[T]=0}for(var O=0;O<p;O++){var L=v[O],_=L.data("source"),D=L.data("target");if(_!==D){var A=c.indexOfId(_),R=c.indexOfId(D),M=u(L),B=R*g+A;m[B]+=M,E[A]+=M}}for(var z=1/g+x,I=0;I<g;I++)if(E[I]===0)for(var P=0;P<g;P++){var Y=P*g+I;m[Y]=z}else for(var U=0;U<g;U++){var G=U*g+I;m[G]=m[G]/E[I]+x}for(var V=new Array(g),X=new Array(g),K,k=0;k<g;k++)V[k]=1;for(var q=0;q<s;q++){for(var j=0;j<g;j++)X[j]=0;for(var Q=0;Q<g;Q++)for(var J=0;J<g;J++){var ne=Q*g+J;X[Q]+=m[ne]*V[J]}nA(X),K=V,V=X,X=K;for(var ue=0,pe=0;pe<g;pe++){var ie=K[pe]-V[pe];ue+=ie*ie}if(ue<l)break}var ee={rank:function(ae){return ae=f.collection(ae)[0],V[c.indexOf(ae)]}};return ee}},v1=Ca({root:null,weight:function(e){return 1},directed:!1,alpha:0}),kl={degreeCentralityNormalized:function(e){e=v1(e);var a=this.cy(),n=this.nodes(),l=n.length;if(e.directed){for(var v={},g={},y=0,p=0,m=0;m<l;m++){var E=n[m],x=E.id();e.root=E;var T=this.degreeCentrality(e);y<T.indegree&&(y=T.indegree),p<T.outdegree&&(p=T.outdegree),v[x]=T.indegree,g[x]=T.outdegree}return{indegree:function(S){return y==0?0:(He(S)&&(S=a.filter(S)),v[S.id()]/y)},outdegree:function(S){return p===0?0:(He(S)&&(S=a.filter(S)),g[S.id()]/p)}}}else{for(var s={},u=0,f=0;f<l;f++){var h=n[f];e.root=h;var c=this.degreeCentrality(e);u<c.degree&&(u=c.degree),s[h.id()]=c.degree}return{degree:function(S){return u===0?0:(He(S)&&(S=a.filter(S)),s[S.id()]/u)}}}},degreeCentrality:function(e){e=v1(e);var a=this.cy(),n=this,l=e,s=l.root,u=l.weight,f=l.directed,h=l.alpha;if(s=a.collection(s)[0],f){for(var p=s.connectedEdges(),m=p.filter(function(_){return _.target().same(s)&&n.has(_)}),E=p.filter(function(_){return _.source().same(s)&&n.has(_)}),x=m.length,T=E.length,C=0,S=0,O=0;O<m.length;O++)C+=u(m[O]);for(var L=0;L<E.length;L++)S+=u(E[L]);return{indegree:Math.pow(x,1-h)*Math.pow(C,h),outdegree:Math.pow(T,1-h)*Math.pow(S,h)}}else{for(var c=s.connectedEdges().intersection(n),v=c.length,g=0,y=0;y<c.length;y++)g+=u(c[y]);return{degree:Math.pow(v,1-h)*Math.pow(g,h)}}}};kl.dc=kl.degreeCentrality;kl.dcn=kl.degreeCentralityNormalised=kl.degreeCentralityNormalized;var d1=Ca({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Il={closenessCentralityNormalized:function(e){for(var a=d1(e),n=a.harmonic,l=a.weight,s=a.directed,u=this.cy(),f={},h=0,c=this.nodes(),v=this.floydWarshall({weight:l,directed:s}),g=0;g<c.length;g++){for(var y=0,p=c[g],m=0;m<c.length;m++)if(g!==m){var E=v.distance(p,c[m]);n?y+=1/E:y+=E}n||(y=1/y),h<y&&(h=y),f[p.id()]=y}return{closeness:function(T){return h==0?0:(He(T)?T=u.filter(T)[0].id():T=T.id(),f[T]/h)}}},closenessCentrality:function(e){var a=d1(e),n=a.root,l=a.weight,s=a.directed,u=a.harmonic;n=this.filter(n)[0];for(var f=this.dijkstra({root:n,weight:l,directed:s}),h=0,c=this.nodes(),v=0;v<c.length;v++){var g=c[v];if(!g.same(n)){var y=f.distanceTo(g);u?h+=1/y:h+=y}}return u?h:1/h}};Il.cc=Il.closenessCentrality;Il.ccn=Il.closenessCentralityNormalised=Il.closenessCentralityNormalized;var CA=Ca({weight:null,directed:!1}),Wd={betweennessCentrality:function(e){for(var a=CA(e),n=a.directed,l=a.weight,s=l!=null,u=this.cy(),f=this.nodes(),h={},c={},v=0,g={set:function(S,O){c[S]=O,O>v&&(v=O)},get:function(S){return c[S]}},y=0;y<f.length;y++){var p=f[y],m=p.id();n?h[m]=p.outgoers().nodes():h[m]=p.openNeighborhood().nodes(),g.set(m,0)}for(var E=function(){for(var S=f[x].id(),O=[],L={},_={},D={},A=new yu(function(Q,J){return D[Q]-D[J]}),R=0;R<f.length;R++){var M=f[R].id();L[M]=[],_[M]=0,D[M]=1/0}for(_[S]=1,D[S]=0,A.push(S);!A.empty();){var B=A.pop();if(O.push(B),s)for(var z=0;z<h[B].length;z++){var I=h[B][z],P=u.getElementById(B),Y=void 0;P.edgesTo(I).length>0?Y=P.edgesTo(I)[0]:Y=I.edgesTo(P)[0];var U=l(Y);I=I.id(),D[I]>D[B]+U&&(D[I]=D[B]+U,A.nodes.indexOf(I)<0?A.push(I):A.updateItem(I),_[I]=0,L[I]=[]),D[I]==D[B]+U&&(_[I]=_[I]+_[B],L[I].push(B))}else for(var G=0;G<h[B].length;G++){var V=h[B][G].id();D[V]==1/0&&(A.push(V),D[V]=D[B]+1),D[V]==D[B]+1&&(_[V]=_[V]+_[B],L[V].push(B))}}for(var X={},K=0;K<f.length;K++)X[f[K].id()]=0;for(;O.length>0;){for(var k=O.pop(),q=0;q<L[k].length;q++){var j=L[k][q];X[j]=X[j]+_[j]/_[k]*(1+X[k])}k!=f[x].id()&&g.set(k,g.get(k)+X[k])}},x=0;x<f.length;x++)E();var T={betweenness:function(S){var O=u.collection(S).id();return g.get(O)},betweennessNormalized:function(S){if(v==0)return 0;var O=u.collection(S).id();return g.get(O)/v}};return T.betweennessNormalised=T.betweennessNormalized,T}};Wd.bc=Wd.betweennessCentrality;var AA=Ca({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),DA=function(e){return AA(e)},RA=function(e,a){for(var n=0,l=0;l<a.length;l++)n+=a[l](e);return n},OA=function(e,a,n){for(var l=0;l<a;l++)e[l*a+l]=n},ix=function(e,a){for(var n,l=0;l<a;l++){n=0;for(var s=0;s<a;s++)n+=e[s*a+l];for(var u=0;u<a;u++)e[u*a+l]=e[u*a+l]/n}},MA=function(e,a,n){for(var l=new Array(n*n),s=0;s<n;s++){for(var u=0;u<n;u++)l[s*n+u]=0;for(var f=0;f<n;f++)for(var h=0;h<n;h++)l[s*n+h]+=e[s*n+f]*a[f*n+h]}return l},LA=function(e,a,n){for(var l=e.slice(0),s=1;s<n;s++)e=MA(e,l,a);return e},NA=function(e,a,n){for(var l=new Array(a*a),s=0;s<a*a;s++)l[s]=Math.pow(e[s],n);return ix(l,a),l},BA=function(e,a,n,l){for(var s=0;s<n;s++){var u=Math.round(e[s]*Math.pow(10,l))/Math.pow(10,l),f=Math.round(a[s]*Math.pow(10,l))/Math.pow(10,l);if(u!==f)return!1}return!0},_A=function(e,a,n,l){for(var s=[],u=0;u<a;u++){for(var f=[],h=0;h<a;h++)Math.round(e[u*a+h]*1e3)/1e3>0&&f.push(n[h]);f.length!==0&&s.push(l.collection(f))}return s},zA=function(e,a){for(var n=0;n<e.length;n++)if(!a[n]||e[n].id()!==a[n].id())return!1;return!0},kA=function(e){for(var a=0;a<e.length;a++)for(var n=0;n<e.length;n++)a!=n&&zA(e[a],e[n])&&e.splice(n,1);return e},g1=function(e){for(var a=this.nodes(),n=this.edges(),l=this.cy(),s=DA(e),u={},f=0;f<a.length;f++)u[a[f].id()]=f;for(var h=a.length,c=h*h,v=new Array(c),g,y=0;y<c;y++)v[y]=0;for(var p=0;p<n.length;p++){var m=n[p],E=u[m.source().id()],x=u[m.target().id()],T=RA(m,s.attributes);v[E*h+x]+=T,v[x*h+E]+=T}OA(v,h,s.multFactor),ix(v,h);for(var C=!0,S=0;C&&S<s.maxIterations;)C=!1,g=LA(v,h,s.expandFactor),v=NA(g,h,s.inflateFactor),BA(v,g,c,4)||(C=!0),S++;var O=_A(v,h,a,l);return O=kA(O),O},IA={markovClustering:g1,mcl:g1},UA=function(e){return e},lx=function(e,a){return Math.abs(a-e)},p1=function(e,a,n){return e+lx(a,n)},y1=function(e,a,n){return e+Math.pow(n-a,2)},GA=function(e){return Math.sqrt(e)},PA=function(e,a,n){return Math.max(e,lx(a,n))},Gs=function(e,a,n,l,s){for(var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:UA,f=l,h,c,v=0;v<e;v++)h=a(v),c=n(v),f=s(f,h,c);return u(f)},Pl={euclidean:function(e,a,n){return e>=2?Gs(e,a,n,0,y1,GA):Gs(e,a,n,0,p1)},squaredEuclidean:function(e,a,n){return Gs(e,a,n,0,y1)},manhattan:function(e,a,n){return Gs(e,a,n,0,p1)},max:function(e,a,n){return Gs(e,a,n,-1/0,PA)}};Pl["squared-euclidean"]=Pl.squaredEuclidean;Pl.squaredeuclidean=Pl.squaredEuclidean;function Gf(t,e,a,n,l,s){var u;return Ft(t)?u=t:u=Pl[t]||Pl.euclidean,e===0&&Ft(t)?u(l,s):u(e,a,n,l,s)}var FA=Ca({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Rg=function(e){return FA(e)},Af=function(e,a,n,l,s){var u=s!=="kMedoids",f=u?function(g){return n[g]}:function(g){return l[g](n)},h=function(y){return l[y](a)},c=n,v=a;return Gf(e,l.length,f,h,c,v)},Iv=function(e,a,n){for(var l=n.length,s=new Array(l),u=new Array(l),f=new Array(a),h=null,c=0;c<l;c++)s[c]=e.min(n[c]).value,u[c]=e.max(n[c]).value;for(var v=0;v<a;v++){h=[];for(var g=0;g<l;g++)h[g]=Math.random()*(u[g]-s[g])+s[g];f[v]=h}return f},sx=function(e,a,n,l,s){for(var u=1/0,f=0,h=0;h<a.length;h++){var c=Af(n,e,a[h],l,s);c<u&&(u=c,f=h)}return f},ux=function(e,a,n){for(var l=[],s=null,u=0;u<a.length;u++)s=a[u],n[s.id()]===e&&l.push(s);return l},qA=function(e,a,n){return Math.abs(a-e)<=n},HA=function(e,a,n){for(var l=0;l<e.length;l++)for(var s=0;s<e[l].length;s++){var u=Math.abs(e[l][s]-a[l][s]);if(u>n)return!1}return!0},VA=function(e,a,n){for(var l=0;l<n;l++)if(e===a[l])return!0;return!1},m1=function(e,a){var n=new Array(a);if(e.length<50)for(var l=0;l<a;l++){for(var s=e[Math.floor(Math.random()*e.length)];VA(s,n,l);)s=e[Math.floor(Math.random()*e.length)];n[l]=s}else for(var u=0;u<a;u++)n[u]=e[Math.floor(Math.random()*e.length)];return n},b1=function(e,a,n){for(var l=0,s=0;s<a.length;s++)l+=Af("manhattan",a[s],e,n,"kMedoids");return l},YA=function(e){var a=this.cy(),n=this.nodes(),l=null,s=Rg(e),u=new Array(s.k),f={},h;s.testMode?typeof s.testCentroids=="number"?(s.testCentroids,h=Iv(n,s.k,s.attributes)):sa(s.testCentroids)==="object"?h=s.testCentroids:h=Iv(n,s.k,s.attributes):h=Iv(n,s.k,s.attributes);for(var c=!0,v=0;c&&v<s.maxIterations;){for(var g=0;g<n.length;g++)l=n[g],f[l.id()]=sx(l,h,s.distance,s.attributes,"kMeans");c=!1;for(var y=0;y<s.k;y++){var p=ux(y,n,f);if(p.length!==0){for(var m=s.attributes.length,E=h[y],x=new Array(m),T=new Array(m),C=0;C<m;C++){T[C]=0;for(var S=0;S<p.length;S++)l=p[S],T[C]+=s.attributes[C](l);x[C]=T[C]/p.length,qA(x[C],E[C],s.sensitivityThreshold)||(c=!0)}h[y]=x,u[y]=a.collection(p)}}v++}return u},XA=function(e){var a=this.cy(),n=this.nodes(),l=null,s=Rg(e),u=new Array(s.k),f,h={},c,v=new Array(s.k);s.testMode?typeof s.testCentroids=="number"||(sa(s.testCentroids)==="object"?f=s.testCentroids:f=m1(n,s.k)):f=m1(n,s.k);for(var g=!0,y=0;g&&y<s.maxIterations;){for(var p=0;p<n.length;p++)l=n[p],h[l.id()]=sx(l,f,s.distance,s.attributes,"kMedoids");g=!1;for(var m=0;m<f.length;m++){var E=ux(m,n,h);if(E.length!==0){v[m]=b1(f[m],E,s.attributes);for(var x=0;x<E.length;x++)c=b1(E[x],E,s.attributes),c<v[m]&&(v[m]=c,f[m]=E[x],g=!0);u[m]=a.collection(E)}}y++}return u},jA=function(e,a,n,l,s){for(var u,f,h=0;h<a.length;h++)for(var c=0;c<e.length;c++)l[h][c]=Math.pow(n[h][c],s.m);for(var v=0;v<e.length;v++)for(var g=0;g<s.attributes.length;g++){u=0,f=0;for(var y=0;y<a.length;y++)u+=l[y][v]*s.attributes[g](a[y]),f+=l[y][v];e[v][g]=u/f}},KA=function(e,a,n,l,s){for(var u=0;u<e.length;u++)a[u]=e[u].slice();for(var f,h,c,v=2/(s.m-1),g=0;g<n.length;g++)for(var y=0;y<l.length;y++){f=0;for(var p=0;p<n.length;p++)h=Af(s.distance,l[y],n[g],s.attributes,"cmeans"),c=Af(s.distance,l[y],n[p],s.attributes,"cmeans"),f+=Math.pow(h/c,v);e[y][g]=1/f}},ZA=function(e,a,n,l){for(var s=new Array(n.k),u=0;u<s.length;u++)s[u]=[];for(var f,h,c=0;c<a.length;c++){f=-1/0,h=-1;for(var v=0;v<a[0].length;v++)a[c][v]>f&&(f=a[c][v],h=v);s[h].push(e[c])}for(var g=0;g<s.length;g++)s[g]=l.collection(s[g]);return s},E1=function(e){var a=this.cy(),n=this.nodes(),l=Rg(e),s,u,f,h,c;h=new Array(n.length);for(var v=0;v<n.length;v++)h[v]=new Array(l.k);f=new Array(n.length);for(var g=0;g<n.length;g++)f[g]=new Array(l.k);for(var y=0;y<n.length;y++){for(var p=0,m=0;m<l.k;m++)f[y][m]=Math.random(),p+=f[y][m];for(var E=0;E<l.k;E++)f[y][E]=f[y][E]/p}u=new Array(l.k);for(var x=0;x<l.k;x++)u[x]=new Array(l.attributes.length);c=new Array(n.length);for(var T=0;T<n.length;T++)c[T]=new Array(l.k);for(var C=!0,S=0;C&&S<l.maxIterations;)C=!1,jA(u,n,f,c,l),KA(f,h,u,n,l),HA(f,h,l.sensitivityThreshold)||(C=!0),S++;return s=ZA(n,f,l,a),{clusters:s,degreeOfMembership:f}},QA={kMeans:YA,kMedoids:XA,fuzzyCMeans:E1,fcm:E1},WA=Ca({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),$A={single:"min",complete:"max"},JA=function(e){var a=WA(e),n=$A[a.linkage];return n!=null&&(a.linkage=n),a},x1=function(e,a,n,l,s){for(var u=0,f=1/0,h,c=s.attributes,v=function(R,M){return Gf(s.distance,c.length,function(B){return c[B](R)},function(B){return c[B](M)},R,M)},g=0;g<e.length;g++){var y=e[g].key,p=n[y][l[y]];p<f&&(u=y,f=p)}if(s.mode==="threshold"&&f>=s.threshold||s.mode==="dendrogram"&&e.length===1)return!1;var m=a[u],E=a[l[u]],x;s.mode==="dendrogram"?x={left:m,right:E,key:m.key}:x={value:m.value.concat(E.value),key:m.key},e[m.index]=x,e.splice(E.index,1),a[m.key]=x;for(var T=0;T<e.length;T++){var C=e[T];m.key===C.key?h=1/0:s.linkage==="min"?(h=n[m.key][C.key],n[m.key][C.key]>n[E.key][C.key]&&(h=n[E.key][C.key])):s.linkage==="max"?(h=n[m.key][C.key],n[m.key][C.key]<n[E.key][C.key]&&(h=n[E.key][C.key])):s.linkage==="mean"?h=(n[m.key][C.key]*m.size+n[E.key][C.key]*E.size)/(m.size+E.size):s.mode==="dendrogram"?h=v(C.value,m.value):h=v(C.value[0],m.value[0]),n[m.key][C.key]=n[C.key][m.key]=h}for(var S=0;S<e.length;S++){var O=e[S].key;if(l[O]===m.key||l[O]===E.key){for(var L=O,_=0;_<e.length;_++){var D=e[_].key;n[O][D]<n[O][L]&&(L=D)}l[O]=L}e[S].index=S}return m.key=E.key=m.index=E.index=null,!0},Bl=function(e,a,n){e&&(e.value?a.push(e.value):(e.left&&Bl(e.left,a),e.right&&Bl(e.right,a)))},$d=function(e,a){if(!e)return"";if(e.left&&e.right){var n=$d(e.left,a),l=$d(e.right,a),s=a.add({group:"nodes",data:{id:n+","+l}});return a.add({group:"edges",data:{source:n,target:s.id()}}),a.add({group:"edges",data:{source:l,target:s.id()}}),s.id()}else if(e.value)return e.value.id()},Jd=function(e,a,n){if(!e)return[];var l=[],s=[],u=[];return a===0?(e.left&&Bl(e.left,l),e.right&&Bl(e.right,s),u=l.concat(s),[n.collection(u)]):a===1?e.value?[n.collection(e.value)]:(e.left&&Bl(e.left,l),e.right&&Bl(e.right,s),[n.collection(l),n.collection(s)]):e.value?[n.collection(e.value)]:(e.left&&(l=Jd(e.left,a-1,n)),e.right&&(s=Jd(e.right,a-1,n)),l.concat(s))},T1=function(e){for(var a=this.cy(),n=this.nodes(),l=JA(e),s=l.attributes,u=function(S,O){return Gf(l.distance,s.length,function(L){return s[L](S)},function(L){return s[L](O)},S,O)},f=[],h=[],c=[],v=[],g=0;g<n.length;g++){var y={value:l.mode==="dendrogram"?n[g]:[n[g]],key:g,index:g};f[g]=y,v[g]=y,h[g]=[],c[g]=0}for(var p=0;p<f.length;p++)for(var m=0;m<=p;m++){var E=void 0;l.mode==="dendrogram"?E=p===m?1/0:u(f[p].value,f[m].value):E=p===m?1/0:u(f[p].value[0],f[m].value[0]),h[p][m]=E,h[m][p]=E,E<h[p][c[p]]&&(c[p]=m)}for(var x=x1(f,v,h,c,l);x;)x=x1(f,v,h,c,l);var T;return l.mode==="dendrogram"?(T=Jd(f[0],l.dendrogramDepth,a),l.addDendrogram&&$d(f[0],a)):(T=new Array(f.length),f.forEach(function(C,S){C.key=C.index=null,T[S]=a.collection(C.value)})),T},eD={hierarchicalClustering:T1,hca:T1},tD=Ca({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),aD=function(e){var a=e.damping,n=e.preference;.5<=a&&a<1||It("Damping must range on [0.5, 1).  Got: ".concat(a));var l=["median","mean","min","max"];return l.some(function(s){return s===n})||Re(n)||It("Preference must be one of [".concat(l.map(function(s){return"'".concat(s,"'")}).join(", "),"] or a number.  Got: ").concat(n)),tD(e)},rD=function(e,a,n,l){var s=function(f,h){return l[h](f)};return-Gf(e,l.length,function(u){return s(a,u)},function(u){return s(n,u)},a,n)},nD=function(e,a){var n=null;return a==="median"?n=aA(e):a==="mean"?n=tA(e):a==="min"?n=JC(e):a==="max"?n=eA(e):n=a,n},iD=function(e,a,n){for(var l=[],s=0;s<e;s++)a[s*e+s]+n[s*e+s]>0&&l.push(s);return l},w1=function(e,a,n){for(var l=[],s=0;s<e;s++){for(var u=-1,f=-1/0,h=0;h<n.length;h++){var c=n[h];a[s*e+c]>f&&(u=c,f=a[s*e+c])}u>0&&l.push(u)}for(var v=0;v<n.length;v++)l[n[v]]=n[v];return l},lD=function(e,a,n){for(var l=w1(e,a,n),s=0;s<n.length;s++){for(var u=[],f=0;f<l.length;f++)l[f]===n[s]&&u.push(f);for(var h=-1,c=-1/0,v=0;v<u.length;v++){for(var g=0,y=0;y<u.length;y++)g+=a[u[y]*e+u[v]];g>c&&(h=v,c=g)}n[s]=u[h]}return l=w1(e,a,n),l},S1=function(e){for(var a=this.cy(),n=this.nodes(),l=aD(e),s={},u=0;u<n.length;u++)s[n[u].id()]=u;var f,h,c,v,g,y;f=n.length,h=f*f,c=new Array(h);for(var p=0;p<h;p++)c[p]=-1/0;for(var m=0;m<f;m++)for(var E=0;E<f;E++)m!==E&&(c[m*f+E]=rD(l.distance,n[m],n[E],l.attributes));v=nD(c,l.preference);for(var x=0;x<f;x++)c[x*f+x]=v;g=new Array(h);for(var T=0;T<h;T++)g[T]=0;y=new Array(h);for(var C=0;C<h;C++)y[C]=0;for(var S=new Array(f),O=new Array(f),L=new Array(f),_=0;_<f;_++)S[_]=0,O[_]=0,L[_]=0;for(var D=new Array(f*l.minIterations),A=0;A<D.length;A++)D[A]=0;var R;for(R=0;R<l.maxIterations;R++){for(var M=0;M<f;M++){for(var B=-1/0,z=-1/0,I=-1,P=0,Y=0;Y<f;Y++)S[Y]=g[M*f+Y],P=y[M*f+Y]+c[M*f+Y],P>=B?(z=B,B=P,I=Y):P>z&&(z=P);for(var U=0;U<f;U++)g[M*f+U]=(1-l.damping)*(c[M*f+U]-B)+l.damping*S[U];g[M*f+I]=(1-l.damping)*(c[M*f+I]-z)+l.damping*S[I]}for(var G=0;G<f;G++){for(var V=0,X=0;X<f;X++)S[X]=y[X*f+G],O[X]=Math.max(0,g[X*f+G]),V+=O[X];V-=O[G],O[G]=g[G*f+G],V+=O[G];for(var K=0;K<f;K++)y[K*f+G]=(1-l.damping)*Math.min(0,V-O[K])+l.damping*S[K];y[G*f+G]=(1-l.damping)*(V-O[G])+l.damping*S[G]}for(var k=0,q=0;q<f;q++){var j=y[q*f+q]+g[q*f+q]>0?1:0;D[R%l.minIterations*f+q]=j,k+=j}if(k>0&&(R>=l.minIterations-1||R==l.maxIterations-1)){for(var Q=0,J=0;J<f;J++){L[J]=0;for(var ne=0;ne<l.minIterations;ne++)L[J]+=D[ne*f+J];(L[J]===0||L[J]===l.minIterations)&&Q++}if(Q===f)break}}for(var ue=iD(f,g,y),pe=lD(f,c,ue),ie={},ee=0;ee<ue.length;ee++)ie[ue[ee]]=[];for(var W=0;W<n.length;W++){var ae=s[n[W].id()],ce=pe[ae];ce!=null&&ie[ce].push(n[W])}for(var xe=new Array(ue.length),Se=0;Se<ue.length;Se++)xe[Se]=a.collection(ie[ue[Se]]);return xe},sD={affinityPropagation:S1,ap:S1},uD=Ca({root:void 0,directed:!1}),oD={hierholzer:function(e){if(!dt(e)){var a=arguments;e={root:a[0],directed:a[1]}}var n=uD(e),l=n.root,s=n.directed,u=this,f=!1,h,c,v;l&&(v=He(l)?this.filter(l)[0].id():l[0].id());var g={},y={};s?u.forEach(function(C){var S=C.id();if(C.isNode()){var O=C.indegree(!0),L=C.outdegree(!0),_=O-L,D=L-O;_==1?h?f=!0:h=S:D==1?c?f=!0:c=S:(D>1||_>1)&&(f=!0),g[S]=[],C.outgoers().forEach(function(A){A.isEdge()&&g[S].push(A.id())})}else y[S]=[void 0,C.target().id()]}):u.forEach(function(C){var S=C.id();if(C.isNode()){var O=C.degree(!0);O%2&&(h?c?f=!0:c=S:h=S),g[S]=[],C.connectedEdges().forEach(function(L){return g[S].push(L.id())})}else y[S]=[C.source().id(),C.target().id()]});var p={found:!1,trail:void 0};if(f)return p;if(c&&h)if(s){if(v&&c!=v)return p;v=c}else{if(v&&c!=v&&h!=v)return p;v||(v=c)}else v||(v=u[0].id());var m=function(S){for(var O=S,L=[S],_,D,A;g[O].length;)_=g[O].shift(),D=y[_][0],A=y[_][1],O!=A?(g[A]=g[A].filter(function(R){return R!=_}),O=A):!s&&O!=D&&(g[D]=g[D].filter(function(R){return R!=_}),O=D),L.unshift(_),L.unshift(O);return L},E=[],x=[];for(x=m(v);x.length!=1;)g[x[0]].length==0?(E.unshift(u.getElementById(x.shift())),E.unshift(u.getElementById(x.shift()))):x=m(x.shift()).concat(x);E.unshift(u.getElementById(x.shift()));for(var T in g)if(g[T].length)return p;return p.found=!0,p.trail=this.spawn(E,!0),p}},Ho=function(){var e=this,a={},n=0,l=0,s=[],u=[],f={},h=function(y,p){for(var m=u.length-1,E=[],x=e.spawn();u[m].x!=y||u[m].y!=p;)E.push(u.pop().edge),m--;E.push(u.pop().edge),E.forEach(function(T){var C=T.connectedNodes().intersection(e);x.merge(T),C.forEach(function(S){var O=S.id(),L=S.connectedEdges().intersection(e);x.merge(S),a[O].cutVertex?x.merge(L.filter(function(_){return _.isLoop()})):x.merge(L)})}),s.push(x)},c=function(y,p,m){y===m&&(l+=1),a[p]={id:n,low:n++,cutVertex:!1};var E=e.getElementById(p).connectedEdges().intersection(e);if(E.size()===0)s.push(e.spawn(e.getElementById(p)));else{var x,T,C,S;E.forEach(function(O){x=O.source().id(),T=O.target().id(),C=x===p?T:x,C!==m&&(S=O.id(),f[S]||(f[S]=!0,u.push({x:p,y:C,edge:O})),C in a?a[p].low=Math.min(a[p].low,a[C].id):(c(y,C,p),a[p].low=Math.min(a[p].low,a[C].low),a[p].id<=a[C].low&&(a[p].cutVertex=!0,h(p,C))))})}};e.forEach(function(g){if(g.isNode()){var y=g.id();y in a||(l=0,c(y,y),a[y].cutVertex=l>1)}});var v=Object.keys(a).filter(function(g){return a[g].cutVertex}).map(function(g){return e.getElementById(g)});return{cut:e.spawn(v),components:s}},fD={hopcroftTarjanBiconnected:Ho,htbc:Ho,htb:Ho,hopcroftTarjanBiconnectedComponents:Ho},Vo=function(){var e=this,a={},n=0,l=[],s=[],u=e.spawn(e),f=function(c){s.push(c),a[c]={index:n,low:n++,explored:!1};var v=e.getElementById(c).connectedEdges().intersection(e);if(v.forEach(function(E){var x=E.target().id();x!==c&&(x in a||f(x),a[x].explored||(a[c].low=Math.min(a[c].low,a[x].low)))}),a[c].index===a[c].low){for(var g=e.spawn();;){var y=s.pop();if(g.merge(e.getElementById(y)),a[y].low=a[c].index,a[y].explored=!0,y===c)break}var p=g.edgesWith(g),m=g.merge(p);l.push(m),u=u.difference(m)}};return e.forEach(function(h){if(h.isNode()){var c=h.id();c in a||f(c)}}),{cut:u,components:l}},cD={tarjanStronglyConnected:Vo,tsc:Vo,tscc:Vo,tarjanStronglyConnectedComponents:Vo},ox={};[ru,FC,qC,VC,XC,KC,WC,SA,kl,Il,Wd,IA,QA,eD,sD,oD,fD,cD].forEach(function(t){Ke(ox,t)});var fx=0,cx=1,hx=2,Dr=function(e){if(!(this instanceof Dr))return new Dr(e);this.id="Thenable/1.0.7",this.state=fx,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Dr.prototype={fulfill:function(e){return C1(this,cx,"fulfillValue",e)},reject:function(e){return C1(this,hx,"rejectReason",e)},then:function(e,a){var n=this,l=new Dr;return n.onFulfilled.push(D1(e,l,"fulfill")),n.onRejected.push(D1(a,l,"reject")),vx(n),l.proxy}};var C1=function(e,a,n,l){return e.state===fx&&(e.state=a,e[n]=l,vx(e)),e},vx=function(e){e.state===cx?A1(e,"onFulfilled",e.fulfillValue):e.state===hx&&A1(e,"onRejected",e.rejectReason)},A1=function(e,a,n){if(e[a].length!==0){var l=e[a];e[a]=[];var s=function(){for(var f=0;f<l.length;f++)l[f](n)};typeof setImmediate=="function"?setImmediate(s):setTimeout(s,0)}},D1=function(e,a,n){return function(l){if(typeof e!="function")a[n].call(a,l);else{var s;try{s=e(l)}catch(u){a.reject(u);return}dx(a,s)}}},dx=function(e,a){if(e===a||e.proxy===a){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(sa(a)==="object"&&a!==null||typeof a=="function")try{n=a.then}catch(s){e.reject(s);return}if(typeof n=="function"){var l=!1;try{n.call(a,function(s){l||(l=!0,s===a?e.reject(new TypeError("circular thenable chain")):dx(e,s))},function(s){l||(l=!0,e.reject(s))})}catch(s){l||e.reject(s)}return}e.fulfill(a)};Dr.all=function(t){return new Dr(function(e,a){for(var n=new Array(t.length),l=0,s=function(h,c){n[h]=c,l++,l===t.length&&e(n)},u=0;u<t.length;u++)(function(f){var h=t[f],c=h!=null&&h.then!=null;if(c)h.then(function(g){s(f,g)},function(g){a(g)});else{var v=h;s(f,v)}})(u)})};Dr.resolve=function(t){return new Dr(function(e,a){e(t)})};Dr.reject=function(t){return new Dr(function(e,a){a(t)})};var Hl=typeof Promise<"u"?Promise:Dr,eg=function(e,a,n){var l=mg(e),s=!l,u=this._private=Ke({duration:1e3},a,n);if(u.target=e,u.style=u.style||u.css,u.started=!1,u.playing=!1,u.hooked=!1,u.applying=!1,u.progress=0,u.completes=[],u.frames=[],u.complete&&Ft(u.complete)&&u.completes.push(u.complete),s){var f=e.position();u.startPosition=u.startPosition||{x:f.x,y:f.y},u.startStyle=u.startStyle||e.cy().style().getAnimationStartStyle(e,u.style)}if(l){var h=e.pan();u.startPan={x:h.x,y:h.y},u.startZoom=e.zoom()}this.length=1,this[0]=this},zi=eg.prototype;Ke(zi,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var a,n=e.target._private.animation;e.queue?a=n.queue:a=n.current,a.push(this),ir(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var a=this._private;return e===void 0?a.progress*a.duration:this.progress(e/a.duration)},progress:function(e){var a=this._private,n=a.playing;return e===void 0?a.progress:(n&&this.pause(),a.progress=e,a.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,a=e.playing;a&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(c,v){var g=e[c];g!=null&&(e[c]=e[v],e[v]=g)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var l=0;l<e.style.length;l++){var s=e.style[l],u=s.name,f=e.startStyle[u];e.startStyle[u]=s,e.style[l]=f}return a&&this.play(),this},promise:function(e){var a=this._private,n;switch(e){case"frame":n=a.frames;break;default:case"complete":case"completed":n=a.completes}return new Hl(function(l,s){n.push(function(){l()})})}});zi.complete=zi.completed;zi.run=zi.play;zi.running=zi.playing;var hD={animated:function(){return function(){var a=this,n=a.length!==void 0,l=n?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return!1;var u=l[0];if(u)return u._private.animation.current.length>0}},clearQueue:function(){return function(){var a=this,n=a.length!==void 0,l=n?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<l.length;u++){var f=l[u];f._private.animation.queue=[]}return this}},delay:function(){return function(a,n){var l=this._private.cy||this;return l.styleEnabled()?this.animate({delay:a,duration:a,complete:n}):this}},delayAnimation:function(){return function(a,n){var l=this._private.cy||this;return l.styleEnabled()?this.animation({delay:a,duration:a,complete:n}):this}},animation:function(){return function(a,n){var l=this,s=l.length!==void 0,u=s?l:[l],f=this._private.cy||this,h=!s,c=!h;if(!f.styleEnabled())return this;var v=f.style();a=Ke({},a,n);var g=Object.keys(a).length===0;if(g)return new eg(u[0],a);switch(a.duration===void 0&&(a.duration=400),a.duration){case"slow":a.duration=600;break;case"fast":a.duration=200;break}if(c&&(a.style=v.getPropsList(a.style||a.css),a.css=void 0),c&&a.renderedPosition!=null){var y=a.renderedPosition,p=f.pan(),m=f.zoom();a.position=JE(y,m,p)}if(h&&a.panBy!=null){var E=a.panBy,x=f.pan();a.pan={x:x.x+E.x,y:x.y+E.y}}var T=a.center||a.centre;if(h&&T!=null){var C=f.getCenterPan(T.eles,a.zoom);C!=null&&(a.pan=C)}if(h&&a.fit!=null){var S=a.fit,O=f.getFitViewport(S.eles||S.boundingBox,S.padding);O!=null&&(a.pan=O.pan,a.zoom=O.zoom)}if(h&&dt(a.zoom)){var L=f.getZoomedViewport(a.zoom);L!=null?(L.zoomed&&(a.zoom=L.zoom),L.panned&&(a.pan=L.pan)):a.zoom=null}return new eg(u[0],a)}},animate:function(){return function(a,n){var l=this,s=l.length!==void 0,u=s?l:[l],f=this._private.cy||this;if(!f.styleEnabled())return this;n&&(a=Ke({},a,n));for(var h=0;h<u.length;h++){var c=u[h],v=c.animated()&&(a.queue===void 0||a.queue),g=c.animation(a,v?{queue:!0}:void 0);g.play()}return this}},stop:function(){return function(a,n){var l=this,s=l.length!==void 0,u=s?l:[l],f=this._private.cy||this;if(!f.styleEnabled())return this;for(var h=0;h<u.length;h++){for(var c=u[h],v=c._private,g=v.animation.current,y=0;y<g.length;y++){var p=g[y],m=p._private;n&&(m.duration=0)}a&&(v.animation.queue=[]),n||(v.animation.current=[])}return f.notify("draw"),this}}},Uv,R1;function Pf(){if(R1)return Uv;R1=1;var t=Array.isArray;return Uv=t,Uv}var Gv,O1;function vD(){if(O1)return Gv;O1=1;var t=Pf(),e=gu(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function l(s,u){if(t(s))return!1;var f=typeof s;return f=="number"||f=="symbol"||f=="boolean"||s==null||e(s)?!0:n.test(s)||!a.test(s)||u!=null&&s in Object(u)}return Gv=l,Gv}var Pv,M1;function dD(){if(M1)return Pv;M1=1;var t=VE(),e=du(),a="[object AsyncFunction]",n="[object Function]",l="[object GeneratorFunction]",s="[object Proxy]";function u(f){if(!e(f))return!1;var h=t(f);return h==n||h==l||h==a||h==s}return Pv=u,Pv}var Fv,L1;function gD(){if(L1)return Fv;L1=1;var t=kf(),e=t["__core-js_shared__"];return Fv=e,Fv}var qv,N1;function pD(){if(N1)return qv;N1=1;var t=gD(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function a(n){return!!e&&e in n}return qv=a,qv}var Hv,B1;function yD(){if(B1)return Hv;B1=1;var t=Function.prototype,e=t.toString;function a(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Hv=a,Hv}var Vv,_1;function mD(){if(_1)return Vv;_1=1;var t=dD(),e=pD(),a=du(),n=yD(),l=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,h=u.toString,c=f.hasOwnProperty,v=RegExp("^"+h.call(c).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!a(y)||e(y))return!1;var p=t(y)?v:s;return p.test(n(y))}return Vv=g,Vv}var Yv,z1;function bD(){if(z1)return Yv;z1=1;function t(e,a){return e?.[a]}return Yv=t,Yv}var Xv,k1;function Og(){if(k1)return Xv;k1=1;var t=mD(),e=bD();function a(n,l){var s=e(n,l);return t(s)?s:void 0}return Xv=a,Xv}var jv,I1;function Ff(){if(I1)return jv;I1=1;var t=Og(),e=t(Object,"create");return jv=e,jv}var Kv,U1;function ED(){if(U1)return Kv;U1=1;var t=Ff();function e(){this.__data__=t?t(null):{},this.size=0}return Kv=e,Kv}var Zv,G1;function xD(){if(G1)return Zv;G1=1;function t(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a}return Zv=t,Zv}var Qv,P1;function TD(){if(P1)return Qv;P1=1;var t=Ff(),e="__lodash_hash_undefined__",a=Object.prototype,n=a.hasOwnProperty;function l(s){var u=this.__data__;if(t){var f=u[s];return f===e?void 0:f}return n.call(u,s)?u[s]:void 0}return Qv=l,Qv}var Wv,F1;function wD(){if(F1)return Wv;F1=1;var t=Ff(),e=Object.prototype,a=e.hasOwnProperty;function n(l){var s=this.__data__;return t?s[l]!==void 0:a.call(s,l)}return Wv=n,Wv}var $v,q1;function SD(){if(q1)return $v;q1=1;var t=Ff(),e="__lodash_hash_undefined__";function a(n,l){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&l===void 0?e:l,this}return $v=a,$v}var Jv,H1;function CD(){if(H1)return Jv;H1=1;var t=ED(),e=xD(),a=TD(),n=wD(),l=SD();function s(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var c=u[f];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=a,s.prototype.has=n,s.prototype.set=l,Jv=s,Jv}var ed,V1;function AD(){if(V1)return ed;V1=1;function t(){this.__data__=[],this.size=0}return ed=t,ed}var td,Y1;function gx(){if(Y1)return td;Y1=1;function t(e,a){return e===a||e!==e&&a!==a}return td=t,td}var ad,X1;function qf(){if(X1)return ad;X1=1;var t=gx();function e(a,n){for(var l=a.length;l--;)if(t(a[l][0],n))return l;return-1}return ad=e,ad}var rd,j1;function DD(){if(j1)return rd;j1=1;var t=qf(),e=Array.prototype,a=e.splice;function n(l){var s=this.__data__,u=t(s,l);if(u<0)return!1;var f=s.length-1;return u==f?s.pop():a.call(s,u,1),--this.size,!0}return rd=n,rd}var nd,K1;function RD(){if(K1)return nd;K1=1;var t=qf();function e(a){var n=this.__data__,l=t(n,a);return l<0?void 0:n[l][1]}return nd=e,nd}var id,Z1;function OD(){if(Z1)return id;Z1=1;var t=qf();function e(a){return t(this.__data__,a)>-1}return id=e,id}var ld,Q1;function MD(){if(Q1)return ld;Q1=1;var t=qf();function e(a,n){var l=this.__data__,s=t(l,a);return s<0?(++this.size,l.push([a,n])):l[s][1]=n,this}return ld=e,ld}var sd,W1;function LD(){if(W1)return sd;W1=1;var t=AD(),e=DD(),a=RD(),n=OD(),l=MD();function s(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var c=u[f];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=a,s.prototype.has=n,s.prototype.set=l,sd=s,sd}var ud,$1;function ND(){if($1)return ud;$1=1;var t=Og(),e=kf(),a=t(e,"Map");return ud=a,ud}var od,J1;function BD(){if(J1)return od;J1=1;var t=CD(),e=LD(),a=ND();function n(){this.size=0,this.__data__={hash:new t,map:new(a||e),string:new t}}return od=n,od}var fd,eb;function _D(){if(eb)return fd;eb=1;function t(e){var a=typeof e;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?e!=="__proto__":e===null}return fd=t,fd}var cd,tb;function Hf(){if(tb)return cd;tb=1;var t=_D();function e(a,n){var l=a.__data__;return t(n)?l[typeof n=="string"?"string":"hash"]:l.map}return cd=e,cd}var hd,ab;function zD(){if(ab)return hd;ab=1;var t=Hf();function e(a){var n=t(this,a).delete(a);return this.size-=n?1:0,n}return hd=e,hd}var vd,rb;function kD(){if(rb)return vd;rb=1;var t=Hf();function e(a){return t(this,a).get(a)}return vd=e,vd}var dd,nb;function ID(){if(nb)return dd;nb=1;var t=Hf();function e(a){return t(this,a).has(a)}return dd=e,dd}var gd,ib;function UD(){if(ib)return gd;ib=1;var t=Hf();function e(a,n){var l=t(this,a),s=l.size;return l.set(a,n),this.size+=l.size==s?0:1,this}return gd=e,gd}var pd,lb;function GD(){if(lb)return pd;lb=1;var t=BD(),e=zD(),a=kD(),n=ID(),l=UD();function s(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var c=u[f];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=a,s.prototype.has=n,s.prototype.set=l,pd=s,pd}var yd,sb;function PD(){if(sb)return yd;sb=1;var t=GD(),e="Expected a function";function a(n,l){if(typeof n!="function"||l!=null&&typeof l!="function")throw new TypeError(e);var s=function(){var u=arguments,f=l?l.apply(this,u):u[0],h=s.cache;if(h.has(f))return h.get(f);var c=n.apply(this,u);return s.cache=h.set(f,c)||h,c};return s.cache=new(a.Cache||t),s}return a.Cache=t,yd=a,yd}var md,ub;function FD(){if(ub)return md;ub=1;var t=PD(),e=500;function a(n){var l=t(n,function(u){return s.size===e&&s.clear(),u}),s=l.cache;return l}return md=a,md}var bd,ob;function px(){if(ob)return bd;ob=1;var t=FD(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,n=t(function(l){var s=[];return l.charCodeAt(0)===46&&s.push(""),l.replace(e,function(u,f,h,c){s.push(h?c.replace(a,"$1"):f||u)}),s});return bd=n,bd}var Ed,fb;function yx(){if(fb)return Ed;fb=1;function t(e,a){for(var n=-1,l=e==null?0:e.length,s=Array(l);++n<l;)s[n]=a(e[n],n,e);return s}return Ed=t,Ed}var xd,cb;function qD(){if(cb)return xd;cb=1;var t=Eg(),e=yx(),a=Pf(),n=gu(),l=t?t.prototype:void 0,s=l?l.toString:void 0;function u(f){if(typeof f=="string")return f;if(a(f))return e(f,u)+"";if(n(f))return s?s.call(f):"";var h=f+"";return h=="0"&&1/f==-1/0?"-0":h}return xd=u,xd}var Td,hb;function mx(){if(hb)return Td;hb=1;var t=qD();function e(a){return a==null?"":t(a)}return Td=e,Td}var wd,vb;function bx(){if(vb)return wd;vb=1;var t=Pf(),e=vD(),a=px(),n=mx();function l(s,u){return t(s)?s:e(s,u)?[s]:a(n(s))}return wd=l,wd}var Sd,db;function Mg(){if(db)return Sd;db=1;var t=gu();function e(a){if(typeof a=="string"||t(a))return a;var n=a+"";return n=="0"&&1/a==-1/0?"-0":n}return Sd=e,Sd}var Cd,gb;function HD(){if(gb)return Cd;gb=1;var t=bx(),e=Mg();function a(n,l){l=t(l,n);for(var s=0,u=l.length;n!=null&&s<u;)n=n[e(l[s++])];return s&&s==u?n:void 0}return Cd=a,Cd}var Ad,pb;function VD(){if(pb)return Ad;pb=1;var t=HD();function e(a,n,l){var s=a==null?void 0:t(a,n);return s===void 0?l:s}return Ad=e,Ad}var YD=VD(),XD=vu(YD),Dd,yb;function jD(){if(yb)return Dd;yb=1;var t=Og(),e=(function(){try{var a=t(Object,"defineProperty");return a({},"",{}),a}catch{}})();return Dd=e,Dd}var Rd,mb;function KD(){if(mb)return Rd;mb=1;var t=jD();function e(a,n,l){n=="__proto__"&&t?t(a,n,{configurable:!0,enumerable:!0,value:l,writable:!0}):a[n]=l}return Rd=e,Rd}var Od,bb;function ZD(){if(bb)return Od;bb=1;var t=KD(),e=gx(),a=Object.prototype,n=a.hasOwnProperty;function l(s,u,f){var h=s[u];(!(n.call(s,u)&&e(h,f))||f===void 0&&!(u in s))&&t(s,u,f)}return Od=l,Od}var Md,Eb;function QD(){if(Eb)return Md;Eb=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function a(n,l){var s=typeof n;return l=l??t,!!l&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<l}return Md=a,Md}var Ld,xb;function WD(){if(xb)return Ld;xb=1;var t=ZD(),e=bx(),a=QD(),n=du(),l=Mg();function s(u,f,h,c){if(!n(u))return u;f=e(f,u);for(var v=-1,g=f.length,y=g-1,p=u;p!=null&&++v<g;){var m=l(f[v]),E=h;if(m==="__proto__"||m==="constructor"||m==="prototype")return u;if(v!=y){var x=p[m];E=c?c(x,m,p):void 0,E===void 0&&(E=n(x)?x:a(f[v+1])?[]:{})}t(p,m,E),p=p[m]}return u}return Ld=s,Ld}var Nd,Tb;function $D(){if(Tb)return Nd;Tb=1;var t=WD();function e(a,n,l){return a==null?a:t(a,n,l)}return Nd=e,Nd}var JD=$D(),eR=vu(JD),Bd,wb;function tR(){if(wb)return Bd;wb=1;function t(e,a){var n=-1,l=e.length;for(a||(a=Array(l));++n<l;)a[n]=e[n];return a}return Bd=t,Bd}var _d,Sb;function aR(){if(Sb)return _d;Sb=1;var t=yx(),e=tR(),a=Pf(),n=gu(),l=px(),s=Mg(),u=mx();function f(h){return a(h)?t(h,s):n(h)?[h]:e(l(u(h)))}return _d=f,_d}var rR=aR(),nR=vu(rR),iR={data:function(e){var a={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(l){},beforeSet:function(l,s){},onSet:function(l){},canSet:function(l){return!0}};return e=Ke({},a,e),function(l,s){var u=e,f=this,h=f.length!==void 0,c=h?f:[f],v=h?f[0]:f;if(He(l)){var g=l.indexOf(".")!==-1,y=g&&nR(l);if(u.allowGetting&&s===void 0){var p;return v&&(u.beforeGet(v),y&&v._private[u.field][l]===void 0?p=XD(v._private[u.field],y):p=v._private[u.field][l]),p}else if(u.allowSetting&&s!==void 0){var m=!u.immutableKeys[l];if(m){var E=_E({},l,s);u.beforeSet(f,E);for(var x=0,T=c.length;x<T;x++){var C=c[x];u.canSet(C)&&(y&&v._private[u.field][l]===void 0?eR(C._private[u.field],y,s):C._private[u.field][l]=s)}u.updateStyle&&f.updateStyle(),u.onSet(f),u.settingTriggersEvent&&f[u.triggerFnName](u.settingEvent)}}}else if(u.allowSetting&&dt(l)){var S=l,O,L,_=Object.keys(S);u.beforeSet(f,S);for(var D=0;D<_.length;D++){O=_[D],L=S[O];var A=!u.immutableKeys[O];if(A)for(var R=0;R<c.length;R++){var M=c[R];u.canSet(M)&&(M._private[u.field][O]=L)}}u.updateStyle&&f.updateStyle(),u.onSet(f),u.settingTriggersEvent&&f[u.triggerFnName](u.settingEvent)}else if(u.allowBinding&&Ft(l)){var B=l;f.on(u.bindingEvent,B)}else if(u.allowGetting&&l===void 0){var z;return v&&(u.beforeGet(v),z=v._private[u.field]),z}return f}},removeData:function(e){var a={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ke({},a,e),function(l){var s=e,u=this,f=u.length!==void 0,h=f?u:[u];if(He(l)){for(var c=l.split(/\s+/),v=c.length,g=0;g<v;g++){var y=c[g];if(!Zn(y)){var p=!s.immutableKeys[y];if(p)for(var m=0,E=h.length;m<E;m++)h[m]._private[s.field][y]=void 0}}s.triggerEvent&&u[s.triggerFnName](s.event)}else if(l===void 0){for(var x=0,T=h.length;x<T;x++)for(var C=h[x]._private[s.field],S=Object.keys(C),O=0;O<S.length;O++){var L=S[O],_=!s.immutableKeys[L];_&&(C[L]=void 0)}s.triggerEvent&&u[s.triggerFnName](s.event)}return u}}},lR={eventAliasesOn:function(e){var a=e;a.addListener=a.listen=a.bind=a.on,a.unlisten=a.unbind=a.off=a.removeListener,a.trigger=a.emit,a.pon=a.promiseOn=function(n,l){var s=this,u=Array.prototype.slice.call(arguments,0);return new Hl(function(f,h){var c=function(p){s.off.apply(s,g),f(p)},v=u.concat([c]),g=v.concat([]);s.on.apply(s,v)})}}},bt={};[hD,iR,lR].forEach(function(t){Ke(bt,t)});var sR={animate:bt.animate(),animation:bt.animation(),animated:bt.animated(),clearQueue:bt.clearQueue(),delay:bt.delay(),delayAnimation:bt.delayAnimation(),stop:bt.stop()},of={classes:function(e){var a=this;if(e===void 0){var n=[];return a[0]._private.classes.forEach(function(m){return n.push(m)}),n}else Ot(e)||(e=(e||"").match(/\S+/g)||[]);for(var l=[],s=new ql(e),u=0;u<a.length;u++){for(var f=a[u],h=f._private,c=h.classes,v=!1,g=0;g<e.length;g++){var y=e[g],p=c.has(y);if(!p){v=!0;break}}v||(v=c.size!==e.length),v&&(h.classes=s,l.push(f))}return l.length>0&&this.spawn(l).updateStyle().emit("class"),a},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var a=this[0];return a!=null&&a._private.classes.has(e)},toggleClass:function(e,a){Ot(e)||(e=e.match(/\S+/g)||[]);for(var n=this,l=a===void 0,s=[],u=0,f=n.length;u<f;u++)for(var h=n[u],c=h._private.classes,v=!1,g=0;g<e.length;g++){var y=e[g],p=c.has(y),m=!1;a||l&&!p?(c.add(y),m=!0):(!a||l&&p)&&(c.delete(y),m=!0),!v&&m&&(s.push(h),v=!0)}return s.length>0&&this.spawn(s).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,a){var n=this;if(a==null)a=250;else if(a===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},a),n}};of.className=of.classNames=of.classes;var ht={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:la,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ht.variable="(?:[\\w-.]|(?:\\\\"+ht.metaChar+"))+";ht.className="(?:[\\w-]|(?:\\\\"+ht.metaChar+"))+";ht.value=ht.string+"|"+ht.number;ht.id=ht.variable;(function(){var t,e,a;for(t=ht.comparatorOp.split("|"),a=0;a<t.length;a++)e=t[a],ht.comparatorOp+="|@"+e;for(t=ht.comparatorOp.split("|"),a=0;a<t.length;a++)e=t[a],!(e.indexOf("!")>=0)&&e!=="="&&(ht.comparatorOp+="|\\!"+e)})();var Dt=function(){return{checks:[]}},ze={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},tg=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return iC(t.selector,e.selector)}),uR=(function(){for(var t={},e,a=0;a<tg.length;a++)e=tg[a],t[e.selector]=e.matches;return t})(),oR=function(e,a){return uR[e](a)},fR="("+tg.map(function(t){return t.selector}).join("|")+")",Tl=function(e){return e.replace(new RegExp("\\\\("+ht.metaChar+")","g"),function(a,n){return n})},qn=function(e,a,n){e[e.length-1]=n},ag=[{name:"group",query:!0,regex:"("+ht.group+")",populate:function(e,a,n){var l=aa(n,1),s=l[0];a.checks.push({type:ze.GROUP,value:s==="*"?s:s+"s"})}},{name:"state",query:!0,regex:fR,populate:function(e,a,n){var l=aa(n,1),s=l[0];a.checks.push({type:ze.STATE,value:s})}},{name:"id",query:!0,regex:"\\#("+ht.id+")",populate:function(e,a,n){var l=aa(n,1),s=l[0];a.checks.push({type:ze.ID,value:Tl(s)})}},{name:"className",query:!0,regex:"\\.("+ht.className+")",populate:function(e,a,n){var l=aa(n,1),s=l[0];a.checks.push({type:ze.CLASS,value:Tl(s)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ht.variable+")\\s*\\]",populate:function(e,a,n){var l=aa(n,1),s=l[0];a.checks.push({type:ze.DATA_EXIST,field:Tl(s)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ht.variable+")\\s*("+ht.comparatorOp+")\\s*("+ht.value+")\\s*\\]",populate:function(e,a,n){var l=aa(n,3),s=l[0],u=l[1],f=l[2],h=new RegExp("^"+ht.string+"$").exec(f)!=null;h?f=f.substring(1,f.length-1):f=parseFloat(f),a.checks.push({type:ze.DATA_COMPARE,field:Tl(s),operator:u,value:f})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ht.boolOp+")\\s*("+ht.variable+")\\s*\\]",populate:function(e,a,n){var l=aa(n,2),s=l[0],u=l[1];a.checks.push({type:ze.DATA_BOOL,field:Tl(u),operator:s})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ht.meta+")\\s*("+ht.comparatorOp+")\\s*("+ht.number+")\\s*\\]\\]",populate:function(e,a,n){var l=aa(n,3),s=l[0],u=l[1],f=l[2];a.checks.push({type:ze.META_COMPARE,field:Tl(s),operator:u,value:parseFloat(f)})}},{name:"nextQuery",separator:!0,regex:ht.separator,populate:function(e,a){var n=e.currentSubject,l=e.edgeCount,s=e.compoundCount,u=e[e.length-1];n!=null&&(u.subject=n,e.currentSubject=null),u.edgeCount=l,u.compoundCount=s,e.edgeCount=0,e.compoundCount=0;var f=e[e.length++]=Dt();return f}},{name:"directedEdge",separator:!0,regex:ht.directedEdge,populate:function(e,a){if(e.currentSubject==null){var n=Dt(),l=a,s=Dt();return n.checks.push({type:ze.DIRECTED_EDGE,source:l,target:s}),qn(e,a,n),e.edgeCount++,s}else{var u=Dt(),f=a,h=Dt();return u.checks.push({type:ze.NODE_SOURCE,source:f,target:h}),qn(e,a,u),e.edgeCount++,h}}},{name:"undirectedEdge",separator:!0,regex:ht.undirectedEdge,populate:function(e,a){if(e.currentSubject==null){var n=Dt(),l=a,s=Dt();return n.checks.push({type:ze.UNDIRECTED_EDGE,nodes:[l,s]}),qn(e,a,n),e.edgeCount++,s}else{var u=Dt(),f=a,h=Dt();return u.checks.push({type:ze.NODE_NEIGHBOR,node:f,neighbor:h}),qn(e,a,u),h}}},{name:"child",separator:!0,regex:ht.child,populate:function(e,a){if(e.currentSubject==null){var n=Dt(),l=Dt(),s=e[e.length-1];return n.checks.push({type:ze.CHILD,parent:s,child:l}),qn(e,a,n),e.compoundCount++,l}else if(e.currentSubject===a){var u=Dt(),f=e[e.length-1],h=Dt(),c=Dt(),v=Dt(),g=Dt();return u.checks.push({type:ze.COMPOUND_SPLIT,left:f,right:h,subject:c}),c.checks=a.checks,a.checks=[{type:ze.TRUE}],g.checks.push({type:ze.TRUE}),h.checks.push({type:ze.PARENT,parent:g,child:v}),qn(e,f,u),e.currentSubject=c,e.compoundCount++,v}else{var y=Dt(),p=Dt(),m=[{type:ze.PARENT,parent:y,child:p}];return y.checks=a.checks,a.checks=m,e.compoundCount++,p}}},{name:"descendant",separator:!0,regex:ht.descendant,populate:function(e,a){if(e.currentSubject==null){var n=Dt(),l=Dt(),s=e[e.length-1];return n.checks.push({type:ze.DESCENDANT,ancestor:s,descendant:l}),qn(e,a,n),e.compoundCount++,l}else if(e.currentSubject===a){var u=Dt(),f=e[e.length-1],h=Dt(),c=Dt(),v=Dt(),g=Dt();return u.checks.push({type:ze.COMPOUND_SPLIT,left:f,right:h,subject:c}),c.checks=a.checks,a.checks=[{type:ze.TRUE}],g.checks.push({type:ze.TRUE}),h.checks.push({type:ze.ANCESTOR,ancestor:g,descendant:v}),qn(e,f,u),e.currentSubject=c,e.compoundCount++,v}else{var y=Dt(),p=Dt(),m=[{type:ze.ANCESTOR,ancestor:y,descendant:p}];return y.checks=a.checks,a.checks=m,e.compoundCount++,p}}},{name:"subject",modifier:!0,regex:ht.subject,populate:function(e,a){if(e.currentSubject!=null&&e.currentSubject!==a)return Et("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=a;var n=e[e.length-1],l=n.checks[0],s=l==null?null:l.type;s===ze.DIRECTED_EDGE?l.type=ze.NODE_TARGET:s===ze.UNDIRECTED_EDGE&&(l.type=ze.NODE_NEIGHBOR,l.node=l.nodes[1],l.neighbor=l.nodes[0],l.nodes=null)}}];ag.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var cR=function(e){for(var a,n,l,s=0;s<ag.length;s++){var u=ag[s],f=u.name,h=e.match(u.regexObj);if(h!=null){n=h,a=u,l=f;var c=h[0];e=e.substring(c.length);break}}return{expr:a,match:n,name:l,remaining:e}},hR=function(e){var a=e.match(/^\s+/);if(a){var n=a[0];e=e.substring(n.length)}return e},vR=function(e){var a=this,n=a.inputText=e,l=a[0]=Dt();for(a.length=1,n=hR(n);;){var s=cR(n);if(s.expr==null)return Et("The selector `"+e+"`is invalid"),!1;var u=s.match.slice(1),f=s.expr.populate(a,l,u);if(f===!1)return!1;if(f!=null&&(l=f),n=s.remaining,n.match(/^\s*$/))break}var h=a[a.length-1];a.currentSubject!=null&&(h.subject=a.currentSubject),h.edgeCount=a.edgeCount,h.compoundCount=a.compoundCount;for(var c=0;c<a.length;c++){var v=a[c];if(v.compoundCount>0&&v.edgeCount>0)return Et("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return Et("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&Et("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},dR=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},a=function(v){return He(v)?'"'+v+'"':e(v)},n=function(v){return" "+v+" "},l=function(v,g){var y=v.type,p=v.value;switch(y){case ze.GROUP:{var m=e(p);return m.substring(0,m.length-1)}case ze.DATA_COMPARE:{var E=v.field,x=v.operator;return"["+E+n(e(x))+a(p)+"]"}case ze.DATA_BOOL:{var T=v.operator,C=v.field;return"["+e(T)+C+"]"}case ze.DATA_EXIST:{var S=v.field;return"["+S+"]"}case ze.META_COMPARE:{var O=v.operator,L=v.field;return"[["+L+n(e(O))+a(p)+"]]"}case ze.STATE:return p;case ze.ID:return"#"+p;case ze.CLASS:return"."+p;case ze.PARENT:case ze.CHILD:return s(v.parent,g)+n(">")+s(v.child,g);case ze.ANCESTOR:case ze.DESCENDANT:return s(v.ancestor,g)+" "+s(v.descendant,g);case ze.COMPOUND_SPLIT:{var _=s(v.left,g),D=s(v.subject,g),A=s(v.right,g);return _+(_.length>0?" ":"")+D+A}case ze.TRUE:return""}},s=function(v,g){return v.checks.reduce(function(y,p,m){return y+(g===v&&m===0?"$":"")+l(p,g)},"")},u="",f=0;f<this.length;f++){var h=this[f];u+=s(h,h.subject),this.length>1&&f<this.length-1&&(u+=", ")}return this.toStringCache=u,u},gR={parse:vR,toString:dR},Ex=function(e,a,n){var l,s=He(e),u=Re(e),f=He(n),h,c,v=!1,g=!1,y=!1;switch(a.indexOf("!")>=0&&(a=a.replace("!",""),g=!0),a.indexOf("@")>=0&&(a=a.replace("@",""),v=!0),(s||f||v)&&(h=!s&&!u?"":""+e,c=""+n),v&&(e=h=h.toLowerCase(),n=c=c.toLowerCase()),a){case"*=":l=h.indexOf(c)>=0;break;case"$=":l=h.indexOf(c,h.length-c.length)>=0;break;case"^=":l=h.indexOf(c)===0;break;case"=":l=e===n;break;case">":y=!0,l=e>n;break;case">=":y=!0,l=e>=n;break;case"<":y=!0,l=e<n;break;case"<=":y=!0,l=e<=n;break;default:l=!1;break}return g&&(e!=null||!y)&&(l=!l),l},pR=function(e,a){switch(a){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},yR=function(e){return e!==void 0},Lg=function(e,a){return e.data(a)},mR=function(e,a){return e[a]()},Yt=[],_t=function(e,a){return e.checks.every(function(n){return Yt[n.type](n,a)})};Yt[ze.GROUP]=function(t,e){var a=t.value;return a==="*"||a===e.group()};Yt[ze.STATE]=function(t,e){var a=t.value;return oR(a,e)};Yt[ze.ID]=function(t,e){var a=t.value;return e.id()===a};Yt[ze.CLASS]=function(t,e){var a=t.value;return e.hasClass(a)};Yt[ze.META_COMPARE]=function(t,e){var a=t.field,n=t.operator,l=t.value;return Ex(mR(e,a),n,l)};Yt[ze.DATA_COMPARE]=function(t,e){var a=t.field,n=t.operator,l=t.value;return Ex(Lg(e,a),n,l)};Yt[ze.DATA_BOOL]=function(t,e){var a=t.field,n=t.operator;return pR(Lg(e,a),n)};Yt[ze.DATA_EXIST]=function(t,e){var a=t.field;return t.operator,yR(Lg(e,a))};Yt[ze.UNDIRECTED_EDGE]=function(t,e){var a=t.nodes[0],n=t.nodes[1],l=e.source(),s=e.target();return _t(a,l)&&_t(n,s)||_t(n,l)&&_t(a,s)};Yt[ze.NODE_NEIGHBOR]=function(t,e){return _t(t.node,e)&&e.neighborhood().some(function(a){return a.isNode()&&_t(t.neighbor,a)})};Yt[ze.DIRECTED_EDGE]=function(t,e){return _t(t.source,e.source())&&_t(t.target,e.target())};Yt[ze.NODE_SOURCE]=function(t,e){return _t(t.source,e)&&e.outgoers().some(function(a){return a.isNode()&&_t(t.target,a)})};Yt[ze.NODE_TARGET]=function(t,e){return _t(t.target,e)&&e.incomers().some(function(a){return a.isNode()&&_t(t.source,a)})};Yt[ze.CHILD]=function(t,e){return _t(t.child,e)&&_t(t.parent,e.parent())};Yt[ze.PARENT]=function(t,e){return _t(t.parent,e)&&e.children().some(function(a){return _t(t.child,a)})};Yt[ze.DESCENDANT]=function(t,e){return _t(t.descendant,e)&&e.ancestors().some(function(a){return _t(t.ancestor,a)})};Yt[ze.ANCESTOR]=function(t,e){return _t(t.ancestor,e)&&e.descendants().some(function(a){return _t(t.descendant,a)})};Yt[ze.COMPOUND_SPLIT]=function(t,e){return _t(t.subject,e)&&_t(t.left,e)&&_t(t.right,e)};Yt[ze.TRUE]=function(){return!0};Yt[ze.COLLECTION]=function(t,e){var a=t.value;return a.has(e)};Yt[ze.FILTER]=function(t,e){var a=t.value;return a(e)};var bR=function(e){var a=this;if(a.length===1&&a[0].checks.length===1&&a[0].checks[0].type===ze.ID)return e.getElementById(a[0].checks[0].value).collection();var n=function(s){for(var u=0;u<a.length;u++){var f=a[u];if(_t(f,s))return!0}return!1};return a.text()==null&&(n=function(){return!0}),e.filter(n)},ER=function(e){for(var a=this,n=0;n<a.length;n++){var l=a[n];if(_t(l,e))return!0}return!1},xR={matches:ER,filter:bR},$n=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||He(e)&&e.match(/^\s*$/)||(ir(e)?this.addQuery({checks:[{type:ze.COLLECTION,value:e.collection()}]}):Ft(e)?this.addQuery({checks:[{type:ze.FILTER,value:e}]}):He(e)?this.parse(e)||(this.invalid=!0):It("A selector must be created from a string; found "))},Jn=$n.prototype;[gR,xR].forEach(function(t){return Ke(Jn,t)});Jn.text=function(){return this.inputText};Jn.size=function(){return this.length};Jn.eq=function(t){return this[t]};Jn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Jn.addQuery=function(t){this[this.length++]=t};Jn.selector=Jn.toString;var jn={allAre:function(e){var a=new $n(e);return this.every(function(n){return a.matches(n)})},is:function(e){var a=new $n(e);return this.some(function(n){return a.matches(n)})},some:function(e,a){for(var n=0;n<this.length;n++){var l=a?e.apply(a,[this[n],n,this]):e(this[n],n,this);if(l)return!0}return!1},every:function(e,a){for(var n=0;n<this.length;n++){var l=a?e.apply(a,[this[n],n,this]):e(this[n],n,this);if(!l)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var a=this.length,n=e.length;return a!==n?!1:a===1?this[0]===e[0]:this.every(function(l){return e.hasElementWithId(l.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(a){return e.hasElementWithId(a.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var a=this.neighborhood();return e.every(function(n){return a.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var a=this;return e.every(function(n){return a.hasElementWithId(n.id())})}};jn.allAreNeighbours=jn.allAreNeighbors;jn.has=jn.contains;jn.equal=jn.equals=jn.same;var Er=function(e,a){return function(l,s,u,f){var h=l,c=this,v;if(h==null?v="":ir(h)&&h.length===1&&(v=h.id()),c.length===1&&v){var g=c[0]._private,y=g.traversalCache=g.traversalCache||{},p=y[a]=y[a]||[],m=Bi(v),E=p[m];return E||(p[m]=e.call(c,l,s,u,f))}else return e.call(c,l,s,u,f)}},Fl={parent:function(e){var a=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var l=0;l<this.length;l++){var s=this[l],u=s._private.parent;u&&a.push(u)}return this.spawn(a,!0).filter(e)},parents:function(e){for(var a=[],n=this.parent();n.nonempty();){for(var l=0;l<n.length;l++){var s=n[l];a.push(s)}n=n.parent()}return this.spawn(a,!0).filter(e)},commonAncestors:function(e){for(var a,n=0;n<this.length;n++){var l=this[n],s=l.parents();a=a||s,a=a.intersect(s)}return a.filter(e)},orphans:function(e){return this.stdFilter(function(a){return a.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(a){return a.isChild()}).filter(e)},children:Er(function(t){for(var e=[],a=0;a<this.length;a++)for(var n=this[a],l=n._private.children,s=0;s<l.length;s++)e.push(l[s]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var a=[];function n(l){for(var s=0;s<l.length;s++){var u=l[s];a.push(u),u.children().nonempty()&&n(u.children())}}return n(this.children()),this.spawn(a,!0).filter(e)}};function Ng(t,e,a,n){for(var l=[],s=new ql,u=t.cy(),f=u.hasCompoundNodes(),h=0;h<t.length;h++){var c=t[h];a?l.push(c):f&&n(l,s,c)}for(;l.length>0;){var v=l.shift();e(v),s.add(v.id()),f&&n(l,s,v)}return t}function xx(t,e,a){if(a.isParent())for(var n=a._private.children,l=0;l<n.length;l++){var s=n[l];e.has(s.id())||t.push(s)}}Fl.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ng(this,t,e,xx)};function Tx(t,e,a){if(a.isChild()){var n=a._private.parent;e.has(n.id())||t.push(n)}}Fl.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ng(this,t,e,Tx)};function TR(t,e,a){Tx(t,e,a),xx(t,e,a)}Fl.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ng(this,t,e,TR)};Fl.ancestors=Fl.parents;var lu,wx;lu=wx={data:bt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:bt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:bt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:bt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:bt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:bt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};lu.attr=lu.data;lu.removeAttr=lu.removeData;var wR=wx,Vf={};function zd(t){return function(e){var a=this;if(e===void 0&&(e=!0),a.length!==0)if(a.isNode()&&!a.removed()){for(var n=0,l=a[0],s=l._private.edges,u=0;u<s.length;u++){var f=s[u];!e&&f.isLoop()||(n+=t(l,f))}return n}else return}}Ke(Vf,{degree:zd(function(t,e){return e.source().same(e.target())?2:1}),indegree:zd(function(t,e){return e.target().same(t)?1:0}),outdegree:zd(function(t,e){return e.source().same(t)?1:0})});function wl(t,e){return function(a){for(var n,l=this.nodes(),s=0;s<l.length;s++){var u=l[s],f=u[t](a);f!==void 0&&(n===void 0||e(f,n))&&(n=f)}return n}}Ke(Vf,{minDegree:wl("degree",function(t,e){return t<e}),maxDegree:wl("degree",function(t,e){return t>e}),minIndegree:wl("indegree",function(t,e){return t<e}),maxIndegree:wl("indegree",function(t,e){return t>e}),minOutdegree:wl("outdegree",function(t,e){return t<e}),maxOutdegree:wl("outdegree",function(t,e){return t>e})});Ke(Vf,{totalDegree:function(e){for(var a=0,n=this.nodes(),l=0;l<n.length;l++)a+=n[l].degree(e);return a}});var Ar,Sx,Cx=function(e,a,n){for(var l=0;l<e.length;l++){var s=e[l];if(!s.locked()){var u=s._private.position,f={x:a.x!=null?a.x-u.x:0,y:a.y!=null?a.y-u.y:0};s.isParent()&&!(f.x===0&&f.y===0)&&s.children().shift(f,n),s.dirtyBoundingBoxCache()}}},Cb={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,a){Cx(e,a,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Ar=Sx={position:bt.data(Cb),silentPosition:bt.data(Ke({},Cb,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,a){Cx(e,a,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,a){if(dt(e))a?this.silentPosition(e):this.position(e);else if(Ft(e)){var n=e,l=this.cy();l.startBatch();for(var s=0;s<this.length;s++){var u=this[s],f=void 0;(f=n(u,s))&&(a?u.silentPosition(f):u.position(f))}l.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,a,n){var l;if(dt(e)?(l={x:Re(e.x)?e.x:0,y:Re(e.y)?e.y:0},n=a):He(e)&&Re(a)&&(l={x:0,y:0},l[e]=a),l!=null){var s=this.cy();s.startBatch();for(var u=0;u<this.length;u++){var f=this[u];if(!(s.hasCompoundNodes()&&f.isChild()&&f.ancestors().anySame(this))){var h=f.position(),c={x:h.x+l.x,y:h.y+l.y};n?f.silentPosition(c):f.position(c)}}s.endBatch()}return this},silentShift:function(e,a){return dt(e)?this.shift(e,!0):He(e)&&Re(a)&&this.shift(e,a,!0),this},renderedPosition:function(e,a){var n=this[0],l=this.cy(),s=l.zoom(),u=l.pan(),f=dt(e)?e:void 0,h=f!==void 0||a!==void 0&&He(e);if(n&&n.isNode())if(h)for(var c=0;c<this.length;c++){var v=this[c];a!==void 0?v.position(e,(a-u[e])/s):f!==void 0&&v.position(JE(f,s,u))}else{var g=n.position();return f=Uf(g,s,u),e===void 0?f:f[e]}else if(!h)return;return this},relativePosition:function(e,a){var n=this[0],l=this.cy(),s=dt(e)?e:void 0,u=s!==void 0||a!==void 0&&He(e),f=l.hasCompoundNodes();if(n&&n.isNode())if(u)for(var h=0;h<this.length;h++){var c=this[h],v=f?c.parent():null,g=v&&v.length>0,y=g;g&&(v=v[0]);var p=y?v.position():{x:0,y:0};a!==void 0?c.position(e,a+p[e]):s!==void 0&&c.position({x:s.x+p.x,y:s.y+p.y})}else{var m=n.position(),E=f?n.parent():null,x=E&&E.length>0,T=x;x&&(E=E[0]);var C=T?E.position():{x:0,y:0};return s={x:m.x-C.x,y:m.y-C.y},e===void 0?s:s[e]}else if(!u)return;return this}};Ar.modelPosition=Ar.point=Ar.position;Ar.modelPositions=Ar.points=Ar.positions;Ar.renderedPoint=Ar.renderedPosition;Ar.relativePoint=Ar.relativePosition;var SR=Sx,Ul,ni;Ul=ni={};ni.renderedBoundingBox=function(t){var e=this.boundingBox(t),a=this.cy(),n=a.zoom(),l=a.pan(),s=e.x1*n+l.x,u=e.x2*n+l.x,f=e.y1*n+l.y,h=e.y2*n+l.y;return{x1:s,x2:u,y1:f,y2:h,w:u-s,h:h-f}};ni.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(a){if(a.isParent()){var n=a._private;n.compoundBoundsClean=!1,n.bbCache=null,t||a.emitAndNotify("bounds")}}),this)};ni.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function a(u){if(!u.isParent())return;var f=u._private,h=u.children(),c=u.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:u.pstyle("min-width").pfValue,left:u.pstyle("min-width-bias-left"),right:u.pstyle("min-width-bias-right")},height:{val:u.pstyle("min-height").pfValue,top:u.pstyle("min-height-bias-top"),bottom:u.pstyle("min-height-bias-bottom")}},g=h.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),y=f.position;(g.w===0||g.h===0)&&(g={w:u.pstyle("width").pfValue,h:u.pstyle("height").pfValue},g.x1=y.x-g.w/2,g.x2=y.x+g.w/2,g.y1=y.y-g.h/2,g.y2=y.y+g.h/2);function p(R,M,B){var z=0,I=0,P=M+B;return R>0&&P>0&&(z=M/P*R,I=B/P*R),{biasDiff:z,biasComplementDiff:I}}function m(R,M,B,z){if(B.units==="%")switch(z){case"width":return R>0?B.pfValue*R:0;case"height":return M>0?B.pfValue*M:0;case"average":return R>0&&M>0?B.pfValue*(R+M)/2:0;case"min":return R>0&&M>0?R>M?B.pfValue*M:B.pfValue*R:0;case"max":return R>0&&M>0?R>M?B.pfValue*R:B.pfValue*M:0;default:return 0}else return B.units==="px"?B.pfValue:0}var E=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(E=E*100/v.width.val);var x=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(x=x*100/v.width.val);var T=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(T=T*100/v.height.val);var C=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(C=C*100/v.height.val);var S=p(v.width.val-g.w,E,x),O=S.biasDiff,L=S.biasComplementDiff,_=p(v.height.val-g.h,T,C),D=_.biasDiff,A=_.biasComplementDiff;f.autoPadding=m(g.w,g.h,u.pstyle("padding"),u.pstyle("padding-relative-to").value),f.autoWidth=Math.max(g.w,v.width.val),y.x=(-O+g.x1+g.x2+L)/2,f.autoHeight=Math.max(g.h,v.height.val),y.y=(-D+g.y1+g.y2+A)/2}for(var n=0;n<this.length;n++){var l=this[n],s=l._private;(!s.compoundBoundsClean||t)&&(a(l),e.batching()||(s.compoundBoundsClean=!0))}return this};var br=function(e){return e===1/0||e===-1/0?0:e},Cr=function(e,a,n,l,s){l-a===0||s-n===0||a==null||n==null||l==null||s==null||(e.x1=a<e.x1?a:e.x1,e.x2=l>e.x2?l:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=s>e.y2?s:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Hn=function(e,a){return a==null?e:Cr(e,a.x1,a.y1,a.x2,a.y2)},Ps=function(e,a,n){return ja(e,a,n)},Yo=function(e,a,n){if(!a.cy().headless()){var l=a._private,s=l.rstyle,u=s.arrowWidth/2,f=a.pstyle(n+"-arrow-shape").value,h,c;if(f!=="none"){n==="source"?(h=s.srcX,c=s.srcY):n==="target"?(h=s.tgtX,c=s.tgtY):(h=s.midX,c=s.midY);var v=l.arrowBounds=l.arrowBounds||{},g=v[n]=v[n]||{};g.x1=h-u,g.y1=c-u,g.x2=h+u,g.y2=c+u,g.w=g.x2-g.x1,g.h=g.y2-g.y1,sf(g,1),Cr(e,g.x1,g.y1,g.x2,g.y2)}}},kd=function(e,a,n){if(!a.cy().headless()){var l;n?l=n+"-":l="";var s=a._private,u=s.rstyle,f=a.pstyle(l+"label").strValue;if(f){var h=a.pstyle("text-halign"),c=a.pstyle("text-valign"),v=Ps(u,"labelWidth",n),g=Ps(u,"labelHeight",n),y=Ps(u,"labelX",n),p=Ps(u,"labelY",n),m=a.pstyle(l+"text-margin-x").pfValue,E=a.pstyle(l+"text-margin-y").pfValue,x=a.isEdge(),T=a.pstyle(l+"text-rotation"),C=a.pstyle("text-outline-width").pfValue,S=a.pstyle("text-border-width").pfValue,O=S/2,L=a.pstyle("text-background-padding").pfValue,_=2,D=g,A=v,R=A/2,M=D/2,B,z,I,P;if(x)B=y-R,z=y+R,I=p-M,P=p+M;else{switch(h.value){case"left":B=y-A,z=y;break;case"center":B=y-R,z=y+R;break;case"right":B=y,z=y+A;break}switch(c.value){case"top":I=p-D,P=p;break;case"center":I=p-M,P=p+M;break;case"bottom":I=p,P=p+D;break}}var Y=m-Math.max(C,O)-L-_,U=m+Math.max(C,O)+L+_,G=E-Math.max(C,O)-L-_,V=E+Math.max(C,O)+L+_;B+=Y,z+=U,I+=G,P+=V;var X=n||"main",K=s.labelBounds,k=K[X]=K[X]||{};k.x1=B,k.y1=I,k.x2=z,k.y2=P,k.w=z-B,k.h=P-I,k.leftPad=Y,k.rightPad=U,k.topPad=G,k.botPad=V;var q=x&&T.strValue==="autorotate",j=T.pfValue!=null&&T.pfValue!==0;if(q||j){var Q=q?Ps(s.rstyle,"labelAngle",n):T.pfValue,J=Math.cos(Q),ne=Math.sin(Q),ue=(B+z)/2,pe=(I+P)/2;if(!x){switch(h.value){case"left":ue=z;break;case"right":ue=B;break}switch(c.value){case"top":pe=P;break;case"bottom":pe=I;break}}var ie=function(Ue,Ae){return Ue=Ue-ue,Ae=Ae-pe,{x:Ue*J-Ae*ne+ue,y:Ue*ne+Ae*J+pe}},ee=ie(B,I),W=ie(B,P),ae=ie(z,I),ce=ie(z,P);B=Math.min(ee.x,W.x,ae.x,ce.x),z=Math.max(ee.x,W.x,ae.x,ce.x),I=Math.min(ee.y,W.y,ae.y,ce.y),P=Math.max(ee.y,W.y,ae.y,ce.y)}var xe=X+"Rot",Se=K[xe]=K[xe]||{};Se.x1=B,Se.y1=I,Se.x2=z,Se.y2=P,Se.w=z-B,Se.h=P-I,Cr(e,B,I,z,P),Cr(s.labelBounds.all,B,I,z,P)}return e}},Ab=function(e,a){if(!a.cy().headless()){var n=a.pstyle("outline-opacity").value,l=a.pstyle("outline-width").value,s=a.pstyle("outline-offset").value,u=l+s;Ax(e,a,n,u,"outside",u/2)}},Ax=function(e,a,n,l,s,u){if(!(n===0||l<=0||s==="inside")){var f=a.cy(),h=a.pstyle("shape").value,c=f.renderer().nodeShapes[h],v=a.position(),g=v.x,y=v.y,p=a.width(),m=a.height();if(c.hasMiterBounds){s==="center"&&(l/=2);var E=c.miterBounds(g,y,p,m,l);Hn(e,E)}else u!=null&&u>0&&uf(e,[u,u,u,u])}},CR=function(e,a){if(!a.cy().headless()){var n=a.pstyle("border-opacity").value,l=a.pstyle("border-width").pfValue,s=a.pstyle("border-position").value;Ax(e,a,n,l,s)}},AR=function(e,a){var n=e._private.cy,l=n.styleEnabled(),s=n.headless(),u=Ia(),f=e._private,h=e.isNode(),c=e.isEdge(),v,g,y,p,m,E,x=f.rstyle,T=h&&l?e.pstyle("bounds-expansion").pfValue:[0],C=function(Oe){return Oe.pstyle("display").value!=="none"},S=!l||C(e)&&(!c||C(e.source())&&C(e.target()));if(S){var O=0,L=0;l&&a.includeOverlays&&(O=e.pstyle("overlay-opacity").value,O!==0&&(L=e.pstyle("overlay-padding").value));var _=0,D=0;l&&a.includeUnderlays&&(_=e.pstyle("underlay-opacity").value,_!==0&&(D=e.pstyle("underlay-padding").value));var A=Math.max(L,D),R=0,M=0;if(l&&(R=e.pstyle("width").pfValue,M=R/2),h&&a.includeNodes){var B=e.position();m=B.x,E=B.y;var z=e.outerWidth(),I=z/2,P=e.outerHeight(),Y=P/2;v=m-I,g=m+I,y=E-Y,p=E+Y,Cr(u,v,y,g,p),l&&Ab(u,e),l&&a.includeOutlines&&!s&&Ab(u,e),l&&CR(u,e)}else if(c&&a.includeEdges)if(l&&!s){var U=e.pstyle("curve-style").strValue;if(v=Math.min(x.srcX,x.midX,x.tgtX),g=Math.max(x.srcX,x.midX,x.tgtX),y=Math.min(x.srcY,x.midY,x.tgtY),p=Math.max(x.srcY,x.midY,x.tgtY),v-=M,g+=M,y-=M,p+=M,Cr(u,v,y,g,p),U==="haystack"){var G=x.haystackPts;if(G&&G.length===2){if(v=G[0].x,y=G[0].y,g=G[1].x,p=G[1].y,v>g){var V=v;v=g,g=V}if(y>p){var X=y;y=p,p=X}Cr(u,v-M,y-M,g+M,p+M)}}else if(U==="bezier"||U==="unbundled-bezier"||Vn(U,"segments")||Vn(U,"taxi")){var K;switch(U){case"bezier":case"unbundled-bezier":K=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":K=x.linePts;break}if(K!=null)for(var k=0;k<K.length;k++){var q=K[k];v=q.x-M,g=q.x+M,y=q.y-M,p=q.y+M,Cr(u,v,y,g,p)}}}else{var j=e.source(),Q=j.position(),J=e.target(),ne=J.position();if(v=Q.x,g=ne.x,y=Q.y,p=ne.y,v>g){var ue=v;v=g,g=ue}if(y>p){var pe=y;y=p,p=pe}v-=M,g+=M,y-=M,p+=M,Cr(u,v,y,g,p)}if(l&&a.includeEdges&&c&&(Yo(u,e,"mid-source"),Yo(u,e,"mid-target"),Yo(u,e,"source"),Yo(u,e,"target")),l){var ie=e.pstyle("ghost").value==="yes";if(ie){var ee=e.pstyle("ghost-offset-x").pfValue,W=e.pstyle("ghost-offset-y").pfValue;Cr(u,u.x1+ee,u.y1+W,u.x2+ee,u.y2+W)}}var ae=f.bodyBounds=f.bodyBounds||{};c1(ae,u),uf(ae,T),sf(ae,1),l&&(v=u.x1,g=u.x2,y=u.y1,p=u.y2,Cr(u,v-A,y-A,g+A,p+A));var ce=f.overlayBounds=f.overlayBounds||{};c1(ce,u),uf(ce,T),sf(ce,1);var xe=f.labelBounds=f.labelBounds||{};xe.all!=null?sA(xe.all):xe.all=Ia(),l&&a.includeLabels&&(a.includeMainLabels&&kd(u,e,null),c&&(a.includeSourceLabels&&kd(u,e,"source"),a.includeTargetLabels&&kd(u,e,"target")))}return u.x1=br(u.x1),u.y1=br(u.y1),u.x2=br(u.x2),u.y2=br(u.y2),u.w=br(u.x2-u.x1),u.h=br(u.y2-u.y1),u.w>0&&u.h>0&&S&&(uf(u,T),sf(u,1)),u},Dx=function(e){var a=0,n=function(u){return(u?1:0)<<a++},l=0;return l+=n(e.incudeNodes),l+=n(e.includeEdges),l+=n(e.includeLabels),l+=n(e.includeMainLabels),l+=n(e.includeSourceLabels),l+=n(e.includeTargetLabels),l+=n(e.includeOverlays),l+=n(e.includeOutlines),l},Rx=function(e){var a=function(f){return Math.round(f)};if(e.isEdge()){var n=e.source().position(),l=e.target().position();return i1([a(n.x),a(n.y),a(l.x),a(l.y)])}else{var s=e.position();return i1([a(s.x),a(s.y)])}},Db=function(e,a){var n=e._private,l,s=e.isEdge(),u=a==null?Rb:Dx(a),f=u===Rb;if(n.bbCache==null?(l=AR(e,su),n.bbCache=l,n.bbCachePosKey=Rx(e)):l=n.bbCache,!f){var h=e.isNode();l=Ia(),(a.includeNodes&&h||a.includeEdges&&!h)&&(a.includeOverlays?Hn(l,n.overlayBounds):Hn(l,n.bodyBounds)),a.includeLabels&&(a.includeMainLabels&&(!s||a.includeSourceLabels&&a.includeTargetLabels)?Hn(l,n.labelBounds.all):(a.includeMainLabels&&Hn(l,n.labelBounds.mainRot),a.includeSourceLabels&&Hn(l,n.labelBounds.sourceRot),a.includeTargetLabels&&Hn(l,n.labelBounds.targetRot))),l.w=l.x2-l.x1,l.h=l.y2-l.y1}return l},su={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Rb=Dx(su),Ob=Ca(su);ni.boundingBox=function(t){var e,a=t===void 0||t.useCache===void 0||t.useCache===!0,n=Gl(function(v){var g=v._private;return g.bbCache==null||g.styleDirty||g.bbCachePosKey!==Rx(v)},function(v){return v.id()});if(a&&this.length===1&&!n(this[0]))t===void 0?t=su:t=Ob(t),e=Db(this[0],t);else{e=Ia(),t=t||su;var l=Ob(t),s=this,u=s.cy(),f=u.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),f&&this.recalculateRenderedStyle(a),this.updateCompoundBounds(!a);for(var h=0;h<s.length;h++){var c=s[h];n(c)&&c.dirtyBoundingBoxCache(),Hn(e,Db(c,l))}}return e.x1=br(e.x1),e.y1=br(e.y1),e.x2=br(e.x2),e.y2=br(e.y2),e.w=br(e.x2-e.x1),e.h=br(e.y2-e.y1),e};ni.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};ni.boundingBoxAt=function(t){var e=this.nodes(),a=this.cy(),n=a.hasCompoundNodes(),l=a.collection();if(n&&(l=e.filter(function(c){return c.isParent()}),e=e.not(l)),dt(t)){var s=t;t=function(){return s}}var u=function(v,g){return v._private.bbAtOldPos=t(v,g)},f=function(v){return v._private.bbAtOldPos};a.startBatch(),e.forEach(u).silentPositions(t),n&&(l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),l.updateCompoundBounds(!0));var h=lA(this.boundingBox({useCache:!1}));return e.silentPositions(f),n&&(l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),l.updateCompoundBounds(!0)),a.endBatch(),h};Ul.boundingbox=Ul.bb=Ul.boundingBox;Ul.renderedBoundingbox=Ul.renderedBoundingBox;var DR=ni,Zs,mu;Zs=mu={};var Ox=function(e){e.uppercaseName=V0(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=V0(e.outerName),Zs[e.name]=function(){var n=this[0],l=n._private,s=l.cy,u=s._private.styleEnabled;if(n)if(u){if(n.isParent())return n.updateCompoundBounds(),l[e.autoName]||0;var f=n.pstyle(e.name);return f.strValue==="label"?(n.recalculateRenderedStyle(),l.rstyle[e.labelName]||0):f.pfValue}else return 1},Zs["outer"+e.uppercaseName]=function(){var n=this[0],l=n._private,s=l.cy,u=s._private.styleEnabled;if(n)if(u){var f=n[e.name](),h=n.pstyle("border-position").value,c;h==="center"?c=n.pstyle("border-width").pfValue:h==="outside"?c=2*n.pstyle("border-width").pfValue:c=0;var v=2*n.padding();return f+c+v}else return 1},Zs["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var l=n[e.name]();return l*this.cy().zoom()}},Zs["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var l=n[e.outerName]();return l*this.cy().zoom()}}};Ox({name:"width"});Ox({name:"height"});mu.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};mu.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};mu.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var RR=mu,OR=function(e,a){if(e.isEdge()&&e.takesUpSpace())return a(e)},MR=function(e,a){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return Uf(a(e),n.zoom(),n.pan())}},LR=function(e,a){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),l=n.pan(),s=n.zoom();return a(e).map(function(u){return Uf(u,s,l)})}},NR=function(e){return e.renderer().getControlPoints(e)},BR=function(e){return e.renderer().getSegmentPoints(e)},_R=function(e){return e.renderer().getSourceEndpoint(e)},zR=function(e){return e.renderer().getTargetEndpoint(e)},kR=function(e){return e.renderer().getEdgeMidpoint(e)},Mb={controlPoints:{get:NR,mult:!0},segmentPoints:{get:BR,mult:!0},sourceEndpoint:{get:_R},targetEndpoint:{get:zR},midpoint:{get:kR}},IR=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},UR=Object.keys(Mb).reduce(function(t,e){var a=Mb[e],n=IR(e);return t[e]=function(){return OR(this,a.get)},a.mult?t[n]=function(){return LR(this,a.get)}:t[n]=function(){return MR(this,a.get)},t},{}),GR=Ke({},SR,DR,RR,UR);var Mx=function(e,a){this.recycle(e,a)};function Fs(){return!1}function Xo(){return!0}Mx.prototype={instanceString:function(){return"event"},recycle:function(e,a){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Fs,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Xo:Fs):e!=null&&e.type?a=e:this.type=e,a!=null&&(this.originalEvent=a.originalEvent,this.type=a.type!=null?a.type:this.type,this.cy=a.cy,this.target=a.target,this.position=a.position,this.renderedPosition=a.renderedPosition,this.namespace=a.namespace,this.layout=a.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,l=this.cy.zoom(),s=this.cy.pan();this.renderedPosition={x:n.x*l+s.x,y:n.y*l+s.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Xo;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Xo;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Xo,this.stopPropagation()},isDefaultPrevented:Fs,isPropagationStopped:Fs,isImmediatePropagationStopped:Fs};var Lx=/^([^.]+)(\.(?:[^.]+))?$/,PR=".*",Nx={qualifierCompare:function(e,a){return e===a},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Lb=Object.keys(Nx),FR={};function Yf(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FR,e=arguments.length>1?arguments[1]:void 0,a=0;a<Lb.length;a++){var n=Lb[a];this[n]=t[n]||Nx[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ei=Yf.prototype,Bx=function(e,a,n,l,s,u,f){Ft(l)&&(s=l,l=null),f&&(u==null?u=f:u=Ke({},u,f));for(var h=Ot(n)?n:n.split(/\s+/),c=0;c<h.length;c++){var v=h[c];if(!Zn(v)){var g=v.match(Lx);if(g){var y=g[1],p=g[2]?g[2]:null,m=a(e,v,y,p,l,s,u);if(m===!1)break}}}},Nb=function(e,a){return e.addEventFields(e.context,a),new Mx(a.type,a)},qR=function(e,a,n){if(K2(n)){a(e,n);return}else if(dt(n)){a(e,Nb(e,n));return}for(var l=Ot(n)?n:n.split(/\s+/),s=0;s<l.length;s++){var u=l[s];if(!Zn(u)){var f=u.match(Lx);if(f){var h=f[1],c=f[2]?f[2]:null,v=Nb(e,{type:h,namespace:c,target:e.context});a(e,v)}}}};ei.on=ei.addListener=function(t,e,a,n,l){return Bx(this,function(s,u,f,h,c,v,g){Ft(v)&&s.listeners.push({event:u,callback:v,type:f,namespace:h,qualifier:c,conf:g})},t,e,a,n,l),this};ei.one=function(t,e,a,n){return this.on(t,e,a,n,{one:!0})};ei.removeListener=ei.off=function(t,e,a,n){var l=this;this.emitting!==0&&(this.listeners=MC(this.listeners));for(var s=this.listeners,u=function(c){var v=s[c];Bx(l,function(g,y,p,m,E,x){if((v.type===p||t==="*")&&(!m&&v.namespace!==".*"||v.namespace===m)&&(!E||g.qualifierCompare(v.qualifier,E))&&(!x||v.callback===x))return s.splice(c,1),!1},t,e,a,n)},f=s.length-1;f>=0;f--)u(f);return this};ei.removeAllListeners=function(){return this.removeListener("*")};ei.emit=ei.trigger=function(t,e,a){var n=this.listeners,l=n.length;return this.emitting++,Ot(e)||(e=[e]),qR(this,function(s,u){a!=null&&(n=[{event:u.event,type:u.type,namespace:u.namespace,callback:a}],l=n.length);for(var f=function(){var v=n[h];if(v.type===u.type&&(!v.namespace||v.namespace===u.namespace||v.namespace===PR)&&s.eventMatches(s.context,v,u)){var g=[u];e!=null&&NC(g,e),s.beforeEmit(s.context,v,u),v.conf&&v.conf.one&&(s.listeners=s.listeners.filter(function(m){return m!==v}));var y=s.callbackContext(s.context,v,u),p=v.callback.apply(y,g);s.afterEmit(s.context,v,u),p===!1&&(u.stopPropagation(),u.preventDefault())}},h=0;h<l;h++)f();s.bubble(s.context)&&!u.isPropagationStopped()&&s.parent(s.context).emit(u,e)},t),this.emitting--,this};var HR={qualifierCompare:function(e,a){return e==null||a==null?e==null&&a==null:e.sameText(a)},eventMatches:function(e,a,n){var l=a.qualifier;return l!=null?e!==n.target&&hu(n.target)&&l.matches(n.target):!0},addEventFields:function(e,a){a.cy=e.cy(),a.target=e},callbackContext:function(e,a,n){return a.qualifier!=null?n.target:e},beforeEmit:function(e,a){a.conf&&a.conf.once&&a.conf.onceCollection.removeListener(a.event,a.qualifier,a.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},jo=function(e){return He(e)?new $n(e):e},_x={createEmitter:function(){for(var e=0;e<this.length;e++){var a=this[e],n=a._private;n.emitter||(n.emitter=new Yf(HR,a))}return this},emitter:function(){return this._private.emitter},on:function(e,a,n){for(var l=jo(a),s=0;s<this.length;s++){var u=this[s];u.emitter().on(e,l,n)}return this},removeListener:function(e,a,n){for(var l=jo(a),s=0;s<this.length;s++){var u=this[s];u.emitter().removeListener(e,l,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var a=this[e];a.emitter().removeAllListeners()}return this},one:function(e,a,n){for(var l=jo(a),s=0;s<this.length;s++){var u=this[s];u.emitter().one(e,l,n)}return this},once:function(e,a,n){for(var l=jo(a),s=0;s<this.length;s++){var u=this[s];u.emitter().on(e,l,n,{once:!0,onceCollection:this})}},emit:function(e,a){for(var n=0;n<this.length;n++){var l=this[n];l.emitter().emit(e,a)}return this},emitAndNotify:function(e,a){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,a),this}};bt.eventAliasesOn(_x);var zx={nodes:function(e){return this.filter(function(a){return a.isNode()}).filter(e)},edges:function(e){return this.filter(function(a){return a.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),a=this.spawn(),n=0;n<this.length;n++){var l=this[n];l.isNode()?e.push(l):a.push(l)}return{nodes:e,edges:a}},filter:function(e,a){if(e===void 0)return this;if(He(e)||ir(e))return new $n(e).filter(this);if(Ft(e)){for(var n=this.spawn(),l=this,s=0;s<l.length;s++){var u=l[s],f=a?e.apply(a,[u,s,l]):e(u,s,l);f&&n.push(u)}return n}return this.spawn()},not:function(e){if(e){He(e)&&(e=this.filter(e));for(var a=this.spawn(),n=0;n<this.length;n++){var l=this[n],s=e.has(l);s||a.push(l)}return a}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(He(e)){var a=e;return this.filter(a)}for(var n=this.spawn(),l=this,s=e,u=this.length<e.length,f=u?l:s,h=u?s:l,c=0;c<f.length;c++){var v=f[c];h.has(v)&&n.push(v)}return n},xor:function(e){var a=this._private.cy;He(e)&&(e=a.$(e));var n=this.spawn(),l=this,s=e,u=function(h,c){for(var v=0;v<h.length;v++){var g=h[v],y=g._private.data.id,p=c.hasElementWithId(y);p||n.push(g)}};return u(l,s),u(s,l),n},diff:function(e){var a=this._private.cy;He(e)&&(e=a.$(e));var n=this.spawn(),l=this.spawn(),s=this.spawn(),u=this,f=e,h=function(v,g,y){for(var p=0;p<v.length;p++){var m=v[p],E=m._private.data.id,x=g.hasElementWithId(E);x?s.merge(m):y.push(m)}};return h(u,f,n),h(f,u,l),{left:n,right:l,both:s}},add:function(e){var a=this._private.cy;if(!e)return this;if(He(e)){var n=e;e=a.mutableElements().filter(n)}for(var l=this.spawnSelf(),s=0;s<e.length;s++){var u=e[s],f=!this.has(u);f&&l.push(u)}return l},merge:function(e){var a=this._private,n=a.cy;if(!e)return this;if(e&&He(e)){var l=e;e=n.mutableElements().filter(l)}for(var s=a.map,u=0;u<e.length;u++){var f=e[u],h=f._private.data.id,c=!s.has(h);if(c){var v=this.length++;this[v]=f,s.set(h,{ele:f,index:v})}}return this},unmergeAt:function(e){var a=this[e],n=a.id(),l=this._private,s=l.map;this[e]=void 0,s.delete(n);var u=e===this.length-1;if(this.length>1&&!u){var f=this.length-1,h=this[f],c=h._private.data.id;this[f]=void 0,this[e]=h,s.set(c,{ele:h,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var a=this._private,n=e._private.data.id,l=a.map,s=l.get(n);if(!s)return this;var u=s.index;return this.unmergeAt(u),this},unmerge:function(e){var a=this._private.cy;if(!e)return this;if(e&&He(e)){var n=e;e=a.mutableElements().filter(n)}for(var l=0;l<e.length;l++)this.unmergeOne(e[l]);return this},unmergeBy:function(e){for(var a=this.length-1;a>=0;a--){var n=this[a];e(n)&&this.unmergeAt(a)}return this},map:function(e,a){for(var n=[],l=this,s=0;s<l.length;s++){var u=l[s],f=a?e.apply(a,[u,s,l]):e(u,s,l);n.push(f)}return n},reduce:function(e,a){for(var n=a,l=this,s=0;s<l.length;s++)n=e(n,l[s],s,l);return n},max:function(e,a){for(var n=-1/0,l,s=this,u=0;u<s.length;u++){var f=s[u],h=a?e.apply(a,[f,u,s]):e(f,u,s);h>n&&(n=h,l=f)}return{value:n,ele:l}},min:function(e,a){for(var n=1/0,l,s=this,u=0;u<s.length;u++){var f=s[u],h=a?e.apply(a,[f,u,s]):e(f,u,s);h<n&&(n=h,l=f)}return{value:n,ele:l}}},yt=zx;yt.u=yt["|"]=yt["+"]=yt.union=yt.or=yt.add;yt["\\"]=yt["!"]=yt["-"]=yt.difference=yt.relativeComplement=yt.subtract=yt.not;yt.n=yt["&"]=yt["."]=yt.and=yt.intersection=yt.intersect;yt["^"]=yt["(+)"]=yt["(-)"]=yt.symmetricDifference=yt.symdiff=yt.xor;yt.fnFilter=yt.filterFn=yt.stdFilter=yt.filter;yt.complement=yt.abscomp=yt.absoluteComplement;var VR={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},kx=function(e,a){var n=e.cy(),l=n.hasCompoundNodes();function s(v){var g=v.pstyle("z-compound-depth");return g.value==="auto"?l?v.zDepth():0:g.value==="bottom"?-1:g.value==="top"?xg:0}var u=s(e)-s(a);if(u!==0)return u;function f(v){var g=v.pstyle("z-index-compare");return g.value==="auto"&&v.isNode()?1:0}var h=f(e)-f(a);if(h!==0)return h;var c=e.pstyle("z-index").value-a.pstyle("z-index").value;return c!==0?c:e.poolIndex()-a.poolIndex()},Df={forEach:function(e,a){if(Ft(e))for(var n=this.length,l=0;l<n;l++){var s=this[l],u=a?e.apply(a,[s,l,this]):e(s,l,this);if(u===!1)break}return this},toArray:function(){for(var e=[],a=0;a<this.length;a++)e.push(this[a]);return e},slice:function(e,a){var n=[],l=this.length;a==null&&(a=l),e==null&&(e=0),e<0&&(e=l+e),a<0&&(a=l+a);for(var s=e;s>=0&&s<a&&s<l;s++)n.push(this[s]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Ft(e))return this;var a=this.toArray().sort(e);return this.spawn(a)},sortByZIndex:function(){return this.sort(kx)},zDepth:function(){var e=this[0];if(e){var a=e._private,n=a.group;if(n==="nodes"){var l=a.data.parent?e.parents().size():0;return e.isParent()?l:xg-1}else{var s=a.source,u=a.target,f=s.zDepth(),h=u.zDepth();return Math.max(f,h,0)}}}};Df.each=Df.forEach;var YR=function(){var e="undefined",a=(typeof Symbol>"u"?"undefined":sa(Symbol))!=e&&sa(Symbol.iterator)!=e;a&&(Df[Symbol.iterator]=function(){var n=this,l={value:void 0,done:!1},s=0,u=this.length;return _E({next:function(){return s<u?l.value=n[s++]:(l.value=void 0,l.done=!0),l}},Symbol.iterator,function(){return this})})};YR();var XR=Ca({nodeDimensionsIncludeLabels:!1}),ff={layoutDimensions:function(e){e=XR(e);var a;if(!this.takesUpSpace())a={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();a={w:n.w,h:n.h}}else a={w:this.outerWidth(),h:this.outerHeight()};return(a.w===0||a.h===0)&&(a.w=a.h=1),a},layoutPositions:function(e,a,n){var l=this.nodes().filter(function(L){return!L.isParent()}),s=this.cy(),u=a.eles,f=function(_){return _.id()},h=Gl(n,f);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(_,D,A){var R={x:D.x1+D.w/2,y:D.y1+D.h/2},M={x:(A.x-R.x)*_,y:(A.y-R.y)*_};return{x:R.x+M.x,y:R.y+M.y}},v=a.spacingFactor&&a.spacingFactor!==1,g=function(){if(!v)return null;for(var _=Ia(),D=0;D<l.length;D++){var A=l[D],R=h(A,D);ex(_,R.x,R.y)}return _},y=g(),p=Gl(function(L,_){var D=h(L,_);if(v){var A=Math.abs(a.spacingFactor);D=c(A,y,D)}return a.transform!=null&&(D=a.transform(L,D)),D},f);if(a.animate){for(var m=0;m<l.length;m++){var E=l[m],x=p(E,m),T=a.animateFilter==null||a.animateFilter(E,m);if(T){var C=E.animation({position:x,duration:a.animationDuration,easing:a.animationEasing});e.animations.push(C)}else E.position(x)}if(a.fit){var S=s.animation({fit:{boundingBox:u.boundingBoxAt(p),padding:a.padding},duration:a.animationDuration,easing:a.animationEasing});e.animations.push(S)}else if(a.zoom!==void 0&&a.pan!==void 0){var O=s.animation({zoom:a.zoom,pan:a.pan,duration:a.animationDuration,easing:a.animationEasing});e.animations.push(O)}e.animations.forEach(function(L){return L.play()}),e.one("layoutready",a.ready),e.emit({type:"layoutready",layout:e}),Hl.all(e.animations.map(function(L){return L.promise()})).then(function(){e.one("layoutstop",a.stop),e.emit({type:"layoutstop",layout:e})})}else l.positions(p),a.fit&&s.fit(a.eles,a.padding),a.zoom!=null&&s.zoom(a.zoom),a.pan&&s.pan(a.pan),e.one("layoutready",a.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",a.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var a=this.cy();return a.makeLayout(Ke({},e,{eles:this}))}};ff.createLayout=ff.makeLayout=ff.layout;function Ix(t,e,a){var n=a._private,l=n.styleCache=n.styleCache||[],s;return(s=l[t])!=null||(s=l[t]=e(a)),s}function Xf(t,e){return t=Bi(t),function(n){return Ix(t,e,n)}}function jf(t,e){t=Bi(t);var a=function(l){return e.call(l)};return function(){var l=this[0];if(l)return Ix(t,a,l)}}var wa={recalculateRenderedStyle:function(e){var a=this.cy(),n=a.renderer(),l=a.styleEnabled();return n&&l&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),a=function(s){return s._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(a)}else this.forEach(function(l){a(l),l.connectedEdges().forEach(a)});return this},updateStyle:function(e){var a=this._private.cy;if(!a.styleEnabled())return this;if(a.batching()){var n=a._private.batchStyleEles;return n.merge(this),this}var l=a.hasCompoundNodes(),s=this;e=!!(e||e===void 0),l&&(s=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var u=s;return e?u.emitAndNotify("style"):u.emit("style"),s.forEach(function(f){return f._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var a=0;a<this.length;a++){var n=this[a];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],l=n.cy();if(l.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,l.style().apply(n));var s=n._private.style[e];return s??(a?l.style().getDefaultProperty(e):null)}},numericStyle:function(e){var a=this[0];if(a.cy().styleEnabled()&&a){var n=a.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var a=this[0];if(a.cy().styleEnabled()&&a)return a.pstyle(e).units},renderedStyle:function(e){var a=this.cy();if(!a.styleEnabled())return this;var n=this[0];if(n)return a.style().getRenderedStyle(n,e)},style:function(e,a){var n=this.cy();if(!n.styleEnabled())return this;var l=!1,s=n.style();if(dt(e)){var u=e;s.applyBypass(this,u,l),this.emitAndNotify("style")}else if(He(e))if(a===void 0){var f=this[0];return f?s.getStylePropertyValue(f,e):void 0}else s.applyBypass(this,e,a,l),this.emitAndNotify("style");else if(e===void 0){var h=this[0];return h?s.getRawStyle(h):void 0}return this},removeStyle:function(e){var a=this.cy();if(!a.styleEnabled())return this;var n=!1,l=a.style(),s=this;if(e===void 0)for(var u=0;u<s.length;u++){var f=s[u];l.removeAllBypasses(f,n)}else{e=e.split(/\s+/);for(var h=0;h<s.length;h++){var c=s[h];l.removeBypasses(c,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var a=e.hasCompoundNodes(),n=this[0];if(n){var l=n._private,s=n.pstyle("opacity").value;if(!a)return s;var u=l.data.parent?n.parents():null;if(u)for(var f=0;f<u.length;f++){var h=u[f],c=h.pstyle("opacity").value;s=c*s}return s}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var a=this[0],n=a.cy().hasCompoundNodes();if(a)return n?a.effectiveOpacity()===0:a.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var a=this[0];return!!a._private.backgrounding}};function Id(t,e){var a=t._private,n=a.data.parent?t.parents():null;if(n)for(var l=0;l<n.length;l++){var s=n[l];if(!e(s))return!1}return!0}function Bg(t){var e=t.ok,a=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var l=this.cy();if(!l.styleEnabled())return!0;var s=this[0],u=l.hasCompoundNodes();if(s){var f=s._private;if(!e(s))return!1;if(s.isNode())return!u||Id(s,n);var h=f.source,c=f.target;return a(h)&&(!u||Id(h,a))&&(h===c||a(c)&&(!u||Id(c,a)))}}}var Vl=Xf("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});wa.takesUpSpace=jf("takesUpSpace",Bg({ok:Vl}));var jR=Xf("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Vl(t)}),KR=Xf("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Vl(t)});wa.interactive=jf("interactive",Bg({ok:jR,parentOk:KR,edgeOkViaNode:Vl}));wa.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var ZR=Xf("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Vl(t)}),QR=Vl;wa.visible=jf("visible",Bg({ok:ZR,edgeOkViaNode:QR}));wa.hidden=function(){var t=this[0];if(t)return!t.visible()};wa.isBundledBezier=jf("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});wa.bypass=wa.css=wa.style;wa.renderedCss=wa.renderedStyle;wa.removeBypass=wa.removeCss=wa.removeStyle;wa.pstyle=wa.parsedStyle;var Kn={};function Bb(t){return function(){var e=arguments,a=[];if(e.length===2){var n=e[0],l=e[1];this.on(t.event,n,l)}else if(e.length===1&&Ft(e[0])){var s=e[0];this.on(t.event,s)}else if(e.length===0||e.length===1&&Ot(e[0])){for(var u=e.length===1?e[0]:null,f=0;f<this.length;f++){var h=this[f],c=!t.ableField||h._private[t.ableField],v=h._private[t.field]!=t.value;if(t.overrideAble){var g=t.overrideAble(h);if(g!==void 0&&(c=g,!g))return this}c&&(h._private[t.field]=t.value,v&&a.push(h))}var y=this.spawn(a);y.updateStyle(),y.emit(t.event),u&&y.emit(u)}return this}}function Yl(t){Kn[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var a=t.overrideField(e);if(a!==void 0)return a}return e._private[t.field]}},Kn[t.on]=Bb({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Kn[t.off]=Bb({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Yl({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Yl({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Yl({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Yl({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Kn.deselect=Kn.unselect;Kn.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Yl({field:"active",on:"activate",off:"unactivate"});Yl({field:"pannable",on:"panify",off:"unpanify"});Kn.inactive=function(){var t=this[0];if(t)return!t._private.active};var La={},_b=function(e){return function(n){for(var l=this,s=[],u=0;u<l.length;u++){var f=l[u];if(f.isNode()){for(var h=!1,c=f.connectedEdges(),v=0;v<c.length;v++){var g=c[v],y=g.source(),p=g.target();if(e.noIncomingEdges&&p===f&&y!==f||e.noOutgoingEdges&&y===f&&p!==f){h=!0;break}}h||s.push(f)}}return this.spawn(s,!0).filter(n)}},zb=function(e){return function(a){for(var n=this,l=[],s=0;s<n.length;s++){var u=n[s];if(u.isNode())for(var f=u.connectedEdges(),h=0;h<f.length;h++){var c=f[h],v=c.source(),g=c.target();e.outgoing&&v===u?(l.push(c),l.push(g)):e.incoming&&g===u&&(l.push(c),l.push(v))}}return this.spawn(l,!0).filter(a)}},kb=function(e){return function(a){for(var n=this,l=[],s={};;){var u=e.outgoing?n.outgoers():n.incomers();if(u.length===0)break;for(var f=!1,h=0;h<u.length;h++){var c=u[h],v=c.id();s[v]||(s[v]=!0,l.push(c),f=!0)}if(!f)break;n=u}return this.spawn(l,!0).filter(a)}};La.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Ke(La,{roots:_b({noIncomingEdges:!0}),leaves:_b({noOutgoingEdges:!0}),outgoers:Er(zb({outgoing:!0}),"outgoers"),successors:kb({outgoing:!0}),incomers:Er(zb({incoming:!0}),"incomers"),predecessors:kb({})});Ke(La,{neighborhood:Er(function(t){for(var e=[],a=this.nodes(),n=0;n<a.length;n++)for(var l=a[n],s=l.connectedEdges(),u=0;u<s.length;u++){var f=s[u],h=f.source(),c=f.target(),v=l===h?c:h;v.length>0&&e.push(v[0]),e.push(f[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});La.neighbourhood=La.neighborhood;La.closedNeighbourhood=La.closedNeighborhood;La.openNeighbourhood=La.openNeighborhood;Ke(La,{source:Er(function(e){var a=this[0],n;return a&&(n=a._private.source||a.cy().collection()),n&&e?n.filter(e):n},"source"),target:Er(function(e){var a=this[0],n;return a&&(n=a._private.target||a.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Ib({attr:"source"}),targets:Ib({attr:"target"})});function Ib(t){return function(a){for(var n=[],l=0;l<this.length;l++){var s=this[l],u=s._private[t.attr];u&&n.push(u)}return this.spawn(n,!0).filter(a)}}Ke(La,{edgesWith:Er(Ub(),"edgesWith"),edgesTo:Er(Ub({thisIsSrc:!0}),"edgesTo")});function Ub(t){return function(a){var n=[],l=this._private.cy,s=t||{};He(a)&&(a=l.$(a));for(var u=0;u<a.length;u++)for(var f=a[u]._private.edges,h=0;h<f.length;h++){var c=f[h],v=c._private.data,g=this.hasElementWithId(v.source)&&a.hasElementWithId(v.target),y=a.hasElementWithId(v.source)&&this.hasElementWithId(v.target),p=g||y;p&&((s.thisIsSrc||s.thisIsTgt)&&(s.thisIsSrc&&!g||s.thisIsTgt&&!y)||n.push(c))}return this.spawn(n,!0)}}Ke(La,{connectedEdges:Er(function(t){for(var e=[],a=this,n=0;n<a.length;n++){var l=a[n];if(l.isNode())for(var s=l._private.edges,u=0;u<s.length;u++){var f=s[u];e.push(f)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Er(function(t){for(var e=[],a=this,n=0;n<a.length;n++){var l=a[n];l.isEdge()&&(e.push(l.source()[0]),e.push(l.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Er(Gb(),"parallelEdges"),codirectedEdges:Er(Gb({codirected:!0}),"codirectedEdges")});function Gb(t){var e={codirected:!1};return t=Ke({},e,t),function(n){for(var l=[],s=this.edges(),u=t,f=0;f<s.length;f++)for(var h=s[f],c=h._private,v=c.source,g=v._private.data.id,y=c.data.target,p=v._private.edges,m=0;m<p.length;m++){var E=p[m],x=E._private.data,T=x.target,C=x.source,S=T===y&&C===g,O=g===T&&y===C;(u.codirected&&S||!u.codirected&&(S||O))&&l.push(E)}return this.spawn(l,!0).filter(n)}}Ke(La,{components:function(e){var a=this,n=a.cy(),l=n.collection(),s=e==null?a.nodes():e.nodes(),u=[];e!=null&&s.empty()&&(s=e.sources());var f=function(v,g){l.merge(v),s.unmerge(v),g.merge(v)};if(s.empty())return a.spawn();var h=function(){var v=n.collection();u.push(v);var g=s[0];f(g,v),a.bfs({directed:!1,roots:g,visit:function(p){return f(p,v)}}),v.forEach(function(y){y.connectedEdges().forEach(function(p){a.has(p)&&v.has(p.source())&&v.has(p.target())&&v.merge(p)})})};do h();while(s.length>0);return u},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});La.componentsOf=La.components;var Sa=function(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){It("A collection must have a reference to the core");return}var s=new un,u=!1;if(!a)a=[];else if(a.length>0&&dt(a[0])&&!hu(a[0])){u=!0;for(var f=[],h=new ql,c=0,v=a.length;c<v;c++){var g=a[c];g.data==null&&(g.data={});var y=g.data;if(y.id==null)y.id=WE();else if(e.hasElementWithId(y.id)||h.has(y.id))continue;var p=new If(e,g,!1);f.push(p),h.add(y.id)}a=f}this.length=0;for(var m=0,E=a.length;m<E;m++){var x=a[m][0];if(x!=null){var T=x._private.data.id;(!n||!s.has(T))&&(n&&s.set(T,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(C){this.lazyMap=C},rebuildMap:function(){for(var S=this.lazyMap=new un,O=this.eles,L=0;L<O.length;L++){var _=O[L];S.set(_.id(),{index:L,ele:_})}}},n&&(this._private.map=s),u&&!l&&this.restore()},Lt=If.prototype=Sa.prototype=Object.create(Array.prototype);Lt.instanceString=function(){return"collection"};Lt.spawn=function(t,e){return new Sa(this.cy(),t,e)};Lt.spawnSelf=function(){return this.spawn(this)};Lt.cy=function(){return this._private.cy};Lt.renderer=function(){return this._private.cy.renderer()};Lt.element=function(){return this[0]};Lt.collection=function(){return IE(this)?this:new Sa(this._private.cy,[this])};Lt.unique=function(){return new Sa(this._private.cy,this,!0)};Lt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Lt.getElementById=function(t){t=""+t;var e=this._private.cy,a=this._private.map.get(t);return a?a.ele:new Sa(e)};Lt.$id=Lt.getElementById;Lt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,a=this[0]._private.data.id;return e._private.map.get(a).index};Lt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Lt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Lt.json=function(t){var e=this.element(),a=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(dt(t)){if(a.startBatch(),t.data){e.data(t.data);var l=n.data;if(e.isEdge()){var s=!1,u={},f=t.data.source,h=t.data.target;f!=null&&f!=l.source&&(u.source=""+f,s=!0),h!=null&&h!=l.target&&(u.target=""+h,s=!0),s&&(e=e.move(u))}else{var c="parent"in t.data,v=t.data.parent;c&&(v!=null||l.parent!=null)&&v!=l.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var g=function(E,x,T){var C=t[E];C!=null&&C!==n[E]&&(C?e[x]():e[T]())};return g("removed","remove","restore"),g("selected","select","unselect"),g("selectable","selectify","unselectify"),g("locked","lock","unlock"),g("grabbable","grabify","ungrabify"),g("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),a.endBatch(),this}else if(t===void 0){var y={data:kr(n.data),position:kr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};y.classes="";var p=0;return n.classes.forEach(function(m){return y.classes+=p++===0?m:" "+m}),y}}};Lt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var a=this[e],n=a.json();t.push(n)}return t};Lt.clone=function(){for(var t=this.cy(),e=[],a=0;a<this.length;a++){var n=this[a],l=n.json(),s=new If(t,l,!1);e.push(s)}return new Sa(t,e)};Lt.copy=Lt.clone;Lt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this,n=a.cy(),l=n._private,s=[],u=[],f,h=0,c=a.length;h<c;h++){var v=a[h];e&&!v.removed()||(v.isNode()?s.push(v):u.push(v))}f=s.concat(u);var g,y=function(){f.splice(g,1),g--};for(g=0;g<f.length;g++){var p=f[g],m=p._private,E=m.data;if(p.clearTraversalCache(),!(!e&&!m.removed)){if(E.id===void 0)E.id=WE();else if(Re(E.id))E.id=""+E.id;else if(Zn(E.id)||!He(E.id)){It("Can not create element with invalid string ID `"+E.id+"`"),y();continue}else if(n.hasElementWithId(E.id)){It("Can not create second element with ID `"+E.id+"`"),y();continue}}var x=E.id;if(p.isNode()){var T=m.position;T.x==null&&(T.x=0),T.y==null&&(T.y=0)}if(p.isEdge()){for(var C=p,S=["source","target"],O=S.length,L=!1,_=0;_<O;_++){var D=S[_],A=E[D];Re(A)&&(A=E[D]=""+E[D]),A==null||A===""?(It("Can not create edge `"+x+"` with unspecified "+D),L=!0):n.hasElementWithId(A)||(It("Can not create edge `"+x+"` with nonexistant "+D+" `"+A+"`"),L=!0)}if(L){y();continue}var R=n.getElementById(E.source),M=n.getElementById(E.target);R.same(M)?R._private.edges.push(C):(R._private.edges.push(C),M._private.edges.push(C)),C._private.source=R,C._private.target=M}m.map=new un,m.map.set(x,{ele:p,index:0}),m.removed=!1,e&&n.addToPool(p)}for(var B=0;B<s.length;B++){var z=s[B],I=z._private.data;Re(I.parent)&&(I.parent=""+I.parent);var P=I.parent,Y=P!=null;if(Y||z._private.parent){var U=z._private.parent?n.collection().merge(z._private.parent):n.getElementById(P);if(U.empty())I.parent=void 0;else if(U[0].removed())Et("Node added with missing parent, reference to parent removed"),I.parent=void 0,z._private.parent=null;else{for(var G=!1,V=U;!V.empty();){if(z.same(V)){G=!0,I.parent=void 0;break}V=V.parent()}G||(U[0]._private.children.push(z),z._private.parent=U[0],l.hasCompoundNodes=!0)}}}if(f.length>0){for(var X=f.length===a.length?a:new Sa(n,f),K=0;K<X.length;K++){var k=X[K];k.isNode()||(k.parallelEdges().clearTraversalCache(),k.source().clearTraversalCache(),k.target().clearTraversalCache())}var q;l.hasCompoundNodes?q=n.collection().merge(X).merge(X.connectedNodes()).merge(X.parent()):q=X,q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?X.emitAndNotify("add"):e&&X.emit("add")}return a};Lt.removed=function(){var t=this[0];return t&&t._private.removed};Lt.inside=function(){var t=this[0];return t&&!t._private.removed};Lt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this,n=[],l={},s=a._private.cy;function u(P){for(var Y=P._private.edges,U=0;U<Y.length;U++)h(Y[U])}function f(P){for(var Y=P._private.children,U=0;U<Y.length;U++)h(Y[U])}function h(P){var Y=l[P.id()];e&&P.removed()||Y||(l[P.id()]=!0,P.isNode()?(n.push(P),u(P),f(P)):n.unshift(P))}for(var c=0,v=a.length;c<v;c++){var g=a[c];h(g)}function y(P,Y){var U=P._private.edges;Qn(U,Y),P.clearTraversalCache()}function p(P){P.clearTraversalCache()}var m=[];m.ids={};function E(P,Y){Y=Y[0],P=P[0];var U=P._private.children,G=P.id();Qn(U,Y),Y._private.parent=null,m.ids[G]||(m.ids[G]=!0,m.push(P))}a.dirtyCompoundBoundsCache(),e&&s.removeFromPool(n);for(var x=0;x<n.length;x++){var T=n[x];if(T.isEdge()){var C=T.source()[0],S=T.target()[0];y(C,T),y(S,T);for(var O=T.parallelEdges(),L=0;L<O.length;L++){var _=O[L];p(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var D=T.parent();D.length!==0&&E(D,T)}e&&(T._private.removed=!0)}var A=s._private.elements;s._private.hasCompoundNodes=!1;for(var R=0;R<A.length;R++){var M=A[R];if(M.isParent()){s._private.hasCompoundNodes=!0;break}}var B=new Sa(this.cy(),n);B.size()>0&&(t?B.emitAndNotify("remove"):e&&B.emit("remove"));for(var z=0;z<m.length;z++){var I=m[z];(!e||!I.removed())&&I.updateStyle()}return B};Lt.move=function(t){var e=this._private.cy,a=this,n=!1,l=!1,s=function(m){return m==null?m:""+m};if(t.source!==void 0||t.target!==void 0){var u=s(t.source),f=s(t.target),h=u!=null&&e.hasElementWithId(u),c=f!=null&&e.hasElementWithId(f);(h||c)&&(e.batch(function(){a.remove(n,l),a.emitAndNotify("moveout");for(var p=0;p<a.length;p++){var m=a[p],E=m._private.data;m.isEdge()&&(h&&(E.source=u),c&&(E.target=f))}a.restore(n,l)}),a.emitAndNotify("move"))}else if(t.parent!==void 0){var v=s(t.parent),g=v===null||e.hasElementWithId(v);if(g){var y=v===null?void 0:v;e.batch(function(){var p=a.remove(n,l);p.emitAndNotify("moveout");for(var m=0;m<a.length;m++){var E=a[m],x=E._private.data;E.isNode()&&(x.parent=y)}p.restore(n,l)}),a.emitAndNotify("move")}}return this};[ox,sR,of,jn,Fl,wR,Vf,GR,_x,zx,VR,Df,ff,wa,Kn,La].forEach(function(t){Ke(Lt,t)});var WR={add:function(e){var a,n=this;if(ir(e)){var l=e;if(l._private.cy===n)a=l.restore();else{for(var s=[],u=0;u<l.length;u++){var f=l[u];s.push(f.json())}a=new Sa(n,s)}}else if(Ot(e)){var h=e;a=new Sa(n,h)}else if(dt(e)&&(Ot(e.nodes)||Ot(e.edges))){for(var c=e,v=[],g=["nodes","edges"],y=0,p=g.length;y<p;y++){var m=g[y],E=c[m];if(Ot(E))for(var x=0,T=E.length;x<T;x++){var C=Ke({group:m},E[x]);v.push(C)}}a=new Sa(n,v)}else{var S=e;a=new If(n,S).collection()}return a},remove:function(e){if(!ir(e)){if(He(e)){var a=e;e=this.$(a)}}return e.remove()}};function $R(t,e,a,n){var l=4,s=.001,u=1e-7,f=10,h=11,c=1/(h-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var g=0;g<4;++g)if(typeof arguments[g]!="number"||isNaN(arguments[g])||!isFinite(arguments[g]))return!1;t=Math.min(t,1),a=Math.min(a,1),t=Math.max(t,0),a=Math.max(a,0);var y=v?new Float32Array(h):new Array(h);function p(M,B){return 1-3*B+3*M}function m(M,B){return 3*B-6*M}function E(M){return 3*M}function x(M,B,z){return((p(B,z)*M+m(B,z))*M+E(B))*M}function T(M,B,z){return 3*p(B,z)*M*M+2*m(B,z)*M+E(B)}function C(M,B){for(var z=0;z<l;++z){var I=T(B,t,a);if(I===0)return B;var P=x(B,t,a)-M;B-=P/I}return B}function S(){for(var M=0;M<h;++M)y[M]=x(M*c,t,a)}function O(M,B,z){var I,P,Y=0;do P=B+(z-B)/2,I=x(P,t,a)-M,I>0?z=P:B=P;while(Math.abs(I)>u&&++Y<f);return P}function L(M){for(var B=0,z=1,I=h-1;z!==I&&y[z]<=M;++z)B+=c;--z;var P=(M-y[z])/(y[z+1]-y[z]),Y=B+P*c,U=T(Y,t,a);return U>=s?C(M,Y):U===0?Y:O(M,B,B+c)}var _=!1;function D(){_=!0,(t!==e||a!==n)&&S()}var A=function(B){return _||D(),t===e&&a===n?B:B===0?0:B===1?1:x(L(B),e,n)};A.getControlPoints=function(){return[{x:t,y:e},{x:a,y:n}]};var R="generateBezier("+[t,e,a,n]+")";return A.toString=function(){return R},A}var JR=(function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,l,s){var u={x:n.x+s.dx*l,v:n.v+s.dv*l,tension:n.tension,friction:n.friction};return{dx:u.v,dv:t(u)}}function a(n,l){var s={dx:n.v,dv:t(n)},u=e(n,l*.5,s),f=e(n,l*.5,u),h=e(n,l,f),c=1/6*(s.dx+2*(u.dx+f.dx)+h.dx),v=1/6*(s.dv+2*(u.dv+f.dv)+h.dv);return n.x=n.x+c*l,n.v=n.v+v*l,n}return function n(l,s,u){var f={x:-1,v:0,tension:null,friction:null},h=[0],c=0,v=1/1e4,g=16/1e3,y,p,m;for(l=parseFloat(l)||500,s=parseFloat(s)||20,u=u||null,f.tension=l,f.friction=s,y=u!==null,y?(c=n(l,s),p=c/u*g):p=g;m=a(m||f,p),h.push(1+m.x),c+=16,Math.abs(m.x)>v&&Math.abs(m.v)>v;);return y?function(E){return h[E*(h.length-1)|0]}:c}})(),Mt=function(e,a,n,l){var s=$R(e,a,n,l);return function(u,f,h){return u+(f-u)*s(h)}},cf={linear:function(e,a,n){return e+(a-e)*n},ease:Mt(.25,.1,.25,1),"ease-in":Mt(.42,0,1,1),"ease-out":Mt(0,0,.58,1),"ease-in-out":Mt(.42,0,.58,1),"ease-in-sine":Mt(.47,0,.745,.715),"ease-out-sine":Mt(.39,.575,.565,1),"ease-in-out-sine":Mt(.445,.05,.55,.95),"ease-in-quad":Mt(.55,.085,.68,.53),"ease-out-quad":Mt(.25,.46,.45,.94),"ease-in-out-quad":Mt(.455,.03,.515,.955),"ease-in-cubic":Mt(.55,.055,.675,.19),"ease-out-cubic":Mt(.215,.61,.355,1),"ease-in-out-cubic":Mt(.645,.045,.355,1),"ease-in-quart":Mt(.895,.03,.685,.22),"ease-out-quart":Mt(.165,.84,.44,1),"ease-in-out-quart":Mt(.77,0,.175,1),"ease-in-quint":Mt(.755,.05,.855,.06),"ease-out-quint":Mt(.23,1,.32,1),"ease-in-out-quint":Mt(.86,0,.07,1),"ease-in-expo":Mt(.95,.05,.795,.035),"ease-out-expo":Mt(.19,1,.22,1),"ease-in-out-expo":Mt(1,0,0,1),"ease-in-circ":Mt(.6,.04,.98,.335),"ease-out-circ":Mt(.075,.82,.165,1),"ease-in-out-circ":Mt(.785,.135,.15,.86),spring:function(e,a,n){if(n===0)return cf.linear;var l=JR(e,a,n);return function(s,u,f){return s+(u-s)*l(f)}},"cubic-bezier":Mt};function Pb(t,e,a,n,l){if(n===1||e===a)return a;var s=l(e,a,n);return t==null||((t.roundValue||t.color)&&(s=Math.round(s)),t.min!==void 0&&(s=Math.max(s,t.min)),t.max!==void 0&&(s=Math.min(s,t.max))),s}function Fb(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Sl(t,e,a,n,l){var s=l!=null?l.type:null;a<0?a=0:a>1&&(a=1);var u=Fb(t,l),f=Fb(e,l);if(Re(u)&&Re(f))return Pb(s,u,f,a,n);if(Ot(u)&&Ot(f)){for(var h=[],c=0;c<f.length;c++){var v=u[c],g=f[c];if(v!=null&&g!=null){var y=Pb(s,v,g,a,n);h.push(y)}else h.push(g)}return h}}function eO(t,e,a,n){var l=!n,s=t._private,u=e._private,f=u.easing,h=u.startTime,c=n?t:t.cy(),v=c.style();if(!u.easingImpl)if(f==null)u.easingImpl=cf.linear;else{var g;if(He(f)){var y=v.parse("transition-timing-function",f);g=y.value}else g=f;var p,m;He(g)?(p=g,m=[]):(p=g[1],m=g.slice(2).map(function(X){return+X})),m.length>0?(p==="spring"&&m.push(u.duration),u.easingImpl=cf[p].apply(null,m)):u.easingImpl=cf[p]}var E=u.easingImpl,x;if(u.duration===0?x=1:x=(a-h)/u.duration,u.applying&&(x=u.progress),x<0?x=0:x>1&&(x=1),u.delay==null){var T=u.startPosition,C=u.position;if(C&&l&&!t.locked()){var S={};qs(T.x,C.x)&&(S.x=Sl(T.x,C.x,x,E)),qs(T.y,C.y)&&(S.y=Sl(T.y,C.y,x,E)),t.position(S)}var O=u.startPan,L=u.pan,_=s.pan,D=L!=null&&n;D&&(qs(O.x,L.x)&&(_.x=Sl(O.x,L.x,x,E)),qs(O.y,L.y)&&(_.y=Sl(O.y,L.y,x,E)),t.emit("pan"));var A=u.startZoom,R=u.zoom,M=R!=null&&n;M&&(qs(A,R)&&(s.zoom=nu(s.minZoom,Sl(A,R,x,E),s.maxZoom)),t.emit("zoom")),(D||M)&&t.emit("viewport");var B=u.style;if(B&&B.length>0&&l){for(var z=0;z<B.length;z++){var I=B[z],P=I.name,Y=I,U=u.startStyle[P],G=v.properties[U.name],V=Sl(U,Y,x,E,G);v.overrideBypass(t,P,V)}t.emit("style")}}return u.progress=x,x}function qs(t,e){return t==null||e==null?!1:Re(t)&&Re(e)?!0:!!(t&&e)}function tO(t,e,a,n){var l=e._private;l.started=!0,l.startTime=a-l.progress*l.duration}function qb(t,e){var a=e._private.aniEles,n=[];function l(v,g){var y=v._private,p=y.animation.current,m=y.animation.queue,E=!1;if(p.length===0){var x=m.shift();x&&p.push(x)}for(var T=function(_){for(var D=_.length-1;D>=0;D--){var A=_[D];A()}_.splice(0,_.length)},C=p.length-1;C>=0;C--){var S=p[C],O=S._private;if(O.stopped){p.splice(C,1),O.hooked=!1,O.playing=!1,O.started=!1,T(O.frames);continue}!O.playing&&!O.applying||(O.playing&&O.applying&&(O.applying=!1),O.started||tO(v,S,t),eO(v,S,t,g),O.applying&&(O.applying=!1),T(O.frames),O.step!=null&&O.step(t),S.completed()&&(p.splice(C,1),O.hooked=!1,O.playing=!1,O.started=!1,T(O.completes)),E=!0)}return!g&&p.length===0&&m.length===0&&n.push(v),E}for(var s=!1,u=0;u<a.length;u++){var f=a[u],h=l(f);s=s||h}var c=l(e,!0);(s||c)&&(a.length>0?e.notify("draw",a):e.notify("draw")),a.unmerge(n),e.emit("step")}var aO={animate:bt.animate(),animation:bt.animation(),animated:bt.animated(),clearQueue:bt.clearQueue(),delay:bt.delay(),delayAnimation:bt.delayAnimation(),stop:bt.stop(),addToAnimationPool:function(e){var a=this;a.styleEnabled()&&a._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function a(){e._private.animationsRunning&&Tf(function(s){qb(s,e),a()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(s,u){qb(u,e)},n.beforeRenderPriorities.animations):a()}},rO={qualifierCompare:function(e,a){return e==null||a==null?e==null&&a==null:e.sameText(a)},eventMatches:function(e,a,n){var l=a.qualifier;return l!=null?e!==n.target&&hu(n.target)&&l.matches(n.target):!0},addEventFields:function(e,a){a.cy=e,a.target=e},callbackContext:function(e,a,n){return a.qualifier!=null?n.target:e}},Ko=function(e){return He(e)?new $n(e):e},Ux={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Yf(rO,this)),this},emitter:function(){return this._private.emitter},on:function(e,a,n){return this.emitter().on(e,Ko(a),n),this},removeListener:function(e,a,n){return this.emitter().removeListener(e,Ko(a),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,a,n){return this.emitter().one(e,Ko(a),n),this},once:function(e,a,n){return this.emitter().one(e,Ko(a),n),this},emit:function(e,a){return this.emitter().emit(e,a),this},emitAndNotify:function(e,a){return this.emit(e),this.notify(e,a),this}};bt.eventAliasesOn(Ux);var rg={png:function(e){var a=this._private.renderer;return e=e||{},a.png(e)},jpg:function(e){var a=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",a.jpg(e)}};rg.jpeg=rg.jpg;var hf={layout:function(e){var a=this;if(e==null){It("Layout options must be specified to make a layout");return}if(e.name==null){It("A `name` must be specified to make a layout");return}var n=e.name,l=a.extension("layout",n);if(l==null){It("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var s;He(e.eles)?s=a.$(e.eles):s=e.eles!=null?e.eles:a.$();var u=new l(Ke({},e,{cy:a,eles:s}));return u}};hf.createLayout=hf.makeLayout=hf.layout;var nO={notify:function(e,a){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var l=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();a!=null&&l.merge(a);return}if(n.notificationsEnabled){var s=this.renderer();this.destroyed()||!s||s.notify(e,a)}},notifications:function(e){var a=this._private;return e===void 0?a.notificationsEnabled:(a.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var a=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var l=e.batchNotifications[n];l.empty()?a.notify(n):a.notify(n,l)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var a=this;return this.batch(function(){for(var n=Object.keys(e),l=0;l<n.length;l++){var s=n[l],u=e[s],f=a.getElementById(s);f.data(u)}})}},iO=Ca({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),ng={renderTo:function(e,a,n,l){var s=this._private.renderer;return s.renderTo(e,a,n,l),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var a=this,n=a.extension("renderer",e.name);if(n==null){It("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Et("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var l=iO(e);l.cy=a,a._private.renderer=new n(l),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var a=e.container();if(a)for(a._cyreg=null;a.childNodes.length>0;)a.removeChild(a.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var l=n._private;l.rscratch={},l.rstyle={},l.animation.current=[],l.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};ng.invalidateDimensions=ng.resize;var vf={collection:function(e,a){return He(e)?this.$(e):ir(e)?e.collection():Ot(e)?(a||(a={}),new Sa(this,e,a.unique,a.removed)):new Sa(this)},nodes:function(e){var a=this.$(function(n){return n.isNode()});return e?a.filter(e):a},edges:function(e){var a=this.$(function(n){return n.isEdge()});return e?a.filter(e):a},$:function(e){var a=this._private.elements;return e?a.filter(e):a.spawnSelf()},mutableElements:function(){return this._private.elements}};vf.elements=vf.filter=vf.$;var ya={},$s="t",lO="f";ya.apply=function(t){for(var e=this,a=e._private,n=a.cy,l=n.collection(),s=0;s<t.length;s++){var u=t[s],f=e.getContextMeta(u);if(!f.empty){var h=e.getContextStyle(f),c=e.applyContextStyle(f,h,u);u._private.appliedInitStyle?e.updateTransitions(u,c.diffProps):u._private.appliedInitStyle=!0;var v=e.updateStyleHints(u);v&&l.push(u)}}return l};ya.getPropertiesDiff=function(t,e){var a=this,n=a._private.propDiffs=a._private.propDiffs||{},l=t+"-"+e,s=n[l];if(s)return s;for(var u=[],f={},h=0;h<a.length;h++){var c=a[h],v=t[h]===$s,g=e[h]===$s,y=v!==g,p=c.mappedProperties.length>0;if(y||g&&p){var m=void 0;y&&p||y?m=c.properties:p&&(m=c.mappedProperties);for(var E=0;E<m.length;E++){for(var x=m[E],T=x.name,C=!1,S=h+1;S<a.length;S++){var O=a[S],L=e[S]===$s;if(L&&(C=O.properties[x.name]!=null,C))break}!f[T]&&!C&&(f[T]=!0,u.push(T))}}}return n[l]=u,u};ya.getContextMeta=function(t){for(var e=this,a="",n,l=t._private.styleCxtKey||"",s=0;s<e.length;s++){var u=e[s],f=u.selector&&u.selector.matches(t);f?a+=$s:a+=lO}return n=e.getPropertiesDiff(l,a),t._private.styleCxtKey=a,{key:a,diffPropNames:n,empty:n.length===0}};ya.getContextStyle=function(t){var e=t.key,a=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var l={_private:{key:e}},s=0;s<a.length;s++){var u=a[s],f=e[s]===$s;if(f)for(var h=0;h<u.properties.length;h++){var c=u.properties[h];l[c.name]=c}}return n[e]=l,l};ya.applyContextStyle=function(t,e,a){for(var n=this,l=t.diffPropNames,s={},u=n.types,f=0;f<l.length;f++){var h=l[f],c=e[h],v=a.pstyle(h);if(!c)if(v)v.bypass?c={name:h,deleteBypassed:!0}:c={name:h,delete:!0};else continue;if(v!==c){if(c.mapped===u.fn&&v!=null&&v.mapping!=null&&v.mapping.value===c.value){var g=v.mapping,y=g.fnValue=c.value(a);if(y===g.prevFnValue)continue}var p=s[h]={prev:v};n.applyParsedProperty(a,c),p.next=a.pstyle(h),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:s}};ya.updateStyleHints=function(t){var e=t._private,a=this,n=a.propertyGroupNames,l=a.propertyGroupKeys,s=function(ae,ce,xe){return a.getPropertiesHash(ae,ce,xe)},u=e.styleKey;if(t.removed())return!1;var f=e.group==="nodes",h=t._private.style;n=Object.keys(h);for(var c=0;c<l.length;c++){var v=l[c];e.styleKeys[v]=[Ri,Ll]}for(var g=function(ae,ce){return e.styleKeys[ce][0]=tu(ae,e.styleKeys[ce][0])},y=function(ae,ce){return e.styleKeys[ce][1]=au(ae,e.styleKeys[ce][1])},p=function(ae,ce){g(ae,ce),y(ae,ce)},m=function(ae,ce){for(var xe=0;xe<ae.length;xe++){var Se=ae.charCodeAt(xe);g(Se,ce),y(Se,ce)}},E=2e9,x=function(ae){return-128<ae&&ae<128&&Math.floor(ae)!==ae?E-(ae*1024|0):ae},T=0;T<n.length;T++){var C=n[T],S=h[C];if(S!=null){var O=this.properties[C],L=O.type,_=O.groupKey,D=void 0;O.hashOverride!=null?D=O.hashOverride(t,S):S.pfValue!=null&&(D=S.pfValue);var A=O.enums==null?S.value:null,R=D!=null,M=A!=null,B=R||M,z=S.units;if(L.number&&B&&!L.multiple){var I=R?D:A;p(x(I),_),!R&&z!=null&&m(z,_)}else m(S.strValue,_)}}for(var P=[Ri,Ll],Y=0;Y<l.length;Y++){var U=l[Y],G=e.styleKeys[U];P[0]=tu(G[0],P[0]),P[1]=au(G[1],P[1])}e.styleKey=TC(P[0],P[1]);var V=e.styleKeys;e.labelDimsKey=Fn(V.labelDimensions);var X=s(t,["label"],V.labelDimensions);if(e.labelKey=Fn(X),e.labelStyleKey=Fn(Po(V.commonLabel,X)),!f){var K=s(t,["source-label"],V.labelDimensions);e.sourceLabelKey=Fn(K),e.sourceLabelStyleKey=Fn(Po(V.commonLabel,K));var k=s(t,["target-label"],V.labelDimensions);e.targetLabelKey=Fn(k),e.targetLabelStyleKey=Fn(Po(V.commonLabel,k))}if(f){var q=e.styleKeys,j=q.nodeBody,Q=q.nodeBorder,J=q.nodeOutline,ne=q.backgroundImage,ue=q.compound,pe=q.pie,ie=q.stripe,ee=[j,Q,J,ne,ue,pe,ie].filter(function(W){return W!=null}).reduce(Po,[Ri,Ll]);e.nodeKey=Fn(ee),e.hasPie=pe!=null&&pe[0]!==Ri&&pe[1]!==Ll,e.hasStripe=ie!=null&&ie[0]!==Ri&&ie[1]!==Ll}return u!==e.styleKey};ya.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};ya.applyParsedProperty=function(t,e){var a=this,n=e,l=t._private.style,s,u=a.types,f=a.properties[n.name].type,h=n.bypass,c=l[n.name],v=c&&c.bypass,g=t._private,y="mapping",p=function(j){return j==null?null:j.pfValue!=null?j.pfValue:j.value},m=function(){var j=p(c),Q=p(n);a.checkTriggers(t,n.name,j,Q)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",h)),n.delete)return l[n.name]=void 0,m(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return c?c.bypass?(l[n.name]=c.bypassed,m(),!0):!1:(m(),!0);var E=function(){Et("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case u.mapData:{for(var x=n.field.split("."),T=g.data,C=0;C<x.length&&T;C++){var S=x[C];T=T[S]}if(T==null)return E(),!1;var O;if(Re(T)){var L=n.fieldMax-n.fieldMin;L===0?O=0:O=(T-n.fieldMin)/L}else return Et("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+T+"` for `"+t.id()+"` is non-numeric)"),!1;if(O<0?O=0:O>1&&(O=1),f.color){var _=n.valueMin[0],D=n.valueMax[0],A=n.valueMin[1],R=n.valueMax[1],M=n.valueMin[2],B=n.valueMax[2],z=n.valueMin[3]==null?1:n.valueMin[3],I=n.valueMax[3]==null?1:n.valueMax[3],P=[Math.round(_+(D-_)*O),Math.round(A+(R-A)*O),Math.round(M+(B-M)*O),Math.round(z+(I-z)*O)];s={bypass:n.bypass,name:n.name,value:P,strValue:"rgb("+P[0]+", "+P[1]+", "+P[2]+")"}}else if(f.number){var Y=n.valueMin+(n.valueMax-n.valueMin)*O;s=this.parse(n.name,Y,n.bypass,y)}else return!1;if(!s)return E(),!1;s.mapping=n,n=s;break}case u.data:{for(var U=n.field.split("."),G=g.data,V=0;V<U.length&&G;V++){var X=U[V];G=G[X]}if(G!=null&&(s=this.parse(n.name,G,n.bypass,y)),!s)return E(),!1;s.mapping=n,n=s;break}case u.fn:{var K=n.value,k=n.fnValue!=null?n.fnValue:K(t);if(n.prevFnValue=k,k==null)return Et("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(s=this.parse(n.name,k,n.bypass,y),!s)return Et("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;s.mapping=kr(n),n=s;break}case void 0:break;default:return!1}return h?(v?n.bypassed=c.bypassed:n.bypassed=c,l[n.name]=n):v?c.bypassed=n:l[n.name]=n,m(),!0};ya.cleanElements=function(t,e){for(var a=0;a<t.length;a++){var n=t[a];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var l=n._private.style,s=Object.keys(l),u=0;u<s.length;u++){var f=s[u],h=l[f];h!=null&&(h.bypass?h.bypassed=null:l[f]=null)}}};ya.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};ya.updateTransitions=function(t,e){var a=this,n=t._private,l=t.pstyle("transition-property").value,s=t.pstyle("transition-duration").pfValue,u=t.pstyle("transition-delay").pfValue;if(l.length>0&&s>0){for(var f={},h=!1,c=0;c<l.length;c++){var v=l[c],g=t.pstyle(v),y=e[v];if(y){var p=y.prev,m=p,E=y.next!=null?y.next:g,x=!1,T=void 0,C=1e-6;m&&(Re(m.pfValue)&&Re(E.pfValue)?(x=E.pfValue-m.pfValue,T=m.pfValue+C*x):Re(m.value)&&Re(E.value)?(x=E.value-m.value,T=m.value+C*x):Ot(m.value)&&Ot(E.value)&&(x=m.value[0]!==E.value[0]||m.value[1]!==E.value[1]||m.value[2]!==E.value[2],T=m.strValue),x&&(f[v]=E.strValue,this.applyBypass(t,v,T),h=!0))}}if(!h)return;n.transitioning=!0,new Hl(function(S){u>0?t.delayAnimation(u).play().promise().then(S):S()}).then(function(){return t.animation({style:f,duration:s,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){a.removeBypasses(t,l),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,l),t.emitAndNotify("style"),n.transitioning=!1)};ya.checkTrigger=function(t,e,a,n,l,s){var u=this.properties[e],f=l(u);t.removed()||f!=null&&f(a,n,t)&&s(u)};ya.checkZOrderTrigger=function(t,e,a,n){var l=this;this.checkTrigger(t,e,a,n,function(s){return s.triggersZOrder},function(){l._private.cy.notify("zorder",t)})};ya.checkBoundsTrigger=function(t,e,a,n){this.checkTrigger(t,e,a,n,function(l){return l.triggersBounds},function(l){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};ya.checkConnectedEdgesBoundsTrigger=function(t,e,a,n){this.checkTrigger(t,e,a,n,function(l){return l.triggersBoundsOfConnectedEdges},function(l){t.connectedEdges().forEach(function(s){s.dirtyBoundingBoxCache()})})};ya.checkParallelEdgesBoundsTrigger=function(t,e,a,n){this.checkTrigger(t,e,a,n,function(l){return l.triggersBoundsOfParallelEdges},function(l){t.parallelEdges().forEach(function(s){s.dirtyBoundingBoxCache()})})};ya.checkTriggers=function(t,e,a,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,a,n),this.checkBoundsTrigger(t,e,a,n),this.checkConnectedEdgesBoundsTrigger(t,e,a,n),this.checkParallelEdgesBoundsTrigger(t,e,a,n)};var bu={};bu.applyBypass=function(t,e,a,n){var l=this,s=[],u=!0;if(e==="*"||e==="**"){if(a!==void 0)for(var f=0;f<l.properties.length;f++){var h=l.properties[f],c=h.name,v=this.parse(c,a,!0);v&&s.push(v)}}else if(He(e)){var g=this.parse(e,a,!0);g&&s.push(g)}else if(dt(e)){var y=e;n=a;for(var p=Object.keys(y),m=0;m<p.length;m++){var E=p[m],x=y[E];if(x===void 0&&(x=y[zf(E)]),x!==void 0){var T=this.parse(E,x,!0);T&&s.push(T)}}}else return!1;if(s.length===0)return!1;for(var C=!1,S=0;S<t.length;S++){for(var O=t[S],L={},_=void 0,D=0;D<s.length;D++){var A=s[D];if(n){var R=O.pstyle(A.name);_=L[A.name]={prev:R}}C=this.applyParsedProperty(O,kr(A))||C,n&&(_.next=O.pstyle(A.name))}C&&this.updateStyleHints(O),n&&this.updateTransitions(O,L,u)}return C};bu.overrideBypass=function(t,e,a){e=bg(e);for(var n=0;n<t.length;n++){var l=t[n],s=l._private.style[e],u=this.properties[e].type,f=u.color,h=u.mutiple,c=s?s.pfValue!=null?s.pfValue:s.value:null;!s||!s.bypass?this.applyBypass(l,e,a):(s.value=a,s.pfValue!=null&&(s.pfValue=a),f?s.strValue="rgb("+a.join(",")+")":h?s.strValue=a.join(" "):s.strValue=""+a,this.updateStyleHints(l)),this.checkTriggers(l,e,c,a)}};bu.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};bu.removeBypasses=function(t,e,a){for(var n=!0,l=0;l<t.length;l++){for(var s=t[l],u={},f=0;f<e.length;f++){var h=e[f],c=this.properties[h],v=s.pstyle(c.name);if(!(!v||!v.bypass)){var g="",y=this.parse(h,g,!0),p=u[c.name]={prev:v};this.applyParsedProperty(s,y),p.next=s.pstyle(c.name)}}this.updateStyleHints(s),a&&this.updateTransitions(s,u,n)}};var _g={};_g.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};_g.containerCss=function(t){var e=this._private.cy,a=e.container(),n=e.window();if(n&&a&&n.getComputedStyle)return n.getComputedStyle(a).getPropertyValue(t)};var Ir={};Ir.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Ir.getRawStyle=function(t,e){var a=this;if(t=t[0],t){for(var n={},l=0;l<a.properties.length;l++){var s=a.properties[l],u=a.getStylePropertyValue(t,s.name,e);u!=null&&(n[s.name]=u,n[zf(s.name)]=u)}return n}};Ir.getIndexedStyle=function(t,e,a,n){var l=t.pstyle(e)[a][n];return l??t.cy().style().getDefaultProperty(e)[a][0]};Ir.getStylePropertyValue=function(t,e,a){var n=this;if(t=t[0],t){var l=n.properties[e];l.alias&&(l=l.pointsTo);var s=l.type,u=t.pstyle(l.name);if(u){var f=u.value,h=u.units,c=u.strValue;if(a&&s.number&&f!=null&&Re(f)){var v=t.cy().zoom(),g=function(x){return x*v},y=function(x,T){return g(x)+T},p=Ot(f),m=p?h.every(function(E){return E!=null}):h!=null;return m?p?f.map(function(E,x){return y(E,h[x])}).join(" "):y(f,h):p?f.map(function(E){return He(E)?E:""+g(E)}).join(" "):""+g(f)}else if(c!=null)return c}return null}};Ir.getAnimationStartStyle=function(t,e){for(var a={},n=0;n<e.length;n++){var l=e[n],s=l.name,u=t.pstyle(s);u!==void 0&&(dt(u)?u=this.parse(s,u.strValue):u=this.parse(s,u)),u&&(a[s]=u)}return a};Ir.getPropsList=function(t){var e=this,a=[],n=t,l=e.properties;if(n)for(var s=Object.keys(n),u=0;u<s.length;u++){var f=s[u],h=n[f],c=l[f]||l[bg(f)],v=this.parse(c.name,h);v&&a.push(v)}return a};Ir.getNonDefaultPropertiesHash=function(t,e,a){var n=a.slice(),l,s,u,f,h,c;for(h=0;h<e.length;h++)if(l=e[h],s=t.pstyle(l,!1),s!=null)if(s.pfValue!=null)n[0]=tu(f,n[0]),n[1]=au(f,n[1]);else for(u=s.strValue,c=0;c<u.length;c++)f=u.charCodeAt(c),n[0]=tu(f,n[0]),n[1]=au(f,n[1]);return n};Ir.getPropertiesHash=Ir.getNonDefaultPropertiesHash;var Kf={};Kf.appendFromJson=function(t){for(var e=this,a=0;a<t.length;a++){var n=t[a],l=n.selector,s=n.style||n.css,u=Object.keys(s);e.selector(l);for(var f=0;f<u.length;f++){var h=u[f],c=s[h];e.css(h,c)}}return e};Kf.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Kf.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var a=this[e],n=a.selector,l=a.properties,s={},u=0;u<l.length;u++){var f=l[u];s[f.name]=f.strValue}t.push({selector:n?n.toString():"core",style:s})}return t};var zg={};zg.appendFromString=function(t){var e=this,a=this,n=""+t,l,s,u;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function f(){n.length>l.length?n=n.substr(l.length):n=""}function h(){s.length>u.length?s=s.substr(u.length):s=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var v=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){Et("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}l=v[0];var g=v[1];if(g!=="core"){var y=new $n(g);if(y.invalid){Et("Skipping parsing of block: Invalid selector found in string stylesheet: "+g),f();continue}}var p=v[2],m=!1;s=p;for(var E=[];;){var x=s.match(/^\s*$/);if(x)break;var T=s.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!T){Et("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),m=!0;break}u=T[0];var C=T[1],S=T[2],O=e.properties[C];if(!O){Et("Skipping property: Invalid property name in: "+u),h();continue}var L=a.parse(C,S);if(!L){Et("Skipping property: Invalid property definition in: "+u),h();continue}E.push({name:C,val:S}),h()}if(m){f();break}a.selector(g);for(var _=0;_<E.length;_++){var D=E[_];a.css(D.name,D.val)}f()}return a};zg.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var ta={};(function(){var t=la,e=eC,a=aC,n=rC,l=nC,s=function(W){return"^"+W+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(W){var ae=t+"|\\w+|"+e+"|"+a+"|"+n+"|"+l;return"^"+W+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ae+")\\s*\\,\\s*("+ae+")\\)$"},f=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];ta.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:f,singleRegexMatchValue:!0},urls:{regexes:f,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(W,ae){switch(W.length){case 2:return ae[0]!=="deg"&&ae[0]!=="rad"&&ae[1]!=="deg"&&ae[1]!=="rad";case 1:return He(W[0])||ae[0]==="deg"||ae[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(W){var ae=W.length;return ae===1||ae===2||ae===4}}};var h={zeroNonZero:function(W,ae){return(W==null||ae==null)&&W!==ae||W==0&&ae!=0?!0:W!=0&&ae==0},any:function(W,ae){return W!=ae},emptyNonEmpty:function(W,ae){var ce=Zn(W),xe=Zn(ae);return ce&&!xe||!ce&&xe}},c=ta.types,v=[{name:"label",type:c.text,triggersBounds:h.any,triggersZOrder:h.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:h.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:h.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:h.any}],g=[{name:"source-label",type:c.text,triggersBounds:h.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:h.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:h.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:h.any},{name:"source-text-offset",type:c.size,triggersBounds:h.any}],y=[{name:"target-label",type:c.text,triggersBounds:h.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:h.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:h.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:h.any},{name:"target-text-offset",type:c.size,triggersBounds:h.any}],p=[{name:"font-family",type:c.fontFamily,triggersBounds:h.any},{name:"font-style",type:c.fontStyle,triggersBounds:h.any},{name:"font-weight",type:c.fontWeight,triggersBounds:h.any},{name:"font-size",type:c.size,triggersBounds:h.any},{name:"text-transform",type:c.textTransform,triggersBounds:h.any},{name:"text-wrap",type:c.textWrap,triggersBounds:h.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:h.any},{name:"text-max-width",type:c.size,triggersBounds:h.any},{name:"text-outline-width",type:c.size,triggersBounds:h.any},{name:"line-height",type:c.positiveNumber,triggersBounds:h.any}],m=[{name:"text-valign",type:c.valign,triggersBounds:h.any},{name:"text-halign",type:c.halign,triggersBounds:h.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:h.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:h.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:h.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:h.any},{name:"text-justification",type:c.justification},{name:"box-select-labels",type:c.bool,triggersBounds:h.any}],E=[{name:"events",type:c.bool,triggersZOrder:h.any},{name:"text-events",type:c.bool,triggersZOrder:h.any},{name:"box-selection",type:c.boxSelection,triggersZOrder:h.any}],x=[{name:"display",type:c.display,triggersZOrder:h.any,triggersBounds:h.any,triggersBoundsOfConnectedEdges:h.any,triggersBoundsOfParallelEdges:function(W,ae,ce){return W===ae?!1:ce.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:c.visibility,triggersZOrder:h.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:h.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:h.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:h.any},{name:"z-index",type:c.number,triggersZOrder:h.any}],T=[{name:"overlay-padding",type:c.size,triggersBounds:h.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:h.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:h.any},{name:"overlay-corner-radius",type:c.cornerRadius}],C=[{name:"underlay-padding",type:c.size,triggersBounds:h.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:h.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:h.any},{name:"underlay-corner-radius",type:c.cornerRadius}],S=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],O=function(W,ae){return ae.value==="label"?-W.poolIndex():ae.pfValue},L=[{name:"height",type:c.nodeSize,triggersBounds:h.any,hashOverride:O},{name:"width",type:c.nodeSize,triggersBounds:h.any,hashOverride:O},{name:"shape",type:c.nodeShape,triggersBounds:h.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:h.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:h.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:h.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:h.any}],_=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:h.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],D=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:h.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:h.any}],A=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],R=[{name:"position",type:c.position,triggersBounds:h.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:h.any},{name:"min-width",type:c.size,triggersBounds:h.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:h.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:h.any},{name:"min-height",type:c.size,triggersBounds:h.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:h.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:h.any}],M=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:h.any,triggersBoundsOfParallelEdges:function(W,ae){return W===ae?!1:W==="bezier"||ae==="bezier"}},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:h.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:h.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:h.any},{name:"control-point-step-size",type:c.size,triggersBounds:h.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:h.any},{name:"control-point-weights",type:c.numbers,triggersBounds:h.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:h.any},{name:"segment-weights",type:c.numbers,triggersBounds:h.any},{name:"segment-radii",type:c.numbers,triggersBounds:h.any},{name:"radius-type",type:c.radiusType,triggersBounds:h.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:h.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:h.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:h.any},{name:"taxi-radius",type:c.number,triggersBounds:h.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:h.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:h.any},{name:"loop-direction",type:c.angle,triggersBounds:h.any},{name:"loop-sweep",type:c.angle,triggersBounds:h.any},{name:"source-distance-from-node",type:c.size,triggersBounds:h.any},{name:"target-distance-from-node",type:c.size,triggersBounds:h.any}],B=[{name:"ghost",type:c.bool,triggersBounds:h.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:h.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:h.any},{name:"ghost-opacity",type:c.zeroOneNumber}],z=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],I=[];ta.pieBackgroundN=16,I.push({name:"pie-size",type:c.sizeMaybePercent}),I.push({name:"pie-hole",type:c.sizeMaybePercent}),I.push({name:"pie-start-angle",type:c.angle});for(var P=1;P<=ta.pieBackgroundN;P++)I.push({name:"pie-"+P+"-background-color",type:c.color}),I.push({name:"pie-"+P+"-background-size",type:c.percent}),I.push({name:"pie-"+P+"-background-opacity",type:c.zeroOneNumber});var Y=[];ta.stripeBackgroundN=16,Y.push({name:"stripe-size",type:c.sizeMaybePercent}),Y.push({name:"stripe-direction",type:c.axisDirectionPrimary});for(var U=1;U<=ta.stripeBackgroundN;U++)Y.push({name:"stripe-"+U+"-background-color",type:c.color}),Y.push({name:"stripe-"+U+"-background-size",type:c.percent}),Y.push({name:"stripe-"+U+"-background-opacity",type:c.zeroOneNumber});var G=[],V=ta.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:h.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(ee){V.forEach(function(W){var ae=W+"-"+ee.name,ce=ee.type,xe=ee.triggersBounds;G.push({name:ae,type:ce,triggersBounds:xe})})},{});var X=ta.properties=[].concat(E,S,x,T,C,B,m,p,v,g,y,L,_,D,A,I,Y,R,M,G,z),K=ta.propertyGroups={behavior:E,transition:S,visibility:x,overlay:T,underlay:C,ghost:B,commonLabel:m,labelDimensions:p,mainLabel:v,sourceLabel:g,targetLabel:y,nodeBody:L,nodeBorder:_,nodeOutline:D,backgroundImage:A,pie:I,stripe:Y,compound:R,edgeLine:M,edgeArrow:G,core:z},k=ta.propertyGroupNames={},q=ta.propertyGroupKeys=Object.keys(K);q.forEach(function(ee){k[ee]=K[ee].map(function(W){return W.name}),K[ee].forEach(function(W){return W.groupKey=ee})});var j=ta.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ta.propertyNames=X.map(function(ee){return ee.name});for(var Q=0;Q<X.length;Q++){var J=X[Q];X[J.name]=J}for(var ne=0;ne<j.length;ne++){var ue=j[ne],pe=X[ue.pointsTo],ie={name:ue.name,alias:!0,pointsTo:pe};X.push(ie),X[ue.name]=ie}})();ta.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};ta.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ke({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(h,c){for(var v=1;v<=ta.pieBackgroundN;v++){var g=c.name.replace("{{i}}",v),y=c.value;h[g]=y}return h},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(h,c){for(var v=1;v<=ta.stripeBackgroundN;v++){var g=c.name.replace("{{i}}",v),y=c.value;h[g]=y}return h},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(h,c){return ta.arrowPrefixes.forEach(function(v){var g=v+"-"+c.name,y=c.value;h[g]=y}),h},{})),a={},n=0;n<this.properties.length;n++){var l=this.properties[n];if(!l.pointsTo){var s=l.name,u=e[s],f=this.parse(s,u);a[s]=f}}return t.defaultProperties=a,t.defaultProperties};ta.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Zf={};Zf.parse=function(t,e,a,n){var l=this;if(Ft(e))return l.parseImplWarn(t,e,a,n);var s=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,u=a?"t":"f",f=""+e,h=KE(t,f,u,s),c=l.propCache=l.propCache||[],v;return(v=c[h])||(v=c[h]=l.parseImplWarn(t,e,a,n)),(a||n==="mapping")&&(v=kr(v),v&&(v.value=kr(v.value))),v};Zf.parseImplWarn=function(t,e,a,n){var l=this.parseImpl(t,e,a,n);return!l&&e!=null&&Et("The style property `".concat(t,": ").concat(e,"` is invalid")),l&&(l.name==="width"||l.name==="height")&&e==="label"&&Et("The style value of `label` is deprecated for `"+l.name+"`"),l};Zf.parseImpl=function(t,e,a,n){var l=this;t=bg(t);var s=l.properties[t],u=e,f=l.types;if(!s||e===void 0)return null;s.alias&&(s=s.pointsTo,t=s.name);var h=He(e);h&&(e=e.trim());var c=s.type;if(!c)return null;if(a&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Ft(e))return{name:t,value:e,strValue:"fn",mapped:f.fn,bypass:a};var v,g;if(!(!h||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(f.data.regex).exec(e))){if(a)return!1;var y=f.data;return{name:t,value:v,strValue:""+e,mapped:y,field:v[1],bypass:a}}else if(e.length>=10&&e[0]==="m"&&(g=new RegExp(f.mapData.regex).exec(e))){if(a||c.multiple)return!1;var p=f.mapData;if(!(c.color||c.number))return!1;var m=this.parse(t,g[4]);if(!m||m.mapped)return!1;var E=this.parse(t,g[5]);if(!E||E.mapped)return!1;if(m.pfValue===E.pfValue||m.strValue===E.strValue)return Et("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+m.strValue+"`"),this.parse(t,m.strValue);if(c.color){var x=m.value,T=E.value,C=x[0]===T[0]&&x[1]===T[1]&&x[2]===T[2]&&(x[3]===T[3]||(x[3]==null||x[3]===1)&&(T[3]==null||T[3]===1));if(C)return!1}return{name:t,value:g,strValue:""+e,mapped:p,field:g[1],fieldMin:parseFloat(g[2]),fieldMax:parseFloat(g[3]),valueMin:m.value,valueMax:E.value,bypass:a}}}if(c.multiple&&n!=="multiple"){var S;if(h?S=e.split(/\s+/):Ot(e)?S=e:S=[e],c.evenMultiple&&S.length%2!==0)return null;for(var O=[],L=[],_=[],D="",A=!1,R=0;R<S.length;R++){var M=l.parse(t,S[R],a,"multiple");A=A||He(M.value),O.push(M.value),_.push(M.pfValue!=null?M.pfValue:M.value),L.push(M.units),D+=(R>0?" ":"")+M.strValue}return c.validate&&!c.validate(O,L)?null:c.singleEnum&&A?O.length===1&&He(O[0])?{name:t,value:O[0],strValue:O[0],bypass:a}:null:{name:t,value:O,pfValue:_,strValue:D,bypass:a,units:L}}var B=function(){for(var ie=0;ie<c.enums.length;ie++){var ee=c.enums[ie];if(ee===e)return{name:t,value:e,strValue:""+e,bypass:a}}return null};if(c.number){var z,I="px";if(c.units&&(z=c.units),c.implicitUnits&&(I=c.implicitUnits),!c.unitless)if(h){var P="px|em"+(c.allowPercent?"|\\%":"");z&&(P=z);var Y=e.match("^("+la+")("+P+")?$");Y&&(e=Y[1],z=Y[2]||I)}else(!z||c.implicitUnits)&&(z=I);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=u,B();if(c.integer&&!j2(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var U={name:t,value:e,strValue:""+e+(z||""),units:z,bypass:a};return c.unitless||z!=="px"&&z!=="em"?U.pfValue=e:U.pfValue=z==="px"||!z?e:this.getEmSizeInPixels()*e,(z==="ms"||z==="s")&&(U.pfValue=z==="ms"?e:1e3*e),(z==="deg"||z==="rad")&&(U.pfValue=z==="rad"?e:rA(e)),z==="%"&&(U.pfValue=e/100),U}else if(c.propList){var G=[],V=""+e;if(V!=="none"){for(var X=V.split(/\s*,\s*|\s+/),K=0;K<X.length;K++){var k=X[K].trim();l.properties[k]?G.push(k):Et("`"+k+"` is not a valid property name")}if(G.length===0)return null}return{name:t,value:G,strValue:G.length===0?"none":G.join(" "),bypass:a}}else if(c.color){var q=FE(e);return q?{name:t,value:q,pfValue:q,strValue:"rgb("+q[0]+","+q[1]+","+q[2]+")",bypass:a}:null}else if(c.regex||c.regexes){if(c.enums){var j=B();if(j)return j}for(var Q=c.regexes?c.regexes:[c.regex],J=0;J<Q.length;J++){var ne=new RegExp(Q[J]),ue=ne.exec(e);if(ue)return{name:t,value:c.singleRegexMatchValue?ue[1]:ue,strValue:""+e,bypass:a}}return null}else return c.string?{name:t,value:""+e,strValue:""+e,bypass:a}:c.enums?B():null};var pa=function(e){if(!(this instanceof pa))return new pa(e);if(!mg(e)){It("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Na=pa.prototype;Na.instanceString=function(){return"style"};Na.clear=function(){for(var t=this._private,e=t.cy,a=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(a,!0),a.forEach(function(l){var s=l[0]._private;s.styleDirty=!0,s.appliedInitStyle=!1}),this};Na.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Na.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Na.selector=function(t){var e=t==="core"?null:new $n(t),a=this.length++;return this[a]={selector:e,properties:[],mappedProperties:[],index:a},this};Na.css=function(){var t=this,e=arguments;if(e.length===1)for(var a=e[0],n=0;n<t.properties.length;n++){var l=t.properties[n],s=a[l.name];s===void 0&&(s=a[zf(l.name)]),s!==void 0&&this.cssRule(l.name,s)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Na.style=Na.css;Na.cssRule=function(t,e){var a=this.parse(t,e);if(a){var n=this.length-1;this[n].properties.push(a),this[n].properties[a.name]=a,a.name.match(/pie-(\d+)-background-size/)&&a.value&&(this._private.hasPie=!0),a.name.match(/stripe-(\d+)-background-size/)&&a.value&&(this._private.hasStripe=!0),a.mapped&&this[n].mappedProperties.push(a);var l=!this[n].selector;l&&(this._private.coreStyle[a.name]=a)}return this};Na.append=function(t){return UE(t)?t.appendToStyle(this):Ot(t)?this.appendFromJson(t):He(t)&&this.appendFromString(t),this};pa.fromJson=function(t,e){var a=new pa(t);return a.fromJson(e),a};pa.fromString=function(t,e){return new pa(t).fromString(e)};[ya,bu,_g,Ir,Kf,zg,ta,Zf].forEach(function(t){Ke(Na,t)});pa.types=Na.types;pa.properties=Na.properties;pa.propertyGroups=Na.propertyGroups;pa.propertyGroupNames=Na.propertyGroupNames;pa.propertyGroupKeys=Na.propertyGroupKeys;var sO={style:function(e){if(e){var a=this.setStyle(e);a.update()}return this._private.style},setStyle:function(e){var a=this._private;return UE(e)?a.style=e.generateStyle(this):Ot(e)?a.style=pa.fromJson(this,e):He(e)?a.style=pa.fromString(this,e):a.style=pa(this),a.style},updateStyle:function(){this.mutableElements().updateStyle()}},uO="single",ki={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var a=this._private;if(a.selectionType==null&&(a.selectionType=uO),e!==void 0)(e==="additive"||e==="single")&&(a.selectionType=e);else return a.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,a=this._private.pan,n,l,s,u,f;switch(e.length){case 0:return a;case 1:if(He(e[0]))return n=e[0],a[n];if(dt(e[0])){if(!this._private.panningEnabled)return this;s=e[0],u=s.x,f=s.y,Re(u)&&(a.x=u),Re(f)&&(a.y=f),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],l=e[1],(n==="x"||n==="y")&&Re(l)&&(a[n]=l),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,a){var n=arguments,l=this._private.pan,s,u,f,h,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:dt(e)&&(f=n[0],h=f.x,c=f.y,Re(h)&&(l.x+=h),Re(c)&&(l.y+=c),this.emit("pan viewport"));break;case 2:s=e,u=a,(s==="x"||s==="y")&&Re(u)&&(l[s]+=u),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,a){var n=this.getFitViewport(e,a);if(n){var l=this._private;l.zoom=n.zoom,l.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,a){if(Re(e)&&a===void 0&&(a=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(He(e)){var l=e;e=this.$(l)}else if(Q2(e)){var s=e;n={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else ir(e)||(e=this.mutableElements());if(!(ir(e)&&e.empty())){n=n||e.boundingBox();var u=this.width(),f=this.height(),h;if(a=Re(a)?a:0,!isNaN(u)&&!isNaN(f)&&u>0&&f>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){h=Math.min((u-2*a)/n.w,(f-2*a)/n.h),h=h>this._private.maxZoom?this._private.maxZoom:h,h=h<this._private.minZoom?this._private.minZoom:h;var c={x:(u-h*(n.x1+n.x2))/2,y:(f-h*(n.y1+n.y2))/2};return{zoom:h,pan:c}}}}},zoomRange:function(e,a){var n=this._private;if(a==null){var l=e;e=l.min,a=l.max}return Re(e)&&Re(a)&&e<=a?(n.minZoom=e,n.maxZoom=a):Re(e)&&a===void 0&&e<=n.maxZoom?n.minZoom=e:Re(a)&&e===void 0&&a>=n.minZoom&&(n.maxZoom=a),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var a=this._private,n=a.pan,l=a.zoom,s,u,f=!1;if(a.zoomingEnabled||(f=!0),Re(e)?u=e:dt(e)&&(u=e.level,e.position!=null?s=Uf(e.position,l,n):e.renderedPosition!=null&&(s=e.renderedPosition),s!=null&&!a.panningEnabled&&(f=!0)),u=u>a.maxZoom?a.maxZoom:u,u=u<a.minZoom?a.minZoom:u,f||!Re(u)||u===l||s!=null&&(!Re(s.x)||!Re(s.y)))return null;if(s!=null){var h=n,c=l,v=u,g={x:-v/c*(s.x-h.x)+s.x,y:-v/c*(s.y-h.y)+s.y};return{zoomed:!0,panned:!0,zoom:v,pan:g}}else return{zoomed:!0,panned:!1,zoom:u,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var a=this.getZoomedViewport(e),n=this._private;return a==null||!a.zoomed?this:(n.zoom=a.zoom,a.panned&&(n.pan.x=a.pan.x,n.pan.y=a.pan.y),this.emit("zoom"+(a.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var a=this._private,n=!0,l=!0,s=[],u=!1,f=!1;if(!e)return this;if(Re(e.zoom)||(n=!1),dt(e.pan)||(l=!1),!n&&!l)return this;if(n){var h=e.zoom;h<a.minZoom||h>a.maxZoom||!a.zoomingEnabled?u=!0:(a.zoom=h,s.push("zoom"))}if(l&&(!u||!e.cancelOnFailedZoom)&&a.panningEnabled){var c=e.pan;Re(c.x)&&(a.pan.x=c.x,f=!1),Re(c.y)&&(a.pan.y=c.y,f=!1),f||s.push("pan")}return s.length>0&&(s.push("viewport"),this.emit(s.join(" ")),this.notify("viewport")),this},center:function(e){var a=this.getCenterPan(e);return a&&(this._private.pan=a,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,a){if(this._private.panningEnabled){if(He(e)){var n=e;e=this.mutableElements().filter(n)}else ir(e)||(e=this.mutableElements());if(e.length!==0){var l=e.boundingBox(),s=this.width(),u=this.height();a=a===void 0?this._private.zoom:a;var f={x:(s-a*(l.x1+l.x2))/2,y:(u-a*(l.y1+l.y2))/2};return f}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,a=e.container,n=this;return e.sizeCache=e.sizeCache||(a?(function(){var l=n.window().getComputedStyle(a),s=function(f){return parseFloat(l.getPropertyValue(f))};return{width:a.clientWidth-s("padding-left")-s("padding-right"),height:a.clientHeight-s("padding-top")-s("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,a=this._private.zoom,n=this.renderedExtent(),l={x1:(n.x1-e.x)/a,x2:(n.x2-e.x)/a,y1:(n.y1-e.y)/a,y2:(n.y2-e.y)/a};return l.w=l.x2-l.x1,l.h=l.y2-l.y1,l},renderedExtent:function(){var e=this.width(),a=this.height();return{x1:0,y1:0,x2:e,y2:a,w:e,h:a}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};ki.centre=ki.center;ki.autolockNodes=ki.autolock;ki.autoungrabifyNodes=ki.autoungrabify;var uu={data:bt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:bt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:bt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:bt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};uu.attr=uu.data;uu.removeAttr=uu.removeData;var ou=function(e){var a=this;e=Ke({},e);var n=e.container;n&&!xf(n)&&xf(n[0])&&(n=n[0]);var l=n?n._cyreg:null;l=l||{},l&&l.cy&&(l.cy.destroy(),l={});var s=l.readies=l.readies||[];n&&(n._cyreg=l),l.cy=a;var u=ia!==void 0&&n!==void 0&&!e.headless,f=e;f.layout=Ke({name:u?"grid":"null"},f.layout),f.renderer=Ke({name:u?"canvas":"null"},f.renderer);var h=function(m,E,x){return E!==void 0?E:x!==void 0?x:m},c=this._private={container:n,ready:!1,options:f,elements:new Sa(this),listeners:[],aniEles:new Sa(this),data:f.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,f.zoomingEnabled),userZoomingEnabled:h(!0,f.userZoomingEnabled),panningEnabled:h(!0,f.panningEnabled),userPanningEnabled:h(!0,f.userPanningEnabled),boxSelectionEnabled:h(!0,f.boxSelectionEnabled),autolock:h(!1,f.autolock,f.autolockNodes),autoungrabify:h(!1,f.autoungrabify,f.autoungrabifyNodes),autounselectify:h(!1,f.autounselectify),styleEnabled:f.styleEnabled===void 0?u:f.styleEnabled,zoom:Re(f.zoom)?f.zoom:1,pan:{x:dt(f.pan)&&Re(f.pan.x)?f.pan.x:0,y:dt(f.pan)&&Re(f.pan.y)?f.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:h(250,f.multiClickDebounceTime)};this.createEmitter(),this.selectionType(f.selectionType),this.zoomRange({min:f.minZoom,max:f.maxZoom});var v=function(m,E){var x=m.some(W2);if(x)return Hl.all(m).then(E);E(m)};c.styleEnabled&&a.setStyle([]);var g=Ke({},f,f.renderer);a.initRenderer(g);var y=function(m,E,x){a.notifications(!1);var T=a.mutableElements();T.length>0&&T.remove(),m!=null&&(dt(m)||Ot(m))&&a.add(m),a.one("layoutready",function(S){a.notifications(!0),a.emit(S),a.one("load",E),a.emitAndNotify("load")}).one("layoutstop",function(){a.one("done",x),a.emit("done")});var C=Ke({},a._private.options.layout);C.eles=a.elements(),a.layout(C).run()};v([f.style,f.elements],function(p){var m=p[0],E=p[1];c.styleEnabled&&a.style().append(m),y(E,function(){a.startAnimationLoop(),c.ready=!0,Ft(f.ready)&&a.on("ready",f.ready);for(var x=0;x<s.length;x++){var T=s[x];a.on("ready",T)}l&&(l.readies=[]),a.emit("ready")},f.done)})},Rf=ou.prototype;Ke(Rf,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return ia;var a=this._private.container.ownerDocument;return a===void 0||a==null?ia:a.defaultView||ia},mount:function(e){if(e!=null){var a=this,n=a._private,l=n.options;return!xf(e)&&xf(e[0])&&(e=e[0]),a.stopAnimationLoop(),a.destroyRenderer(),n.container=e,n.styleEnabled=!0,a.invalidateSize(),a.initRenderer(Ke({},l,l.renderer,{name:l.renderer.name==="null"?"canvas":l.renderer.name})),a.startAnimationLoop(),a.style(l.style),a.emit("mount"),a}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return kr(this._private.options)},json:function(e){var a=this,n=a._private,l=a.mutableElements(),s=function(O){return a.getElementById(O.id())};if(dt(e)){if(a.startBatch(),e.elements){var u={},f=function(O,L){for(var _=[],D=[],A=0;A<O.length;A++){var R=O[A];if(!R.data.id){Et("cy.json() cannot handle elements without an ID attribute");continue}var M=""+R.data.id,B=a.getElementById(M);u[M]=!0,B.length!==0?D.push({ele:B,json:R}):(L&&(R.group=L),_.push(R))}a.add(_);for(var z=0;z<D.length;z++){var I=D[z],P=I.ele,Y=I.json;P.json(Y)}};if(Ot(e.elements))f(e.elements);else for(var h=["nodes","edges"],c=0;c<h.length;c++){var v=h[c],g=e.elements[v];Ot(g)&&f(g,v)}var y=a.collection();l.filter(function(S){return!u[S.id()]}).forEach(function(S){S.isParent()?y.merge(S):S.remove()}),y.forEach(function(S){return S.children().move({parent:null})}),y.forEach(function(S){return s(S).remove()})}e.style&&a.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&a.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&a.pan(e.pan),e.data&&a.data(e.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<p.length;m++){var E=p[m];e[E]!=null&&a[E](e[E])}return a.endBatch(),this}else{var x=!!e,T={};x?T.elements=this.elements().map(function(S){return S.json()}):(T.elements={},l.forEach(function(S){var O=S.group();T.elements[O]||(T.elements[O]=[]),T.elements[O].push(S.json())})),this._private.styleEnabled&&(T.style=a.style().json()),T.data=kr(a.data());var C=n.options;return T.zoomingEnabled=n.zoomingEnabled,T.userZoomingEnabled=n.userZoomingEnabled,T.zoom=n.zoom,T.minZoom=n.minZoom,T.maxZoom=n.maxZoom,T.panningEnabled=n.panningEnabled,T.userPanningEnabled=n.userPanningEnabled,T.pan=kr(n.pan),T.boxSelectionEnabled=n.boxSelectionEnabled,T.renderer=kr(C.renderer),T.hideEdgesOnViewport=C.hideEdgesOnViewport,T.textureOnViewport=C.textureOnViewport,T.wheelSensitivity=C.wheelSensitivity,T.motionBlur=C.motionBlur,T.multiClickDebounceTime=C.multiClickDebounceTime,T}}});Rf.$id=Rf.getElementById;[WR,aO,Ux,rg,hf,nO,ng,vf,sO,ki,uu].forEach(function(t){Ke(Rf,t)});var oO={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}},fO={maximal:!1,acyclic:!1},Cl=function(e){return e.scratch("breadthfirst")},Hb=function(e,a){return e.scratch("breadthfirst",a)};function Gx(t){this.options=Ke({},oO,fO,t)}Gx.prototype.run=function(){var t=this.options,e=t.cy,a=t.eles,n=a.nodes().filter(function(De){return De.isChildless()}),l=a,s=t.directed,u=t.acyclic||t.maximal||t.maximalAdjustments>0,f=!!t.boundingBox,h=Ia(f?t.boundingBox:structuredClone(e.extent())),c;if(ir(t.roots))c=t.roots;else if(Ot(t.roots)){for(var v=[],g=0;g<t.roots.length;g++){var y=t.roots[g],p=e.getElementById(y);v.push(p)}c=e.collection(v)}else if(He(t.roots))c=e.$(t.roots);else if(s)c=n.roots();else{var m=a.components();c=e.collection();for(var E=function(){var we=m[x],Ne=we.maxDegree(!1),Le=we.filter(function(Ye){return Ye.degree(!1)===Ne});c=c.add(Le)},x=0;x<m.length;x++)E()}var T=[],C={},S=function(we,Ne){T[Ne]==null&&(T[Ne]=[]);var Le=T[Ne].length;T[Ne].push(we),Hb(we,{index:Le,depth:Ne})},O=function(we,Ne){var Le=Cl(we),Ye=Le.depth,Ce=Le.index;T[Ye][Ce]=null,we.isChildless()&&S(we,Ne)};l.bfs({roots:c,directed:t.directed,visit:function(we,Ne,Le,Ye,Ce){var je=we[0],qe=je.id();je.isChildless()&&S(je,Ce),C[qe]=!0}});for(var L=[],_=0;_<n.length;_++){var D=n[_];C[D.id()]||L.push(D)}var A=function(we){for(var Ne=T[we],Le=0;Le<Ne.length;Le++){var Ye=Ne[Le];if(Ye==null){Ne.splice(Le,1),Le--;continue}Hb(Ye,{depth:we,index:Le})}},R=function(we,Ne){for(var Le=Cl(we),Ye=we.incomers().filter(function(Xe){return Xe.isNode()&&a.has(Xe)}),Ce=-1,je=we.id(),qe=0;qe<Ye.length;qe++){var Qe=Ye[qe],$e=Cl(Qe);Ce=Math.max(Ce,$e.depth)}if(Le.depth<=Ce){if(!t.acyclic&&Ne[je])return null;var ut=Ce+1;return O(we,ut),Ne[je]=ut,!0}return!1};if(s&&u){var M=[],B={},z=function(we){return M.push(we)},I=function(){return M.shift()};for(n.forEach(function(De){return M.push(De)});M.length>0;){var P=I(),Y=R(P,B);if(Y)P.outgoers().filter(function(De){return De.isNode()&&a.has(De)}).forEach(z);else if(Y===null){Et("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var U=0;if(t.avoidOverlap)for(var G=0;G<n.length;G++){var V=n[G],X=V.layoutDimensions(t),K=X.w,k=X.h;U=Math.max(U,K,k)}var q={},j=function(we){if(q[we.id()])return q[we.id()];for(var Ne=Cl(we).depth,Le=we.neighborhood(),Ye=0,Ce=0,je=0;je<Le.length;je++){var qe=Le[je];if(!(qe.isEdge()||qe.isParent()||!n.has(qe))){var Qe=Cl(qe);if(Qe!=null){var $e=Qe.index,ut=Qe.depth;if(!($e==null||ut==null)){var Xe=T[ut].length;ut<Ne&&(Ye+=$e/Xe,Ce++)}}}}return Ce=Math.max(1,Ce),Ye=Ye/Ce,Ce===0&&(Ye=0),q[we.id()]=Ye,Ye},Q=function(we,Ne){var Le=j(we),Ye=j(Ne),Ce=Le-Ye;return Ce===0?PE(we.id(),Ne.id()):Ce};t.depthSort!==void 0&&(Q=t.depthSort);for(var J=T.length,ne=0;ne<J;ne++)T[ne].sort(Q),A(ne);for(var ue=[],pe=0;pe<L.length;pe++)ue.push(L[pe]);var ie=function(){for(var we=0;we<J;we++)A(we)};ue.length&&(T.unshift(ue),J=T.length,ie());for(var ee=0,W=0;W<J;W++)ee=Math.max(T[W].length,ee);var ae={x:h.x1+h.w/2,y:h.y1+h.h/2},ce=n.reduce(function(De,we){return(function(Ne){return{w:De.w===-1?Ne.w:(De.w+Ne.w)/2,h:De.h===-1?Ne.h:(De.h+Ne.h)/2}})(we.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),xe=Math.max(J===1?0:f?(h.h-t.padding*2-ce.h)/(J-1):(h.h-t.padding*2-ce.h)/(J+1),U),Se=T.reduce(function(De,we){return Math.max(De,we.length)},0),Oe=function(we){var Ne=Cl(we),Le=Ne.depth,Ye=Ne.index;if(t.circle){var Ce=Math.min(h.w/2/J,h.h/2/J);Ce=Math.max(Ce,U);var je=Ce*Le+Ce-(J>0&&T[0].length<=3?Ce/2:0),qe=2*Math.PI/T[Le].length*Ye;return Le===0&&T[0].length===1&&(je=1),{x:ae.x+je*Math.cos(qe),y:ae.y+je*Math.sin(qe)}}else{var Qe=T[Le].length,$e=Math.max(Qe===1?0:f?(h.w-t.padding*2-ce.w)/((t.grid?Se:Qe)-1):(h.w-t.padding*2-ce.w)/((t.grid?Se:Qe)+1),U),ut={x:ae.x+(Ye+1-(Qe+1)/2)*$e,y:ae.y+(Le+1-(J+1)/2)*xe};return ut}},Ue={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Ue).indexOf(t.direction)===-1&&It("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Ue).join(", ")));var Ae=function(we){return AC(Oe(we),h,Ue[t.direction])};return a.nodes().layoutPositions(this,t,Ae),this};var cO={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Px(t){this.options=Ke({},cO,t)}Px.prototype.run=function(){var t=this.options,e=t,a=t.cy,n=e.eles,l=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,s=n.nodes().not(":parent");e.sort&&(s=s.sort(e.sort));for(var u=Ia(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),f={x:u.x1+u.w/2,y:u.y1+u.h/2},h=e.sweep===void 0?2*Math.PI-2*Math.PI/s.length:e.sweep,c=h/Math.max(1,s.length-1),v,g=0,y=0;y<s.length;y++){var p=s[y],m=p.layoutDimensions(e),E=m.w,x=m.h;g=Math.max(g,E,x)}if(Re(e.radius)?v=e.radius:s.length<=1?v=0:v=Math.min(u.h,u.w)/2-g,s.length>1&&e.avoidOverlap){g*=1.75;var T=Math.cos(c)-Math.cos(0),C=Math.sin(c)-Math.sin(0),S=Math.sqrt(g*g/(T*T+C*C));v=Math.max(S,v)}var O=function(_,D){var A=e.startAngle+D*c*(l?1:-1),R=v*Math.cos(A),M=v*Math.sin(A),B={x:f.x+R,y:f.y+M};return B};return n.nodes().layoutPositions(this,e,O),this};var hO={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Fx(t){this.options=Ke({},hO,t)}Fx.prototype.run=function(){for(var t=this.options,e=t,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,l=e.eles,s=l.nodes().not(":parent"),u=Ia(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),f={x:u.x1+u.w/2,y:u.y1+u.h/2},h=[],c=0,v=0;v<s.length;v++){var g=s[v],y=void 0;y=e.concentric(g),h.push({value:y,node:g}),g._private.scratch.concentric=y}s.updateStyle();for(var p=0;p<s.length;p++){var m=s[p],E=m.layoutDimensions(e);c=Math.max(c,E.w,E.h)}h.sort(function(xe,Se){return Se.value-xe.value});for(var x=e.levelWidth(s),T=[[]],C=T[0],S=0;S<h.length;S++){var O=h[S];if(C.length>0){var L=Math.abs(C[0].value-O.value);L>=x&&(C=[],T.push(C))}C.push(O)}var _=c+e.minNodeSpacing;if(!e.avoidOverlap){var D=T.length>0&&T[0].length>1,A=Math.min(u.w,u.h)/2-_,R=A/(T.length+D?1:0);_=Math.min(_,R)}for(var M=0,B=0;B<T.length;B++){var z=T[B],I=e.sweep===void 0?2*Math.PI-2*Math.PI/z.length:e.sweep,P=z.dTheta=I/Math.max(1,z.length-1);if(z.length>1&&e.avoidOverlap){var Y=Math.cos(P)-Math.cos(0),U=Math.sin(P)-Math.sin(0),G=Math.sqrt(_*_/(Y*Y+U*U));M=Math.max(G,M)}z.r=M,M+=_}if(e.equidistant){for(var V=0,X=0,K=0;K<T.length;K++){var k=T[K],q=k.r-X;V=Math.max(V,q)}X=0;for(var j=0;j<T.length;j++){var Q=T[j];j===0&&(X=Q.r),Q.r=X,X+=V}}for(var J={},ne=0;ne<T.length;ne++)for(var ue=T[ne],pe=ue.dTheta,ie=ue.r,ee=0;ee<ue.length;ee++){var W=ue[ee],ae=e.startAngle+(a?1:-1)*pe*ee,ce={x:f.x+ie*Math.cos(ae),y:f.y+ie*Math.sin(ae)};J[W.node.id()]=ce}return l.nodes().layoutPositions(this,e,function(xe){var Se=xe.id();return J[Se]}),this};var Ud,vO={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,a){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Qf(t){this.options=Ke({},vO,t),this.options.layout=this;var e=this.options.eles.nodes(),a=this.options.eles.edges(),n=a.filter(function(l){var s=l.source().data("id"),u=l.target().data("id"),f=e.some(function(c){return c.data("id")===s}),h=e.some(function(c){return c.data("id")===u});return!f||!h});this.options.eles=this.options.eles.not(n)}Qf.prototype.run=function(){var t=this.options,e=t.cy,a=this;a.stopped=!1,(t.animate===!0||t.animate===!1)&&a.emit({type:"layoutstart",layout:a}),t.debug===!0?Ud=!0:Ud=!1;var n=dO(e,a,t);Ud&&pO(n),t.randomize&&yO(n);var l=on(),s=function(){mO(n,e,t),t.fit===!0&&e.fit(t.padding)},u=function(y){return!(a.stopped||y>=t.numIter||(bO(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},f=function(){if(t.animate===!0||t.animate===!1)s(),a.one("layoutstop",t.stop),a.emit({type:"layoutstop",layout:a});else{var y=t.eles.nodes(),p=Hx(n,t,y);y.layoutPositions(a,t,p)}},h=0,c=!0;if(t.animate===!0){var v=function(){for(var y=0;c&&y<t.refresh;)c=u(h),h++,y++;if(!c)Yb(n,t),f();else{var p=on();p-l>=t.animationThreshold&&s(),Tf(v)}};v()}else{for(;c;)c=u(h),h++;Yb(n,t),f()}return this};Qf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Qf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var dO=function(e,a,n){for(var l=n.eles.edges(),s=n.eles.nodes(),u=Ia(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),f={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:s.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:l.size(),temperature:n.initialTemp,clientWidth:u.w,clientHeight:u.h,boundingBox:u},h=n.eles.components(),c={},v=0;v<h.length;v++)for(var g=h[v],y=0;y<g.length;y++){var p=g[y];c[p.id()]=v}for(var v=0;v<f.nodeSize;v++){var m=s[v],E=m.layoutDimensions(n),x={};x.isLocked=m.locked(),x.id=m.data("id"),x.parentId=m.data("parent"),x.cmptId=c[m.id()],x.children=[],x.positionX=m.position("x"),x.positionY=m.position("y"),x.offsetX=0,x.offsetY=0,x.height=E.w,x.width=E.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(m.style("padding")),x.padRight=parseFloat(m.style("padding")),x.padTop=parseFloat(m.style("padding")),x.padBottom=parseFloat(m.style("padding")),x.nodeRepulsion=Ft(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,f.layoutNodes.push(x),f.idToIndex[x.id]=v}for(var T=[],C=0,S=-1,O=[],v=0;v<f.nodeSize;v++){var m=f.layoutNodes[v],L=m.parentId;L!=null?f.layoutNodes[f.idToIndex[L]].children.push(m.id):(T[++S]=m.id,O.push(m.id))}for(f.graphSet.push(O);C<=S;){var _=T[C++],D=f.idToIndex[_],p=f.layoutNodes[D],A=p.children;if(A.length>0){f.graphSet.push(A);for(var v=0;v<A.length;v++)T[++S]=A[v]}}for(var v=0;v<f.graphSet.length;v++)for(var R=f.graphSet[v],y=0;y<R.length;y++){var M=f.idToIndex[R[y]];f.indexToGraph[M]=v}for(var v=0;v<f.edgeSize;v++){var B=l[v],z={};z.id=B.data("id"),z.sourceId=B.data("source"),z.targetId=B.data("target");var I=Ft(n.idealEdgeLength)?n.idealEdgeLength(B):n.idealEdgeLength,P=Ft(n.edgeElasticity)?n.edgeElasticity(B):n.edgeElasticity,Y=f.idToIndex[z.sourceId],U=f.idToIndex[z.targetId],G=f.indexToGraph[Y],V=f.indexToGraph[U];if(G!=V){for(var X=gO(z.sourceId,z.targetId,f),K=f.graphSet[X],k=0,x=f.layoutNodes[Y];K.indexOf(x.id)===-1;)x=f.layoutNodes[f.idToIndex[x.parentId]],k++;for(x=f.layoutNodes[U];K.indexOf(x.id)===-1;)x=f.layoutNodes[f.idToIndex[x.parentId]],k++;I*=k*n.nestingFactor}z.idealLength=I,z.elasticity=P,f.layoutEdges.push(z)}return f},gO=function(e,a,n){var l=qx(e,a,0,n);return 2>l.count?0:l.graph},qx=function(e,a,n,l){var s=l.graphSet[n];if(-1<s.indexOf(e)&&-1<s.indexOf(a))return{count:2,graph:n};for(var u=0,f=0;f<s.length;f++){var h=s[f],c=l.idToIndex[h],v=l.layoutNodes[c].children;if(v.length!==0){var g=l.indexToGraph[l.idToIndex[v[0]]],y=qx(e,a,g,l);if(y.count!==0)if(y.count===1){if(u++,u===2)break}else return y}}return{count:u,graph:n}},pO,yO=function(e,a){for(var n=e.clientWidth,l=e.clientHeight,s=0;s<e.nodeSize;s++){var u=e.layoutNodes[s];u.children.length===0&&!u.isLocked&&(u.positionX=Math.random()*n,u.positionY=Math.random()*l)}},Hx=function(e,a,n){var l=e.boundingBox,s={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return a.boundingBox&&(n.forEach(function(u){var f=e.layoutNodes[e.idToIndex[u.data("id")]];s.x1=Math.min(s.x1,f.positionX),s.x2=Math.max(s.x2,f.positionX),s.y1=Math.min(s.y1,f.positionY),s.y2=Math.max(s.y2,f.positionY)}),s.w=s.x2-s.x1,s.h=s.y2-s.y1),function(u,f){var h=e.layoutNodes[e.idToIndex[u.data("id")]];if(a.boundingBox){var c=s.w===0?.5:(h.positionX-s.x1)/s.w,v=s.h===0?.5:(h.positionY-s.y1)/s.h;return{x:l.x1+c*l.w,y:l.y1+v*l.h}}else return{x:h.positionX,y:h.positionY}}},mO=function(e,a,n){var l=n.layout,s=n.eles.nodes(),u=Hx(e,n,s);s.positions(u),e.ready!==!0&&(e.ready=!0,l.one("layoutready",n.ready),l.emit({type:"layoutready",layout:this}))},bO=function(e,a,n){EO(e,a),wO(e),SO(e,a),CO(e),AO(e)},EO=function(e,a){for(var n=0;n<e.graphSet.length;n++)for(var l=e.graphSet[n],s=l.length,u=0;u<s;u++)for(var f=e.layoutNodes[e.idToIndex[l[u]]],h=u+1;h<s;h++){var c=e.layoutNodes[e.idToIndex[l[h]]];xO(f,c,e,a)}},Vb=function(e){return-1+2*e*Math.random()},xO=function(e,a,n,l){var s=e.cmptId,u=a.cmptId;if(!(s!==u&&!n.isCompound)){var f=a.positionX-e.positionX,h=a.positionY-e.positionY,c=1;f===0&&h===0&&(f=Vb(c),h=Vb(c));var v=TO(e,a,f,h);if(v>0)var g=l.nodeOverlap*v,y=Math.sqrt(f*f+h*h),p=g*f/y,m=g*h/y;else var E=Of(e,f,h),x=Of(a,-1*f,-1*h),T=x.x-E.x,C=x.y-E.y,S=T*T+C*C,y=Math.sqrt(S),g=(e.nodeRepulsion+a.nodeRepulsion)/S,p=g*T/y,m=g*C/y;e.isLocked||(e.offsetX-=p,e.offsetY-=m),a.isLocked||(a.offsetX+=p,a.offsetY+=m)}},TO=function(e,a,n,l){if(n>0)var s=e.maxX-a.minX;else var s=a.maxX-e.minX;if(l>0)var u=e.maxY-a.minY;else var u=a.maxY-e.minY;return s>=0&&u>=0?Math.sqrt(s*s+u*u):0},Of=function(e,a,n){var l=e.positionX,s=e.positionY,u=e.height||1,f=e.width||1,h=n/a,c=u/f,v={};return a===0&&0<n||a===0&&0>n?(v.x=l,v.y=s+u/2,v):0<a&&-1*c<=h&&h<=c?(v.x=l+f/2,v.y=s+f*n/2/a,v):0>a&&-1*c<=h&&h<=c?(v.x=l-f/2,v.y=s-f*n/2/a,v):0<n&&(h<=-1*c||h>=c)?(v.x=l+u*a/2/n,v.y=s+u/2,v):(0>n&&(h<=-1*c||h>=c)&&(v.x=l-u*a/2/n,v.y=s-u/2),v)},wO=function(e,a){for(var n=0;n<e.edgeSize;n++){var l=e.layoutEdges[n],s=e.idToIndex[l.sourceId],u=e.layoutNodes[s],f=e.idToIndex[l.targetId],h=e.layoutNodes[f],c=h.positionX-u.positionX,v=h.positionY-u.positionY;if(!(c===0&&v===0)){var g=Of(u,c,v),y=Of(h,-1*c,-1*v),p=y.x-g.x,m=y.y-g.y,E=Math.sqrt(p*p+m*m),x=Math.pow(l.idealLength-E,2)/l.elasticity;if(E!==0)var T=x*p/E,C=x*m/E;else var T=0,C=0;u.isLocked||(u.offsetX+=T,u.offsetY+=C),h.isLocked||(h.offsetX-=T,h.offsetY-=C)}}},SO=function(e,a){if(a.gravity!==0)for(var n=1,l=0;l<e.graphSet.length;l++){var s=e.graphSet[l],u=s.length;if(l===0)var f=e.clientHeight/2,h=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[s[0]]],v=e.layoutNodes[e.idToIndex[c.parentId]],f=v.positionX,h=v.positionY;for(var g=0;g<u;g++){var y=e.layoutNodes[e.idToIndex[s[g]]];if(!y.isLocked){var p=f-y.positionX,m=h-y.positionY,E=Math.sqrt(p*p+m*m);if(E>n){var x=a.gravity*p/E,T=a.gravity*m/E;y.offsetX+=x,y.offsetY+=T}}}}},CO=function(e,a){var n=[],l=0,s=-1;for(n.push.apply(n,e.graphSet[0]),s+=e.graphSet[0].length;l<=s;){var u=n[l++],f=e.idToIndex[u],h=e.layoutNodes[f],c=h.children;if(0<c.length&&!h.isLocked){for(var v=h.offsetX,g=h.offsetY,y=0;y<c.length;y++){var p=e.layoutNodes[e.idToIndex[c[y]]];p.offsetX+=v,p.offsetY+=g,n[++s]=c[y]}h.offsetX=0,h.offsetY=0}}},AO=function(e,a){for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];0<l.children.length&&(l.maxX=void 0,l.minX=void 0,l.maxY=void 0,l.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];if(!(0<l.children.length||l.isLocked)){var s=DO(l.offsetX,l.offsetY,e.temperature);l.positionX+=s.x,l.positionY+=s.y,l.offsetX=0,l.offsetY=0,l.minX=l.positionX-l.width,l.maxX=l.positionX+l.width,l.minY=l.positionY-l.height,l.maxY=l.positionY+l.height,Vx(l,e)}}for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];0<l.children.length&&!l.isLocked&&(l.positionX=(l.maxX+l.minX)/2,l.positionY=(l.maxY+l.minY)/2,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY)}},DO=function(e,a,n){var l=Math.sqrt(e*e+a*a);if(l>n)var s={x:n*e/l,y:n*a/l};else var s={x:e,y:a};return s},Vx=function(e,a){var n=e.parentId;if(n!=null){var l=a.layoutNodes[a.idToIndex[n]],s=!1;if((l.maxX==null||e.maxX+l.padRight>l.maxX)&&(l.maxX=e.maxX+l.padRight,s=!0),(l.minX==null||e.minX-l.padLeft<l.minX)&&(l.minX=e.minX-l.padLeft,s=!0),(l.maxY==null||e.maxY+l.padBottom>l.maxY)&&(l.maxY=e.maxY+l.padBottom,s=!0),(l.minY==null||e.minY-l.padTop<l.minY)&&(l.minY=e.minY-l.padTop,s=!0),s)return Vx(l,a)}},Yb=function(e,a){for(var n=e.layoutNodes,l=[],s=0;s<n.length;s++){var u=n[s],f=u.cmptId,h=l[f]=l[f]||[];h.push(u)}for(var c=0,s=0;s<l.length;s++){var v=l[s];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var g=0;g<v.length;g++){var y=v[g];v.x1=Math.min(v.x1,y.positionX-y.width/2),v.x2=Math.max(v.x2,y.positionX+y.width/2),v.y1=Math.min(v.y1,y.positionY-y.height/2),v.y2=Math.max(v.y2,y.positionY+y.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,c+=v.w*v.h}}l.sort(function(C,S){return S.w*S.h-C.w*C.h});for(var p=0,m=0,E=0,x=0,T=Math.sqrt(c)*e.clientWidth/e.clientHeight,s=0;s<l.length;s++){var v=l[s];if(v){for(var g=0;g<v.length;g++){var y=v[g];y.isLocked||(y.positionX+=p-v.x1,y.positionY+=m-v.y1)}p+=v.w+a.componentSpacing,E+=v.w+a.componentSpacing,x=Math.max(x,v.h),E>T&&(m+=x+a.componentSpacing,p=0,E=0,x=0)}}},RO={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Yx(t){this.options=Ke({},RO,t)}Yx.prototype.run=function(){var t=this.options,e=t,a=t.cy,n=e.eles,l=n.nodes().not(":parent");e.sort&&(l=l.sort(e.sort));var s=Ia(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()});if(s.h===0||s.w===0)n.nodes().layoutPositions(this,e,function(j){return{x:s.x1,y:s.y1}});else{var u=l.size(),f=Math.sqrt(u*s.h/s.w),h=Math.round(f),c=Math.round(s.w/s.h*f),v=function(Q){if(Q==null)return Math.min(h,c);var J=Math.min(h,c);J==h?h=Q:c=Q},g=function(Q){if(Q==null)return Math.max(h,c);var J=Math.max(h,c);J==h?h=Q:c=Q},y=e.rows,p=e.cols!=null?e.cols:e.columns;if(y!=null&&p!=null)h=y,c=p;else if(y!=null&&p==null)h=y,c=Math.ceil(u/h);else if(y==null&&p!=null)c=p,h=Math.ceil(u/c);else if(c*h>u){var m=v(),E=g();(m-1)*E>=u?v(m-1):(E-1)*m>=u&&g(E-1)}else for(;c*h<u;){var x=v(),T=g();(T+1)*x>=u?g(T+1):v(x+1)}var C=s.w/c,S=s.h/h;if(e.condense&&(C=0,S=0),e.avoidOverlap)for(var O=0;O<l.length;O++){var L=l[O],_=L._private.position;(_.x==null||_.y==null)&&(_.x=0,_.y=0);var D=L.layoutDimensions(e),A=e.avoidOverlapPadding,R=D.w+A,M=D.h+A;C=Math.max(C,R),S=Math.max(S,M)}for(var B={},z=function(Q,J){return!!B["c-"+Q+"-"+J]},I=function(Q,J){B["c-"+Q+"-"+J]=!0},P=0,Y=0,U=function(){Y++,Y>=c&&(Y=0,P++)},G={},V=0;V<l.length;V++){var X=l[V],K=e.position(X);if(K&&(K.row!==void 0||K.col!==void 0)){var k={row:K.row,col:K.col};if(k.col===void 0)for(k.col=0;z(k.row,k.col);)k.col++;else if(k.row===void 0)for(k.row=0;z(k.row,k.col);)k.row++;G[X.id()]=k,I(k.row,k.col)}}var q=function(Q,J){var ne,ue;if(Q.locked()||Q.isParent())return!1;var pe=G[Q.id()];if(pe)ne=pe.col*C+C/2+s.x1,ue=pe.row*S+S/2+s.y1;else{for(;z(P,Y);)U();ne=Y*C+C/2+s.x1,ue=P*S+S/2+s.y1,I(P,Y),U()}return{x:ne,y:ue}};l.layoutPositions(this,e,q)}return this};var OO={ready:function(){},stop:function(){}};function kg(t){this.options=Ke({},OO,t)}kg.prototype.run=function(){var t=this.options,e=t.eles,a=this;return t.cy,a.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),a.one("layoutready",t.ready),a.emit("layoutready"),a.one("layoutstop",t.stop),a.emit("layoutstop"),this};kg.prototype.stop=function(){return this};var MO={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Xx(t){this.options=Ke({},MO,t)}Xx.prototype.run=function(){var t=this.options,e=t.eles,a=e.nodes(),n=Ft(t.positions);function l(s){if(t.positions==null)return $C(s.position());if(n)return t.positions(s);var u=t.positions[s._private.data.id];return u??null}return a.layoutPositions(this,t,function(s,u){var f=l(s);return s.locked()||f==null?!1:f}),this};var LO={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function jx(t){this.options=Ke({},LO,t)}jx.prototype.run=function(){var t=this.options,e=t.cy,a=t.eles,n=Ia(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),l=function(u,f){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return a.nodes().layoutPositions(this,t,l),this};var NO=[{name:"breadthfirst",impl:Gx},{name:"circle",impl:Px},{name:"concentric",impl:Fx},{name:"cose",impl:Qf},{name:"grid",impl:Yx},{name:"null",impl:kg},{name:"preset",impl:Xx},{name:"random",impl:jx}];function Kx(t){this.options=t,this.notifications=0}var Xb=function(){},jb=function(){throw new Error("A headless instance can not render images")};Kx.prototype={recalculateRenderedStyle:Xb,notify:function(){this.notifications++},init:Xb,isHeadless:function(){return!0},png:jb,jpg:jb};var Ig={};Ig.arrowShapeWidth=.3;Ig.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,a=function(c,v,g,y,p,m,E){var x=p.x-g/2-E,T=p.x+g/2+E,C=p.y-g/2-E,S=p.y+g/2+E,O=x<=c&&c<=T&&C<=v&&v<=S;return O},n=function(c,v,g,y,p){var m=c*Math.cos(y)-v*Math.sin(y),E=c*Math.sin(y)+v*Math.cos(y),x=m*g,T=E*g,C=x+p.x,S=T+p.y;return{x:C,y:S}},l=function(c,v,g,y){for(var p=[],m=0;m<c.length;m+=2){var E=c[m],x=c[m+1];p.push(n(E,x,v,g,y))}return p},s=function(c){for(var v=[],g=0;g<c.length;g++){var y=c[g];v.push(y.x,y.y)}return v},u=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},f=function(c,v){He(v)&&(v=t[v]),t[c]=Ke({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(y,p,m,E,x,T){var C=s(l(this.points,m+2*T,E,x)),S=Ka(y,p,C);return S},roughCollide:a,draw:function(y,p,m,E){var x=l(this.points,p,m,E);e.arrowShapeImpl("polygon")(y,x)},spacing:function(y){return 0},gap:u},v)};f("none",{collide:wf,roughCollide:wf,draw:Tg,spacing:s1,gap:s1}),f("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),f("arrow","triangle"),f("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:a,draw:function(c,v,g,y,p){var m=l(this.points,v,g,y),E=this.controlPoint,x=n(E[0],E[1],v,g,y);e.arrowShapeImpl(this.name)(c,m,x)},gap:function(c){return u(c)*.8}}),f("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,v,g,y,p,m,E){var x=s(l(this.points,g+2*E,y,p)),T=s(l(this.pointsTee,g+2*E,y,p)),C=Ka(c,v,x)||Ka(c,v,T);return C},draw:function(c,v,g,y,p){var m=l(this.points,v,g,y),E=l(this.pointsTee,v,g,y);e.arrowShapeImpl(this.name)(c,m,E)}}),f("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,v,g,y,p,m,E){var x=p,T=Math.pow(x.x-c,2)+Math.pow(x.y-v,2)<=Math.pow((g+2*E)*this.radius,2),C=s(l(this.points,g+2*E,y,p));return Ka(c,v,C)||T},draw:function(c,v,g,y,p){var m=l(this.pointsTr,v,g,y);e.arrowShapeImpl(this.name)(c,m,y.x,y.y,this.radius*v)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),f("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,v){var g=this.baseCrossLinePts.slice(),y=v/c,p=3,m=5;return g[p]=g[p]-y,g[m]=g[m]-y,g},collide:function(c,v,g,y,p,m,E){var x=s(l(this.points,g+2*E,y,p)),T=s(l(this.crossLinePts(g,m),g+2*E,y,p)),C=Ka(c,v,x)||Ka(c,v,T);return C},draw:function(c,v,g,y,p){var m=l(this.points,v,g,y),E=l(this.crossLinePts(v,p),v,g,y);e.arrowShapeImpl(this.name)(c,m,E)}}),f("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return u(c)*.525}}),f("circle",{radius:.15,collide:function(c,v,g,y,p,m,E){var x=p,T=Math.pow(x.x-c,2)+Math.pow(x.y-v,2)<=Math.pow((g+2*E)*this.radius,2);return T},draw:function(c,v,g,y,p){e.arrowShapeImpl(this.name)(c,y.x,y.y,this.radius*v)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),f("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),f("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),f("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),f("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var Gi={};Gi.projectIntoViewport=function(t,e){var a=this.cy,n=this.findContainerClientCoords(),l=n[0],s=n[1],u=n[4],f=a.pan(),h=a.zoom(),c=((t-l)/u-f.x)/h,v=((e-s)/u-f.y)/h;return[c,v]};Gi.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),a=this.cy.window().getComputedStyle(t),n=function(T){return parseFloat(a.getPropertyValue(T))},l={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},s={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},u=t.clientWidth,f=t.clientHeight,h=l.left+l.right,c=l.top+l.bottom,v=s.left+s.right,g=e.width/(u+v),y=u-h,p=f-c,m=e.left+l.left+s.left,E=e.top+l.top+s.top;return this.containerBB=[m,E,y,p,g]};Gi.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Gi.findNearestElement=function(t,e,a,n){return this.findNearestElements(t,e,a,n)[0]};Gi.findNearestElements=function(t,e,a,n){var l=this,s=this,u=s.getCachedZSortedEles(),f=[],h=s.cy.zoom(),c=s.cy.hasCompoundNodes(),v=(n?24:8)/h,g=(n?8:2)/h,y=(n?8:2)/h,p=1/0,m,E;a&&(u=u.interactive);function x(D,A){if(D.isNode()){if(E)return;E=D,f.push(D)}if(D.isEdge()&&(A==null||A<p))if(m){if(m.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value){for(var R=0;R<f.length;R++)if(f[R].isEdge()){f[R]=D,m=D,p=A??p;break}}}else f.push(D),m=D,p=A??p}function T(D){var A=D.outerWidth()+2*g,R=D.outerHeight()+2*g,M=A/2,B=R/2,z=D.position(),I=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,P=D._private.rscratch;if(z.x-M<=t&&t<=z.x+M&&z.y-B<=e&&e<=z.y+B){var Y=s.nodeShapes[l.getNodeShape(D)];if(Y.checkPoint(t,e,0,A,R,z.x,z.y,I,P))return x(D,0),!0}}function C(D){var A=D._private,R=A.rscratch,M=D.pstyle("width").pfValue,B=D.pstyle("arrow-scale").value,z=M/2+v,I=z*z,P=z*2,V=A.source,X=A.target,Y;if(R.edgeType==="segments"||R.edgeType==="straight"||R.edgeType==="haystack"){for(var U=R.allpts,G=0;G+3<U.length;G+=2)if(hA(t,e,U[G],U[G+1],U[G+2],U[G+3],P)&&I>(Y=yA(t,e,U[G],U[G+1],U[G+2],U[G+3])))return x(D,Y),!0}else if(R.edgeType==="bezier"||R.edgeType==="multibezier"||R.edgeType==="self"||R.edgeType==="compound"){for(var U=R.allpts,G=0;G+5<R.allpts.length;G+=4)if(vA(t,e,U[G],U[G+1],U[G+2],U[G+3],U[G+4],U[G+5],P)&&I>(Y=pA(t,e,U[G],U[G+1],U[G+2],U[G+3],U[G+4],U[G+5])))return x(D,Y),!0}for(var V=V||A.source,X=X||A.target,K=l.getArrowWidth(M,B),k=[{name:"source",x:R.arrowStartX,y:R.arrowStartY,angle:R.srcArrowAngle},{name:"target",x:R.arrowEndX,y:R.arrowEndY,angle:R.tgtArrowAngle},{name:"mid-source",x:R.midX,y:R.midY,angle:R.midsrcArrowAngle},{name:"mid-target",x:R.midX,y:R.midY,angle:R.midtgtArrowAngle}],G=0;G<k.length;G++){var q=k[G],j=s.arrowShapes[D.pstyle(q.name+"-arrow-shape").value],Q=D.pstyle("width").pfValue;if(j.roughCollide(t,e,K,q.angle,{x:q.x,y:q.y},Q,v)&&j.collide(t,e,K,q.angle,{x:q.x,y:q.y},Q,v))return x(D),!0}c&&f.length>0&&(T(V),T(X))}function S(D,A,R){return ja(D,A,R)}function O(D,A){var R=D._private,M=y,B;A?B=A+"-":B="",D.boundingBox();var z=R.labelBounds[A||"main"],I=D.pstyle(B+"label").value,P=D.pstyle("text-events").strValue==="yes";if(!(!P||!I)){var Y=S(R.rscratch,"labelX",A),U=S(R.rscratch,"labelY",A),G=S(R.rscratch,"labelAngle",A),V=D.pstyle(B+"text-margin-x").pfValue,X=D.pstyle(B+"text-margin-y").pfValue,K=z.x1-M-V,k=z.x2+M-V,q=z.y1-M-X,j=z.y2+M-X;if(G){var Q=Math.cos(G),J=Math.sin(G),ne=function(ce,xe){return ce=ce-Y,xe=xe-U,{x:ce*Q-xe*J+Y,y:ce*J+xe*Q+U}},ue=ne(K,q),pe=ne(K,j),ie=ne(k,q),ee=ne(k,j),W=[ue.x+V,ue.y+X,ie.x+V,ie.y+X,ee.x+V,ee.y+X,pe.x+V,pe.y+X];if(Ka(t,e,W))return x(D),!0}else if(Yn(z,t,e))return x(D),!0}}for(var L=u.length-1;L>=0;L--){var _=u[L];_.isNode()?T(_)||O(_):C(_)||O(_)||O(_,"source")||O(_,"target")}return f};Gi.getAllInBox=function(t,e,a,n){var l=this.getCachedZSortedEles().interactive,s=this.cy.zoom(),u=2/s,f=[],h=Math.min(t,a),c=Math.max(t,a),v=Math.min(e,n),g=Math.max(e,n);t=h,a=c,e=v,n=g;var y=Ia({x1:t,y1:e,x2:a,y2:n}),p=[{x:y.x1,y:y.y1},{x:y.x2,y:y.y1},{x:y.x2,y:y.y2},{x:y.x1,y:y.y2}],m=[[p[0],p[1]],[p[1],p[2]],[p[2],p[3]],[p[3],p[0]]];function E(ce,xe,Se){return ja(ce,xe,Se)}function x(ce,xe){var Se=ce._private,Oe=u,Ue="";ce.boundingBox();var Ae=Se.labelBounds.main;if(!Ae)return null;var De=E(Se.rscratch,"labelX",xe),we=E(Se.rscratch,"labelY",xe),Ne=E(Se.rscratch,"labelAngle",xe),Le=ce.pstyle(Ue+"text-margin-x").pfValue,Ye=ce.pstyle(Ue+"text-margin-y").pfValue,Ce=Ae.x1-Oe-Le,je=Ae.x2+Oe-Le,qe=Ae.y1-Oe-Ye,Qe=Ae.y2+Oe-Ye;if(Ne){var $e=Math.cos(Ne),ut=Math.sin(Ne),Xe=function(de,H){return de=de-De,H=H-we,{x:de*$e-H*ut+De,y:de*ut+H*$e+we}};return[Xe(Ce,qe),Xe(je,qe),Xe(je,Qe),Xe(Ce,Qe)]}else return[{x:Ce,y:qe},{x:je,y:qe},{x:je,y:Qe},{x:Ce,y:Qe}]}function T(ce,xe,Se,Oe){function Ue(Ae,De,we){return(we.y-Ae.y)*(De.x-Ae.x)>(De.y-Ae.y)*(we.x-Ae.x)}return Ue(ce,Se,Oe)!==Ue(xe,Se,Oe)&&Ue(ce,xe,Se)!==Ue(ce,xe,Oe)}for(var C=0;C<l.length;C++){var S=l[C];if(S.isNode()){var O=S,L=O.pstyle("text-events").strValue==="yes",_=O.pstyle("box-selection").strValue,D=O.pstyle("box-select-labels").strValue==="yes";if(_==="none")continue;var A=(_==="overlap"||D)&&L,R=O.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:A});if(_==="contain"){var M=!1;if(D&&L){var B=x(O);B&&kv(B,p)&&(f.push(O),M=!0)}!M&&tx(y,R)&&f.push(O)}else if(_==="overlap"&&Ag(y,R)){var z=O.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),I=[{x:z.x1,y:z.y1},{x:z.x2,y:z.y1},{x:z.x2,y:z.y2},{x:z.x1,y:z.y2}];if(kv(I,p))f.push(O);else{var P=x(O);P&&kv(P,p)&&f.push(O)}}}else{var Y=S,U=Y._private,G=U.rscratch,V=Y.pstyle("box-selection").strValue;if(V==="none")continue;if(V==="contain"){if(G.startX!=null&&G.startY!=null&&!Yn(y,G.startX,G.startY)||G.endX!=null&&G.endY!=null&&!Yn(y,G.endX,G.endY))continue;if(G.edgeType==="bezier"||G.edgeType==="multibezier"||G.edgeType==="self"||G.edgeType==="compound"||G.edgeType==="segments"||G.edgeType==="haystack"){for(var X=U.rstyle.bezierPts||U.rstyle.linePts||U.rstyle.haystackPts,K=!0,k=0;k<X.length;k++)if(!h1(y,X[k])){K=!1;break}K&&f.push(Y)}else G.edgeType==="straight"&&f.push(Y)}else if(V==="overlap"){var q=!1;if(G.startX!=null&&G.startY!=null&&G.endX!=null&&G.endY!=null&&(Yn(y,G.startX,G.startY)||Yn(y,G.endX,G.endY)))f.push(Y),q=!0;else if(!q&&G.edgeType==="haystack"){for(var j=U.rstyle.haystackPts,Q=0;Q<j.length;Q++)if(h1(y,j[Q])){f.push(Y),q=!0;break}}if(!q){var J=U.rstyle.bezierPts||U.rstyle.linePts||U.rstyle.haystackPts;if((!J||J.length<2)&&G.edgeType==="straight"&&G.startX!=null&&G.startY!=null&&G.endX!=null&&G.endY!=null&&(J=[{x:G.startX,y:G.startY},{x:G.endX,y:G.endY}]),!J||J.length<2)continue;for(var ne=0;ne<J.length-1;ne++){for(var ue=J[ne],pe=J[ne+1],ie=0;ie<m.length;ie++){var ee=aa(m[ie],2),W=ee[0],ae=ee[1];if(T(ue,pe,W,ae)){f.push(Y),q=!0;break}}if(q)break}}}}}return f};var Mf={};Mf.calculateArrowAngles=function(t){var e=t._private.rscratch,a=e.edgeType==="haystack",n=e.edgeType==="bezier",l=e.edgeType==="multibezier",s=e.edgeType==="segments",u=e.edgeType==="compound",f=e.edgeType==="self",h,c,v,g,y,p,T,C;if(a?(v=e.haystackPts[0],g=e.haystackPts[1],y=e.haystackPts[2],p=e.haystackPts[3]):(v=e.arrowStartX,g=e.arrowStartY,y=e.arrowEndX,p=e.arrowEndY),T=e.midX,C=e.midY,s)h=v-e.segpts[0],c=g-e.segpts[1];else if(l||u||f||n){var m=e.allpts,E=ga(m[0],m[2],m[4],.1),x=ga(m[1],m[3],m[5],.1);h=v-E,c=g-x}else h=v-T,c=g-C;e.srcArrowAngle=Fo(h,c);var T=e.midX,C=e.midY;if(a&&(T=(v+y)/2,C=(g+p)/2),h=y-v,c=p-g,s){var m=e.allpts;if(m.length/2%2===0){var S=m.length/2,O=S-2;h=m[S]-m[O],c=m[S+1]-m[O+1]}else if(e.isRound)h=e.midVector[1],c=-e.midVector[0];else{var S=m.length/2-1,O=S-2;h=m[S]-m[O],c=m[S+1]-m[O+1]}}else if(l||u||f){var m=e.allpts,L=e.ctrlpts,_,D,A,R;if(L.length/2%2===0){var M=m.length/2-1,B=M+2,z=B+2;_=ga(m[M],m[B],m[z],0),D=ga(m[M+1],m[B+1],m[z+1],0),A=ga(m[M],m[B],m[z],1e-4),R=ga(m[M+1],m[B+1],m[z+1],1e-4)}else{var B=m.length/2-1,M=B-2,z=B+2;_=ga(m[M],m[B],m[z],.4999),D=ga(m[M+1],m[B+1],m[z+1],.4999),A=ga(m[M],m[B],m[z],.5),R=ga(m[M+1],m[B+1],m[z+1],.5)}h=A-_,c=R-D}if(e.midtgtArrowAngle=Fo(h,c),e.midDispX=h,e.midDispY=c,h*=-1,c*=-1,s){var m=e.allpts;if(m.length/2%2!==0){if(!e.isRound){var S=m.length/2-1,I=S+2;h=-(m[I]-m[S]),c=-(m[I+1]-m[S+1])}}}if(e.midsrcArrowAngle=Fo(h,c),s)h=y-e.segpts[e.segpts.length-2],c=p-e.segpts[e.segpts.length-1];else if(l||u||f||n){var m=e.allpts,P=m.length,E=ga(m[P-6],m[P-4],m[P-2],.9),x=ga(m[P-5],m[P-3],m[P-1],.9);h=y-E,c=p-x}else h=y-T,c=p-C;e.tgtArrowAngle=Fo(h,c)};Mf.getArrowWidth=Mf.getArrowHeight=function(t,e){var a=this.arrowWidthCache=this.arrowWidthCache||{},n=a[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,a[t+", "+e]=n,n)};var ig,lg,zr={},mr={},Kb,Zb,Oi,df,nn,Si,Di,Br,Al,Zo,Zx,Qx,sg,ug,Qb,Wb=function(e,a,n){n.x=a.x-e.x,n.y=a.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},BO=function(e,a){a.x=e.x*-1,a.y=e.y*-1,a.nx=e.nx*-1,a.ny=e.ny*-1,a.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},_O=function(e,a,n,l,s){if(e!==Qb?Wb(a,e,zr):BO(mr,zr),Wb(a,n,mr),Kb=zr.nx*mr.ny-zr.ny*mr.nx,Zb=zr.nx*mr.nx-zr.ny*-mr.ny,nn=Math.asin(Math.max(-1,Math.min(1,Kb))),Math.abs(nn)<1e-6){ig=a.x,lg=a.y,Di=Al=0;return}Oi=1,df=!1,Zb<0?nn<0?nn=Math.PI+nn:(nn=Math.PI-nn,Oi=-1,df=!0):nn>0&&(Oi=-1,df=!0),a.radius!==void 0?Al=a.radius:Al=l,Si=nn/2,Zo=Math.min(zr.len/2,mr.len/2),s?(Br=Math.abs(Math.cos(Si)*Al/Math.sin(Si)),Br>Zo?(Br=Zo,Di=Math.abs(Br*Math.sin(Si)/Math.cos(Si))):Di=Al):(Br=Math.min(Zo,Al),Di=Math.abs(Br*Math.sin(Si)/Math.cos(Si))),sg=a.x+mr.nx*Br,ug=a.y+mr.ny*Br,ig=sg-mr.ny*Di*Oi,lg=ug+mr.nx*Di*Oi,Zx=a.x+zr.nx*Br,Qx=a.y+zr.ny*Br,Qb=a};function Wx(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Ug(t,e,a,n){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(_O(t,e,a,n,l),{cx:ig,cy:lg,radius:Di,startX:Zx,startY:Qx,stopX:sg,stopY:ug,startAngle:zr.ang+Math.PI/2*Oi,endAngle:mr.ang-Math.PI/2*Oi,counterClockwise:df})}var fu=.01,zO=Math.sqrt(2*fu),Ba={};Ba.findMidptPtsEtc=function(t,e){var a=e.posPts,n=e.intersectionPts,l=e.vectorNormInverse,s,u=t.pstyle("source-endpoint"),f=t.pstyle("target-endpoint"),h=u.units!=null&&f.units!=null,c=function(L,_,D,A){var R=A-_,M=D-L,B=Math.sqrt(M*M+R*R);return{x:-R/B,y:M/B}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":s=a;break;case"intersection":s=n;break;case"endpoints":{if(h){var g=this.manualEndptToPx(t.source()[0],u),y=aa(g,2),p=y[0],m=y[1],E=this.manualEndptToPx(t.target()[0],f),x=aa(E,2),T=x[0],C=x[1],S={x1:p,y1:m,x2:T,y2:C};l=c(p,m,T,C),s=S}else Et("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),s=n;break}}return{midptPts:s,vectorNormInverse:l}};Ba.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var a=t[e],n=a._private,l=n.rscratch;if(!l.haystack){var s=Math.random()*2*Math.PI;l.source={x:Math.cos(s),y:Math.sin(s)},s=Math.random()*2*Math.PI,l.target={x:Math.cos(s),y:Math.sin(s)}}var u=n.source,f=n.target,h=u.position(),c=f.position(),v=u.width(),g=f.width(),y=u.height(),p=f.height(),m=a.pstyle("haystack-radius").value,E=m/2;l.haystackPts=l.allpts=[l.source.x*v*E+h.x,l.source.y*y*E+h.y,l.target.x*g*E+c.x,l.target.y*p*E+c.y],l.midX=(l.allpts[0]+l.allpts[2])/2,l.midY=(l.allpts[1]+l.allpts[3])/2,l.edgeType="haystack",l.haystack=!0,this.storeEdgeProjections(a),this.calculateArrowAngles(a),this.recalculateEdgeLabelProjections(a),this.calculateLabelAngles(a)}};Ba.findSegmentsPoints=function(t,e){var a=t._private.rscratch,n=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),s=t.pstyle("segment-radii"),u=t.pstyle("radius-type"),f=Math.min(n.pfValue.length,l.pfValue.length),h=s.pfValue[s.pfValue.length-1],c=u.pfValue[u.pfValue.length-1];a.edgeType="segments",a.segpts=[],a.radii=[],a.isArcRadius=[];for(var v=0;v<f;v++){var g=n.pfValue[v],y=l.pfValue[v],p=1-g,m=g,E=this.findMidptPtsEtc(t,e),x=E.midptPts,T=E.vectorNormInverse,C={x:x.x1*p+x.x2*m,y:x.y1*p+x.y2*m};a.segpts.push(C.x+T.x*y,C.y+T.y*y),a.radii.push(s.pfValue[v]!==void 0?s.pfValue[v]:h),a.isArcRadius.push((u.pfValue[v]!==void 0?u.pfValue[v]:c)==="arc-radius")}};Ba.findLoopPoints=function(t,e,a,n){var l=t._private.rscratch,s=e.dirCounts,u=e.srcPos,f=t.pstyle("control-point-distances"),h=f?f.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,g=t.pstyle("control-point-step-size").pfValue;l.edgeType="self";var y=a,p=g;n&&(y=0,p=h);var m=c-Math.PI/2,E=m-v/2,x=m+v/2,T=c+"_"+v;y=s[T]===void 0?s[T]=0:++s[T],l.ctrlpts=[u.x+Math.cos(E)*1.4*p*(y/3+1),u.y+Math.sin(E)*1.4*p*(y/3+1),u.x+Math.cos(x)*1.4*p*(y/3+1),u.y+Math.sin(x)*1.4*p*(y/3+1)]};Ba.findCompoundLoopPoints=function(t,e,a,n){var l=t._private.rscratch;l.edgeType="compound";var s=e.srcPos,u=e.tgtPos,f=e.srcW,h=e.srcH,c=e.tgtW,v=e.tgtH,g=t.pstyle("control-point-step-size").pfValue,y=t.pstyle("control-point-distances"),p=y?y.pfValue[0]:void 0,m=a,E=g;n&&(m=0,E=p);var x=50,T={x:s.x-f/2,y:s.y-h/2},C={x:u.x-c/2,y:u.y-v/2},S={x:Math.min(T.x,C.x),y:Math.min(T.y,C.y)},O=.5,L=Math.max(O,Math.log(f*fu)),_=Math.max(O,Math.log(c*fu));l.ctrlpts=[S.x,S.y-(1+Math.pow(x,1.12)/100)*E*(m/3+1)*L,S.x-(1+Math.pow(x,1.12)/100)*E*(m/3+1)*_,S.y]};Ba.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Ba.findBezierPoints=function(t,e,a,n,l){var s=t._private.rscratch,u=t.pstyle("control-point-step-size").pfValue,f=t.pstyle("control-point-distances"),h=t.pstyle("control-point-weights"),c=f&&h?Math.min(f.value.length,h.value.length):1,v=f?f.pfValue[0]:void 0,g=h.value[0],y=n;s.edgeType=y?"multibezier":"bezier",s.ctrlpts=[];for(var p=0;p<c;p++){var m=(.5-e.eles.length/2+a)*u*(l?-1:1),E=void 0,x=Cg(m);y&&(v=f?f.pfValue[p]:u,g=h.value[p]),n?E=v:E=v!==void 0?x*v:void 0;var T=E!==void 0?E:m,C=1-g,S=g,O=this.findMidptPtsEtc(t,e),L=O.midptPts,_=O.vectorNormInverse,D={x:L.x1*C+L.x2*S,y:L.y1*C+L.y2*S};s.ctrlpts.push(D.x+_.x*T,D.y+_.y*T)}};Ba.findTaxiPoints=function(t,e){var a=t._private.rscratch;a.edgeType="segments";var n="vertical",l="horizontal",s="leftward",u="rightward",f="downward",h="upward",c="auto",v=e.posPts,g=e.srcW,y=e.srcH,p=e.tgtW,m=e.tgtH,E=t.pstyle("edge-distances").value,x=E!=="node-position",T=t.pstyle("taxi-direction").value,C=T,S=t.pstyle("taxi-turn"),O=S.units==="%",L=S.pfValue,_=L<0,D=t.pstyle("taxi-turn-min-distance").pfValue,A=x?(g+p)/2:0,R=x?(y+m)/2:0,M=v.x2-v.x1,B=v.y2-v.y1,z=function(H,re){return H>0?Math.max(H-re,0):Math.min(H+re,0)},I=z(M,A),P=z(B,R),Y=!1;C===c?T=Math.abs(I)>Math.abs(P)?l:n:C===h||C===f?(T=n,Y=!0):(C===s||C===u)&&(T=l,Y=!0);var U=T===n,G=U?P:I,V=U?B:M,X=Cg(V),K=!1;!(Y&&(O||_))&&(C===f&&V<0||C===h&&V>0||C===s&&V>0||C===u&&V<0)&&(X*=-1,G=X*Math.abs(G),K=!0);var k;if(O){var q=L<0?1+L:L;k=q*G}else{var j=L<0?G:0;k=j+L*X}var Q=function(H){return Math.abs(H)<D||Math.abs(H)>=Math.abs(G)},J=Q(k),ne=Q(Math.abs(G)-Math.abs(k)),ue=J||ne;if(ue&&!K)if(U){var pe=Math.abs(V)<=y/2,ie=Math.abs(M)<=p/2;if(pe){var ee=(v.x1+v.x2)/2,W=v.y1,ae=v.y2;a.segpts=[ee,W,ee,ae]}else if(ie){var ce=(v.y1+v.y2)/2,xe=v.x1,Se=v.x2;a.segpts=[xe,ce,Se,ce]}else a.segpts=[v.x1,v.y2]}else{var Oe=Math.abs(V)<=g/2,Ue=Math.abs(B)<=m/2;if(Oe){var Ae=(v.y1+v.y2)/2,De=v.x1,we=v.x2;a.segpts=[De,Ae,we,Ae]}else if(Ue){var Ne=(v.x1+v.x2)/2,Le=v.y1,Ye=v.y2;a.segpts=[Ne,Le,Ne,Ye]}else a.segpts=[v.x2,v.y1]}else if(U){var Ce=v.y1+k+(x?y/2*X:0),je=v.x1,qe=v.x2;a.segpts=[je,Ce,qe,Ce]}else{var Qe=v.x1+k+(x?g/2*X:0),$e=v.y1,ut=v.y2;a.segpts=[Qe,$e,Qe,ut]}if(a.isRound){var Xe=t.pstyle("taxi-radius").value,Me=t.pstyle("radius-type").value[0]==="arc-radius";a.radii=new Array(a.segpts.length/2).fill(Xe),a.isArcRadius=new Array(a.segpts.length/2).fill(Me)}};Ba.tryToCorrectInvalidPoints=function(t,e){var a=t._private.rscratch;if(a.edgeType==="bezier"){var n=e.srcPos,l=e.tgtPos,s=e.srcW,u=e.srcH,f=e.tgtW,h=e.tgtH,c=e.srcShape,v=e.tgtShape,g=e.srcCornerRadius,y=e.tgtCornerRadius,p=e.srcRs,m=e.tgtRs,E=!Re(a.startX)||!Re(a.startY),x=!Re(a.arrowStartX)||!Re(a.arrowStartY),T=!Re(a.endX)||!Re(a.endY),C=!Re(a.arrowEndX)||!Re(a.arrowEndY),S=3,O=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,L=S*O,_=_i({x:a.ctrlpts[0],y:a.ctrlpts[1]},{x:a.startX,y:a.startY}),D=_<L,A=_i({x:a.ctrlpts[0],y:a.ctrlpts[1]},{x:a.endX,y:a.endY}),R=A<L,M=!1;if(E||x||D){M=!0;var B={x:a.ctrlpts[0]-n.x,y:a.ctrlpts[1]-n.y},z=Math.sqrt(B.x*B.x+B.y*B.y),I={x:B.x/z,y:B.y/z},P=Math.max(s,u),Y={x:a.ctrlpts[0]+I.x*2*P,y:a.ctrlpts[1]+I.y*2*P},U=c.intersectLine(n.x,n.y,s,u,Y.x,Y.y,0,g,p);D?(a.ctrlpts[0]=a.ctrlpts[0]+I.x*(L-_),a.ctrlpts[1]=a.ctrlpts[1]+I.y*(L-_)):(a.ctrlpts[0]=U[0]+I.x*L,a.ctrlpts[1]=U[1]+I.y*L)}if(T||C||R){M=!0;var G={x:a.ctrlpts[0]-l.x,y:a.ctrlpts[1]-l.y},V=Math.sqrt(G.x*G.x+G.y*G.y),X={x:G.x/V,y:G.y/V},K=Math.max(s,u),k={x:a.ctrlpts[0]+X.x*2*K,y:a.ctrlpts[1]+X.y*2*K},q=v.intersectLine(l.x,l.y,f,h,k.x,k.y,0,y,m);R?(a.ctrlpts[0]=a.ctrlpts[0]+X.x*(L-A),a.ctrlpts[1]=a.ctrlpts[1]+X.y*(L-A)):(a.ctrlpts[0]=q[0]+X.x*L,a.ctrlpts[1]=q[1]+X.y*L)}M&&this.findEndpoints(t)}};Ba.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var a=0;a+1<e.ctrlpts.length;a+=2)e.allpts.push(e.ctrlpts[a],e.ctrlpts[a+1]),a+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[a]+e.ctrlpts[a+2])/2,(e.ctrlpts[a+1]+e.ctrlpts[a+3])/2);e.allpts.push(e.endX,e.endY);var n,l;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,l=.5,e.midX=ga(e.allpts[n],e.allpts[n+2],e.allpts[n+4],l),e.midY=ga(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],l))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var s=2;s+3<e.allpts.length;s+=2){var u=e.radii[s/2-1],f=e.isArcRadius[s/2-1];e.roundCorners.push(Ug({x:e.allpts[s-2],y:e.allpts[s-1]},{x:e.allpts[s],y:e.allpts[s+1],radius:u},{x:e.allpts[s+2],y:e.allpts[s+3]},u,f))}}if(e.segpts.length%4===0){var h=e.segpts.length/2,c=h-2;e.midX=(e.segpts[c]+e.segpts[h])/2,e.midY=(e.segpts[c+1]+e.segpts[h+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var g={x:e.segpts[v],y:e.segpts[v+1]},y=e.roundCorners[v/2];if(y.radius===0){var p={x:e.segpts[v+2],y:e.segpts[v+3]};e.midX=g.x,e.midY=g.y,e.midVector=[g.y-p.y,p.x-g.x]}else{var m=[g.x-y.cx,g.y-y.cy],E=y.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(x){return x*E}),e.midX=y.cx+m[0],e.midY=y.cy+m[1],e.midVector=m}}}}};Ba.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Re(e.startX)&&Re(e.startY)&&Re(e.endX)&&Re(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Et("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Ba.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var a=this,n=a.cy,l=n.hasCompoundNodes(),s=new un,u=function(R,M){return[].concat(Ef(R),[M?1:0]).join("-")},f=[],h=[],c=0;c<t.length;c++){var v=t[c],g=v._private,y=v.pstyle("curve-style").value;if(!(v.removed()||!v.takesUpSpace())){if(y==="haystack"){h.push(v);continue}var p=y==="unbundled-bezier"||Vn(y,"segments")||y==="straight"||y==="straight-triangle"||Vn(y,"taxi"),m=y==="unbundled-bezier"||y==="bezier",E=g.source,x=g.target,T=E.poolIndex(),C=x.poolIndex(),S=[T,C].sort(),O=u(S,p),L=s.get(O);L==null&&(L={eles:[]},f.push({pairId:S,edgeIsUnbundled:p}),s.set(O,L)),L.eles.push(v),p&&(L.hasUnbundled=!0),m&&(L.hasBezier=!0)}}for(var _=function(){var R=f[D],M=R.pairId,B=R.edgeIsUnbundled,z=u(M,B),I=s.get(z),P;if(!I.hasUnbundled){var Y=I.eles[0].parallelEdges().filter(function(Me){return Me.isBundledBezier()});wg(I.eles),Y.forEach(function(Me){return I.eles.push(Me)}),I.eles.sort(function(Me,de){return Me.poolIndex()-de.poolIndex()})}var U=I.eles[0],G=U.source(),V=U.target();if(G.poolIndex()>V.poolIndex()){var X=G;G=V,V=X}var K=I.srcPos=G.position(),k=I.tgtPos=V.position(),q=I.srcW=G.outerWidth(),j=I.srcH=G.outerHeight(),Q=I.tgtW=V.outerWidth(),J=I.tgtH=V.outerHeight(),ne=I.srcShape=a.nodeShapes[e.getNodeShape(G)],ue=I.tgtShape=a.nodeShapes[e.getNodeShape(V)],pe=I.srcCornerRadius=G.pstyle("corner-radius").value==="auto"?"auto":G.pstyle("corner-radius").pfValue,ie=I.tgtCornerRadius=V.pstyle("corner-radius").value==="auto"?"auto":V.pstyle("corner-radius").pfValue,ee=I.tgtRs=V._private.rscratch,W=I.srcRs=G._private.rscratch;I.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ae=0;ae<I.eles.length;ae++){var ce=I.eles[ae],xe=ce[0]._private.rscratch,Se=ce.pstyle("curve-style").value,Oe=Se==="unbundled-bezier"||Vn(Se,"segments")||Vn(Se,"taxi"),Ue=!G.same(ce.source());if(!I.calculatedIntersection&&G!==V&&(I.hasBezier||I.hasUnbundled)){I.calculatedIntersection=!0;var Ae=ne.intersectLine(K.x,K.y,q,j,k.x,k.y,0,pe,W),De=I.srcIntn=Ae,we=ue.intersectLine(k.x,k.y,Q,J,K.x,K.y,0,ie,ee),Ne=I.tgtIntn=we,Le=I.intersectionPts={x1:Ae[0],x2:we[0],y1:Ae[1],y2:we[1]},Ye=I.posPts={x1:K.x,x2:k.x,y1:K.y,y2:k.y},Ce=we[1]-Ae[1],je=we[0]-Ae[0],qe=Math.sqrt(je*je+Ce*Ce);Re(qe)&&qe>=zO||(qe=Math.sqrt(Math.max(je*je,fu)+Math.max(Ce*Ce,fu)));var Qe=I.vector={x:je,y:Ce},$e=I.vectorNorm={x:Qe.x/qe,y:Qe.y/qe},ut={x:-$e.y,y:$e.x};I.nodesOverlap=!Re(qe)||ue.checkPoint(Ae[0],Ae[1],0,Q,J,k.x,k.y,ie,ee)||ne.checkPoint(we[0],we[1],0,q,j,K.x,K.y,pe,W),I.vectorNormInverse=ut,P={nodesOverlap:I.nodesOverlap,dirCounts:I.dirCounts,calculatedIntersection:!0,hasBezier:I.hasBezier,hasUnbundled:I.hasUnbundled,eles:I.eles,srcPos:k,srcRs:ee,tgtPos:K,tgtRs:W,srcW:Q,srcH:J,tgtW:q,tgtH:j,srcIntn:Ne,tgtIntn:De,srcShape:ue,tgtShape:ne,posPts:{x1:Ye.x2,y1:Ye.y2,x2:Ye.x1,y2:Ye.y1},intersectionPts:{x1:Le.x2,y1:Le.y2,x2:Le.x1,y2:Le.y1},vector:{x:-Qe.x,y:-Qe.y},vectorNorm:{x:-$e.x,y:-$e.y},vectorNormInverse:{x:-ut.x,y:-ut.y}}}var Xe=Ue?P:I;xe.nodesOverlap=Xe.nodesOverlap,xe.srcIntn=Xe.srcIntn,xe.tgtIntn=Xe.tgtIntn,xe.isRound=Se.startsWith("round"),l&&(G.isParent()||G.isChild()||V.isParent()||V.isChild())&&(G.parents().anySame(V)||V.parents().anySame(G)||G.same(V)&&G.isParent())?e.findCompoundLoopPoints(ce,Xe,ae,Oe):G===V?e.findLoopPoints(ce,Xe,ae,Oe):Se.endsWith("segments")?e.findSegmentsPoints(ce,Xe):Se.endsWith("taxi")?e.findTaxiPoints(ce,Xe):Se==="straight"||!Oe&&I.eles.length%2===1&&ae===Math.floor(I.eles.length/2)?e.findStraightEdgePoints(ce):e.findBezierPoints(ce,Xe,ae,Oe,Ue),e.findEndpoints(ce),e.tryToCorrectInvalidPoints(ce,Xe),e.checkForInvalidEdgeWarning(ce),e.storeAllpts(ce),e.storeEdgeProjections(ce),e.calculateArrowAngles(ce),e.recalculateEdgeLabelProjections(ce),e.calculateLabelAngles(ce)}},D=0;D<f.length;D++)_();this.findHaystackPoints(h)}};function $x(t){var e=[];if(t!=null){for(var a=0;a<t.length;a+=2){var n=t[a],l=t[a+1];e.push({x:n,y:l})}return e}}Ba.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var a=e.edgeType;if(a==="segments")return $x(e.segpts)};Ba.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var a=e.edgeType;if(a==="bezier"||a==="multibezier"||a==="self"||a==="compound")return $x(e.ctrlpts)};Ba.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Eu={};Eu.manualEndptToPx=function(t,e){var a=this,n=t.position(),l=t.outerWidth(),s=t.outerHeight(),u=t._private.rscratch;if(e.value.length===2){var f=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(f[0]=f[0]*l),e.units[1]==="%"&&(f[1]=f[1]*s),f[0]+=n.x,f[1]+=n.y,f}else{var h=e.pfValue[0];h=-Math.PI/2+h;var c=2*Math.max(l,s),v=[n.x+Math.cos(h)*c,n.y+Math.sin(h)*c];return a.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,l,s,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,u)}};Eu.findEndpoints=function(t){var e,a,n,l,s=this,u,f=t.source()[0],h=t.target()[0],c=f.position(),v=h.position(),g=t.pstyle("target-arrow-shape").value,y=t.pstyle("source-arrow-shape").value,p=t.pstyle("target-distance-from-node").pfValue,m=t.pstyle("source-distance-from-node").pfValue,E=f._private.rscratch,x=h._private.rscratch,T=t.pstyle("curve-style").value,C=t._private.rscratch,S=C.edgeType,O=Vn(T,"taxi"),L=S==="self"||S==="compound",_=S==="bezier"||S==="multibezier"||L,D=S!=="bezier",A=S==="straight"||S==="segments",R=S==="segments",M=_||D||A,B=L||O,z=t.pstyle("source-endpoint"),I=B?"outside-to-node":z.value,P=f.pstyle("corner-radius").value==="auto"?"auto":f.pstyle("corner-radius").pfValue,Y=t.pstyle("target-endpoint"),U=B?"outside-to-node":Y.value,G=h.pstyle("corner-radius").value==="auto"?"auto":h.pstyle("corner-radius").pfValue;C.srcManEndpt=z,C.tgtManEndpt=Y;var V,X,K,k,q=(e=(Y==null||(a=Y.pfValue)===null||a===void 0?void 0:a.length)===2?Y.pfValue:null)!==null&&e!==void 0?e:[0,0],j=(n=(z==null||(l=z.pfValue)===null||l===void 0?void 0:l.length)===2?z.pfValue:null)!==null&&n!==void 0?n:[0,0];if(_){var Q=[C.ctrlpts[0],C.ctrlpts[1]],J=D?[C.ctrlpts[C.ctrlpts.length-2],C.ctrlpts[C.ctrlpts.length-1]]:Q;V=J,X=Q}else if(A){var ne=R?C.segpts.slice(0,2):[v.x+q[0],v.y+q[1]],ue=R?C.segpts.slice(C.segpts.length-2):[c.x+j[0],c.y+j[1]];V=ue,X=ne}if(U==="inside-to-node")u=[v.x,v.y];else if(Y.units)u=this.manualEndptToPx(h,Y);else if(U==="outside-to-line")u=C.tgtIntn;else if(U==="outside-to-node"||U==="outside-to-node-or-label"?K=V:(U==="outside-to-line"||U==="outside-to-line-or-label")&&(K=[c.x,c.y]),u=s.nodeShapes[this.getNodeShape(h)].intersectLine(v.x,v.y,h.outerWidth(),h.outerHeight(),K[0],K[1],0,G,x),U==="outside-to-node-or-label"||U==="outside-to-line-or-label"){var pe=h._private.rscratch,ie=pe.labelWidth,ee=pe.labelHeight,W=pe.labelX,ae=pe.labelY,ce=ie/2,xe=ee/2,Se=h.pstyle("text-valign").value;Se==="top"?ae-=xe:Se==="bottom"&&(ae+=xe);var Oe=h.pstyle("text-halign").value;Oe==="left"?W-=ce:Oe==="right"&&(W+=ce);var Ue=iu(K[0],K[1],[W-ce,ae-xe,W+ce,ae-xe,W+ce,ae+xe,W-ce,ae+xe],v.x,v.y);if(Ue.length>0){var Ae=c,De=Ai(Ae,Nl(u)),we=Ai(Ae,Nl(Ue)),Ne=De;if(we<De&&(u=Ue,Ne=we),Ue.length>2){var Le=Ai(Ae,{x:Ue[2],y:Ue[3]});Le<Ne&&(u=[Ue[2],Ue[3]])}}}var Ye=qo(u,V,s.arrowShapes[g].spacing(t)+p),Ce=qo(u,V,s.arrowShapes[g].gap(t)+p);if(C.endX=Ce[0],C.endY=Ce[1],C.arrowEndX=Ye[0],C.arrowEndY=Ye[1],I==="inside-to-node")u=[c.x,c.y];else if(z.units)u=this.manualEndptToPx(f,z);else if(I==="outside-to-line")u=C.srcIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?k=X:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(k=[v.x,v.y]),u=s.nodeShapes[this.getNodeShape(f)].intersectLine(c.x,c.y,f.outerWidth(),f.outerHeight(),k[0],k[1],0,P,E),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var je=f._private.rscratch,qe=je.labelWidth,Qe=je.labelHeight,$e=je.labelX,ut=je.labelY,Xe=qe/2,Me=Qe/2,de=f.pstyle("text-valign").value;de==="top"?ut-=Me:de==="bottom"&&(ut+=Me);var H=f.pstyle("text-halign").value;H==="left"?$e-=Xe:H==="right"&&($e+=Xe);var re=iu(k[0],k[1],[$e-Xe,ut-Me,$e+Xe,ut-Me,$e+Xe,ut+Me,$e-Xe,ut+Me],c.x,c.y);if(re.length>0){var he=v,fe=Ai(he,Nl(u)),me=Ai(he,Nl(re)),_e=fe;if(me<fe&&(u=[re[0],re[1]],_e=me),re.length>2){var Te=Ai(he,{x:re[2],y:re[3]});Te<_e&&(u=[re[2],re[3]])}}}var Ge=qo(u,X,s.arrowShapes[y].spacing(t)+m),Be=qo(u,X,s.arrowShapes[y].gap(t)+m);C.startX=Be[0],C.startY=Be[1],C.arrowStartX=Ge[0],C.arrowStartY=Ge[1],M&&(!Re(C.startX)||!Re(C.startY)||!Re(C.endX)||!Re(C.endY)?C.badLine=!0:C.badLine=!1)};Eu.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),e.edgeType==="haystack"?{x:e.haystackPts[0],y:e.haystackPts[1]}:{x:e.arrowStartX,y:e.arrowStartY}};Eu.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),e.edgeType==="haystack"?{x:e.haystackPts[2],y:e.haystackPts[3]}:{x:e.arrowEndX,y:e.arrowEndY}};var Gg={};function kO(t,e,a){for(var n=function(c,v,g,y){return ga(c,v,g,y)},l=e._private,s=l.rstyle.bezierPts,u=0;u<t.bezierProjPcts.length;u++){var f=t.bezierProjPcts[u];s.push({x:n(a[0],a[2],a[4],f),y:n(a[1],a[3],a[5],f)})}}Gg.storeEdgeProjections=function(t){var e=t._private,a=e.rscratch,n=a.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var l=0;l+5<a.allpts.length;l+=4)kO(this,t,a.allpts.slice(l,l+6))}else if(n==="segments")for(var s=e.rstyle.linePts=[],l=0;l+1<a.allpts.length;l+=2)s.push({x:a.allpts[l],y:a.allpts[l+1]});else if(n==="haystack"){var u=a.haystackPts;e.rstyle.haystackPts=[{x:u[0],y:u[1]},{x:u[2],y:u[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Gg.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Gr={};Gr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Zn(e)){var a,n,l=t._private,s=t.width(),u=t.height(),f=t.padding(),h=t.position(),c=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,g=l.rscratch,y=l.rstyle;switch(c){case"left":a=h.x-s/2-f;break;case"right":a=h.x+s/2+f;break;default:a=h.x}switch(v){case"top":n=h.y-u/2-f;break;case"bottom":n=h.y+u/2+f;break;default:n=h.y}g.labelX=a,g.labelY=n,y.labelX=a,y.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Jx=function(e,a){var n=Math.atan(a/e);return e===0&&n<0&&(n=n*-1),n},eT=function(e,a){var n=a.x-e.x,l=a.y-e.y;return Jx(n,l)},IO=function(e,a,n,l){var s=nu(0,l-.001,1),u=nu(0,l+.001,1),f=zl(e,a,n,s),h=zl(e,a,n,u);return eT(f,h)};Gr.recalculateEdgeLabelProjections=function(t){var e,a=t._private,n=a.rscratch,l=this,s={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(s.mid||s.source||s.target){e={x:n.midX,y:n.midY};var u=function(g,y,p){ln(a.rscratch,g,y,p),ln(a.rstyle,g,y,p)};u("labelX",null,e.x),u("labelY",null,e.y);var f=Jx(n.midDispX,n.midDispY);u("labelAutoAngle",null,f);var h=function(){if(h.cache)return h.cache;for(var g=[],y=0;y+5<n.allpts.length;y+=4){var p={x:n.allpts[y],y:n.allpts[y+1]},m={x:n.allpts[y+2],y:n.allpts[y+3]},E={x:n.allpts[y+4],y:n.allpts[y+5]};g.push({p0:p,p1:m,p2:E,startDist:0,length:0,segments:[]})}var x=a.rstyle.bezierPts,T=l.bezierProjPcts.length;function C(D,A,R,M,B){var z=_i(A,R),I=D.segments[D.segments.length-1],P={p0:A,p1:R,t0:M,t1:B,startDist:I?I.startDist+I.length:0,length:z};D.segments.push(P),D.length+=z}for(var S=0;S<g.length;S++){var O=g[S],L=g[S-1];L&&(O.startDist=L.startDist+L.length),C(O,O.p0,x[S*T],0,l.bezierProjPcts[0]);for(var _=0;_<T-1;_++)C(O,x[S*T+_],x[S*T+_+1],l.bezierProjPcts[_],l.bezierProjPcts[_+1]);C(O,x[S*T+T-1],O.p2,l.bezierProjPcts[T-1],1)}return h.cache=g},c=function(g){var y,p=g==="source";if(s[g]){var m=t.pstyle(g+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var E=h(),x,T=0,C=0,S=0;S<E.length;S++){for(var O=E[p?S:E.length-1-S],L=0;L<O.segments.length;L++){var _=O.segments[p?L:O.segments.length-1-L],D=S===E.length-1&&L===O.segments.length-1;if(T=C,C+=_.length,C>=m||D){x={cp:O,segment:_};break}}if(x)break}var A=x.cp,R=x.segment,M=(m-T)/R.length,B=R.t1-R.t0,z=p?R.t0+B*M:R.t1-B*M;z=nu(0,z,1),e=zl(A.p0,A.p1,A.p2,z),y=IO(A.p0,A.p1,A.p2,z);break}case"straight":case"segments":case"haystack":{for(var I=0,P,Y,U,G,V=n.allpts.length,X=0;X+3<V&&(p?(U={x:n.allpts[X],y:n.allpts[X+1]},G={x:n.allpts[X+2],y:n.allpts[X+3]}):(U={x:n.allpts[V-2-X],y:n.allpts[V-1-X]},G={x:n.allpts[V-4-X],y:n.allpts[V-3-X]}),P=_i(U,G),Y=I,I+=P,!(I>=m));X+=2);var K=m-Y,k=K/P;k=nu(0,k,1),e=iA(U,G,k),y=eT(U,G);break}}u("labelX",g,e.x),u("labelY",g,e.y),u("labelAutoAngle",g,y)}};c("source"),c("target"),this.applyLabelDimensions(t)}};Gr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Gr.applyPrefixedLabelDimensions=function(t,e){var a=t._private,n=this.getLabelText(t,e),l=Bi(n,t._private.labelDimsKey);if(ja(a.rscratch,"prefixedLabelDimsKey",e)!==l){ln(a.rscratch,"prefixedLabelDimsKey",e,l);var s=this.calculateLabelDimensions(t,n),u=t.pstyle("line-height").pfValue,f=t.pstyle("text-wrap").strValue,h=ja(a.rscratch,"labelWrapCachedLines",e)||[],c=f!=="wrap"?1:Math.max(h.length,1),v=s.height/c,g=v*u,y=s.width,p=s.height+(c-1)*(u-1)*v;ln(a.rstyle,"labelWidth",e,y),ln(a.rscratch,"labelWidth",e,y),ln(a.rstyle,"labelHeight",e,p),ln(a.rscratch,"labelHeight",e,p),ln(a.rscratch,"labelLineHeight",e,g)}};Gr.getLabelText=function(t,e){var a=t._private,n=e?e+"-":"",l=t.pstyle(n+"label").strValue,s=t.pstyle("text-transform").value,u=function(j,Q){return Q?(ln(a.rscratch,j,e,Q),Q):ja(a.rscratch,j,e)};if(!l)return"";s=="none"||(s=="uppercase"?l=l.toUpperCase():s=="lowercase"&&(l=l.toLowerCase()));var f=t.pstyle("text-wrap").value;if(f==="wrap"){var h=u("labelKey");if(h!=null&&u("labelWrapKey")===h)return u("labelWrapCachedText");for(var c="",v=l.split(`
`),g=t.pstyle("text-max-width").pfValue,y=t.pstyle("text-overflow-wrap").value,p=y==="anywhere",m=[],E=/[\s\u200b]+|$/g,x=0;x<v.length;x++){var T=v[x],C=this.calculateLabelDimensions(t,T),S=C.width;if(p){var O=T.split("").join(c);T=O}if(S>g){var L=T.matchAll(E),_="",D=0,A=Za(L),R;try{for(A.s();!(R=A.n()).done;){var M=R.value,B=M[0],z=T.substring(D,M.index);D=M.index+B.length;var I=_.length===0?z:_+z+B,P=this.calculateLabelDimensions(t,I),Y=P.width;Y<=g?_+=z+B:(_&&m.push(_),_=z+B)}}catch(q){A.e(q)}finally{A.f()}_.match(/^[\s\u200b]+$/)||m.push(_)}else m.push(T)}u("labelWrapCachedLines",m),l=u("labelWrapCachedText",m.join(`
`)),u("labelWrapKey",h)}else if(f==="ellipsis"){var U=t.pstyle("text-max-width").pfValue,G="",V="",X=!1;if(this.calculateLabelDimensions(t,l).width<U)return l;for(var K=0;K<l.length;K++){var k=this.calculateLabelDimensions(t,G+l[K]+V).width;if(k>U)break;G+=l[K],K===l.length-1&&(X=!0)}return X||(G+=V),G}return l};Gr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,a=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(a){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Gr.calculateLabelDimensions=function(t,e){var a=this,n=a.cy.window(),l=n.document,s=0,u=t.pstyle("font-style").strValue,f=t.pstyle("font-size").pfValue,h=t.pstyle("font-family").strValue,c=t.pstyle("font-weight").strValue,v=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!v){v=this.labelCalcCanvas=l.createElement("canvas"),g=this.labelCalcCanvasContext=v.getContext("2d");var y=v.style;y.position="absolute",y.left="-9999px",y.top="-9999px",y.zIndex="-1",y.visibility="hidden",y.pointerEvents="none"}g.font="".concat(u," ").concat(c," ").concat(f,"px ").concat(h);for(var p=0,m=0,E=e.split(`
`),x=0;x<E.length;x++){var T=E[x],C=g.measureText(T),S=Math.ceil(C.width),O=f;p=Math.max(S,p),m+=O}return p+=s,m+=s,{width:p,height:m}};Gr.calculateLabelAngle=function(t,e){var a=t._private,n=a.rscratch,l=t.isEdge(),s=e?e+"-":"",u=t.pstyle(s+"text-rotation"),f=u.strValue;return f==="none"?0:l&&f==="autorotate"?n.labelAutoAngle:f==="autorotate"?0:u.pfValue};Gr.calculateLabelAngles=function(t){var e=this,a=t.isEdge(),n=t._private,l=n.rscratch;l.labelAngle=e.calculateLabelAngle(t),a&&(l.sourceLabelAngle=e.calculateLabelAngle(t,"source"),l.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var tT={},$b=28,Jb=!1;tT.getNodeShape=function(t){var e=this,a=t.pstyle("shape").value;if(a==="cutrectangle"&&(t.width()<$b||t.height()<$b))return Jb||(Et("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Jb=!0),"rectangle";if(t.isParent())return a==="rectangle"||a==="roundrectangle"||a==="round-rectangle"||a==="cutrectangle"||a==="cut-rectangle"||a==="barrel"?a:"rectangle";if(a==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return a};var Wf={};Wf.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),a=this,n=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(u),f)for(var h=0;h<u.length;h++){var c=u[h],v=c._private,g=v.rstyle;g.clean=!1,g.cleanConnected=!1}};a.binder(t).on("bounds.* dirty.*",function(u){var f=u.target;n(f)}).on("style.* background.*",function(u){var f=u.target;n(f,!1)});var l=function(u){if(u){var f=a.onUpdateEleCalcsFns;e.cleanStyle();for(var h=0;h<e.length;h++){var c=e[h],v=c._private.rstyle;c.isNode()&&!v.cleanConnected&&(n(c.connectedEdges()),v.cleanConnected=!0)}if(f)for(var g=0;g<f.length;g++){var y=f[g];y(u,e)}a.recalculateRenderedStyle(e),e=t.collection()}};a.flushRenderedStyleQueue=function(){l(!0)},a.beforeRender(l,a.beforeRenderPriorities.eleCalcs)};Wf.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Wf.recalculateRenderedStyle=function(t,e){var a=function(O){return O._private.rstyle.cleanConnected};if(t.length!==0){var n=[],l=[];if(!this.destroyed){e===void 0&&(e=!0);for(var s=0;s<t.length;s++){var u=t[s],f=u._private,h=f.rstyle;u.isEdge()&&(!a(u.source())||!a(u.target()))&&(h.clean=!1),u.isEdge()&&u.isBundledBezier()&&u.parallelEdges().some(function(S){return!S._private.rstyle.clean&&S.isBundledBezier()})&&(h.clean=!1),!(e&&h.clean||u.removed())&&u.pstyle("display").value!=="none"&&(f.group==="nodes"?l.push(u):n.push(u),h.clean=!0)}for(var c=0;c<l.length;c++){var v=l[c],g=v._private,y=g.rstyle,p=v.position();this.recalculateNodeLabelProjection(v),y.nodeX=p.x,y.nodeY=p.y,y.nodeW=v.pstyle("width").pfValue,y.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var E=n[m],x=E._private,T=x.rstyle,C=x.rscratch;T.srcX=C.arrowStartX,T.srcY=C.arrowStartY,T.tgtX=C.arrowEndX,T.tgtY=C.arrowEndY,T.midX=C.midX,T.midY=C.midY,T.labelAngle=C.labelAngle,T.sourceLabelAngle=C.sourceLabelAngle,T.targetLabelAngle=C.targetLabelAngle}}}};var $f={};$f.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],a=0;a<t.length;a++){var n=t[a],l=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):l.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var a=0;a<e.length;a++){var n=e[a];t.drag.push(n)}}};$f.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};$f.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(kx),e.interactive=e.filter(function(a){return a.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var aT={};[Gi,Mf,Ba,Eu,Gg,Gr,tT,Wf,$f].forEach(function(t){Ke(aT,t)});var rT={};rT.getCachedImage=function(t,e,a){var n=this,l=n.imageCache=n.imageCache||{},s=l[t];if(s)return s.image.complete||s.image.addEventListener("load",a),s.image;s=l[t]=l[t]||{};var u=s.image=new Image;u.addEventListener("load",a),u.addEventListener("error",function(){u.error=!0});var f="data:",h=t.substring(0,f.length).toLowerCase()===f;return h||(e=e==="null"?null:e,u.crossOrigin=e),u.src=t,u};var Xl={};Xl.registerBinding=function(t,e,a,n){var l=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var s=[],u=0;u<t.length;u++){var f=t[u];if(f!==void 0){var h=this.binder(f);s.push(h.on.apply(h,l))}}return s}var h=this.binder(t);return h.on.apply(h,l)};Xl.binder=function(t){var e=this,a=e.cy.window(),n=t===a||t===a.document||t===a.document.body||Z2(t);if(e.supportsPassiveEvents==null){var l=!1;try{var s=Object.defineProperty({},"passive",{get:function(){return l=!0,!0}});a.addEventListener("test",null,s)}catch{}e.supportsPassiveEvents=l}var u=function(h,c,v){var g=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(g[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:g}),(t.addEventListener||t.on).apply(t,g),this};return{on:u,addEventListener:u,addListener:u,bind:u}};Xl.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Xl.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Xl.load=function(){var t=this,e=t.cy.window(),a=function(H){return H.selected()},n=function(H){var re=H.getRootNode();if(re&&re.nodeType===11&&re.host!==void 0)return re},l=function(H,re,he,fe){H==null&&(H=t.cy);for(var me=0;me<re.length;me++){var _e=re[me];H.emit({originalEvent:he,type:_e,position:fe})}},s=function(H){return H.shiftKey||H.metaKey||H.ctrlKey},u=function(H,re){var he=!0;if(t.cy.hasCompoundNodes()&&H&&H.pannable())for(var fe=0;re&&fe<re.length;fe++){var H=re[fe];if(H.isNode()&&H.isParent()&&!H.pannable()){he=!1;break}}else he=!0;return he},f=function(H){H[0]._private.grabbed=!0},h=function(H){H[0]._private.grabbed=!1},c=function(H){H[0]._private.rscratch.inDragLayer=!0},v=function(H){H[0]._private.rscratch.inDragLayer=!1},g=function(H){H[0]._private.rscratch.isGrabTarget=!0},y=function(H){H[0]._private.rscratch.isGrabTarget=!1},p=function(H,re){var he=re.addToList,fe=he.has(H);!fe&&H.grabbable()&&!H.locked()&&(he.merge(H),f(H))},m=function(H,re){if(H.cy().hasCompoundNodes()&&!(re.inDragLayer==null&&re.addToList==null)){var he=H.descendants();re.inDragLayer&&(he.forEach(c),he.connectedEdges().forEach(c)),re.addToList&&p(he,re)}},E=function(H,re){re=re||{};var he=H.cy().hasCompoundNodes();re.inDragLayer&&(H.forEach(c),H.neighborhood().stdFilter(function(fe){return!he||fe.isEdge()}).forEach(c)),re.addToList&&H.forEach(function(fe){p(fe,re)}),m(H,re),C(H,{inDragLayer:re.inDragLayer}),t.updateCachedGrabbedEles()},x=E,T=function(H){H&&(t.getCachedZSortedEles().forEach(function(re){h(re),v(re),y(re)}),t.updateCachedGrabbedEles())},C=function(H,re){if(!(re.inDragLayer==null&&re.addToList==null)&&H.cy().hasCompoundNodes()){var he=H.ancestors().orphans();if(!he.same(H)){var fe=he.descendants().spawnSelf().merge(he).unmerge(H).unmerge(H.descendants()),me=fe.connectedEdges();re.inDragLayer&&(me.forEach(c),fe.forEach(c)),re.addToList&&fe.forEach(function(_e){p(_e,re)})}}},S=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},O=typeof MutationObserver<"u",L=typeof ResizeObserver<"u";O?(t.removeObserver=new MutationObserver(function(de){for(var H=0;H<de.length;H++){var re=de[H],he=re.removedNodes;if(he)for(var fe=0;fe<he.length;fe++){var me=he[fe];if(me===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(de){t.destroy()});var _=pu(function(){t.cy.resize()},100);O&&(t.styleObserver=new MutationObserver(_),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",_),L&&(t.resizeObserver=new ResizeObserver(_),t.resizeObserver.observe(t.container));var D=function(H,re){for(;H!=null;)re(H),H=H.parentNode},A=function(){t.invalidateContainerClientCoordsCache()};D(t.container,function(de){t.registerBinding(de,"transitionend",A),t.registerBinding(de,"animationend",A),t.registerBinding(de,"scroll",A)}),t.registerBinding(t.container,"contextmenu",function(de){de.preventDefault()});var R=function(){return t.selection[4]!==0},M=function(H){for(var re=t.findContainerClientCoords(),he=re[0],fe=re[1],me=re[2],_e=re[3],Te=H.touches?H.touches:[H],Ge=!1,Be=0;Be<Te.length;Be++){var Fe=Te[Be];if(he<=Fe.clientX&&Fe.clientX<=he+me&&fe<=Fe.clientY&&Fe.clientY<=fe+_e){Ge=!0;break}}if(!Ge)return!1;for(var We=t.container,Je=H.target,ke=Je.parentNode,nt=!1;ke;){if(ke===We){nt=!0;break}ke=ke.parentNode}return!!nt};t.registerBinding(t.container,"mousedown",function(H){if(M(H)&&!(t.hoverData.which===1&&H.which!==1)){H.preventDefault(),S(),t.hoverData.capture=!0,t.hoverData.which=H.which;var re=t.cy,he=[H.clientX,H.clientY],fe=t.projectIntoViewport(he[0],he[1]),me=t.selection,_e=t.findNearestElements(fe[0],fe[1],!0,!1),Te=_e[0],Ge=t.dragData.possibleDragElements;t.hoverData.mdownPos=fe,t.hoverData.mdownGPos=he;var Be=function(at){return{originalEvent:H,type:at,position:{x:fe[0],y:fe[1]}}},Fe=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var at=t.hoverData.down;at?at.emit(Be("taphold")):re.emit(Be("taphold"))}},t.tapholdDuration)};if(H.which==3){t.hoverData.cxtStarted=!0;var We={originalEvent:H,type:"cxttapstart",position:{x:fe[0],y:fe[1]}};Te?(Te.activate(),Te.emit(We),t.hoverData.down=Te):re.emit(We),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(H.which==1){Te&&Te.activate();{if(Te!=null&&t.nodeIsGrabbable(Te)){var Je=function(at){at.emit(Be("grab"))};if(g(Te),!Te.selected())Ge=t.dragData.possibleDragElements=re.collection(),x(Te,{addToList:Ge}),Te.emit(Be("grabon")).emit(Be("grab"));else{Ge=t.dragData.possibleDragElements=re.collection();var ke=re.$(function(nt){return nt.isNode()&&nt.selected()&&t.nodeIsGrabbable(nt)});E(ke,{addToList:Ge}),Te.emit(Be("grabon")),ke.forEach(Je)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Te,t.hoverData.downs=_e,t.hoverData.downTime=new Date().getTime()}l(Te,["mousedown","tapstart","vmousedown"],H,{x:fe[0],y:fe[1]}),Te==null?(me[4]=1,t.data.bgActivePosistion={x:fe[0],y:fe[1]},t.redrawHint("select",!0),t.redraw()):Te.pannable()&&(me[4]=1),Fe()}me[0]=me[2]=fe[0],me[1]=me[3]=fe[1]}},!1);var B=n(t.container);t.registerBinding([e,B],"mousemove",function(H){var re=t.hoverData.capture;if(!(!re&&!M(H))){var he=!1,fe=t.cy,me=fe.zoom(),_e=[H.clientX,H.clientY],Te=t.projectIntoViewport(_e[0],_e[1]),Ge=t.hoverData.mdownPos,Be=t.hoverData.mdownGPos,Fe=t.selection,We=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(We=t.findNearestElement(Te[0],Te[1],!0,!1));var Je=t.hoverData.last,ke=t.hoverData.down,nt=[Te[0]-Fe[2],Te[1]-Fe[3]],at=t.dragData.possibleDragElements,Ut;if(Be){var wt=_e[0]-Be[0],ma=wt*wt,Gt=_e[1]-Be[1],Xt=Gt*Gt,qt=ma+Xt;t.hoverData.isOverThresholdDrag=Ut=qt>=t.desktopTapThreshold2}var jt=s(H);Ut&&(t.hoverData.tapholdCancelled=!0);var lr=function(){var ha=t.hoverData.dragDelta=t.hoverData.dragDelta||[];ha.length===0?(ha.push(nt[0]),ha.push(nt[1])):(ha[0]+=nt[0],ha[1]+=nt[1])};he=!0,l(We,["mousemove","vmousemove","tapdrag"],H,{x:Te[0],y:Te[1]});var Pt=function(ha){return{originalEvent:H,type:ha,position:{x:Te[0],y:Te[1]}}},sr=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||fe.emit(Pt("boxstart")),Fe[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Ut){var oa=Pt("cxtdrag");ke?ke.emit(oa):fe.emit(oa),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||We!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(Pt("cxtdragout")),t.hoverData.cxtOver=We,We&&We.emit(Pt("cxtdragover")))}}else if(t.hoverData.dragging){if(he=!0,fe.panningEnabled()&&fe.userPanningEnabled()){var zt;if(t.hoverData.justStartedPan){var ra=t.hoverData.mdownPos;zt={x:(Te[0]-ra[0])*me,y:(Te[1]-ra[1])*me},t.hoverData.justStartedPan=!1}else zt={x:nt[0]*me,y:nt[1]*me};fe.panBy(zt),fe.emit(Pt("dragpan")),t.hoverData.dragged=!0}Te=t.projectIntoViewport(H.clientX,H.clientY)}else if(Fe[4]==1&&(ke==null||ke.pannable())){if(Ut){if(!t.hoverData.dragging&&fe.boxSelectionEnabled()&&(jt||!fe.panningEnabled()||!fe.userPanningEnabled()))sr();else if(!t.hoverData.selecting&&fe.panningEnabled()&&fe.userPanningEnabled()){var Ga=u(ke,t.hoverData.downs);Ga&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Fe[4]=0,t.data.bgActivePosistion=Nl(Ge),t.redrawHint("select",!0),t.redraw())}ke&&ke.pannable()&&ke.active()&&ke.unactivate()}}else{if(ke&&ke.pannable()&&ke.active()&&ke.unactivate(),(!ke||!ke.grabbed())&&We!=Je&&(Je&&l(Je,["mouseout","tapdragout"],H,{x:Te[0],y:Te[1]}),We&&l(We,["mouseover","tapdragover"],H,{x:Te[0],y:Te[1]}),t.hoverData.last=We),ke)if(Ut){if(fe.boxSelectionEnabled()&&jt)ke&&ke.grabbed()&&(T(at),ke.emit(Pt("freeon")),at.emit(Pt("free")),t.dragData.didDrag&&(ke.emit(Pt("dragfreeon")),at.emit(Pt("dragfree")))),sr();else if(ke&&ke.grabbed()&&t.nodeIsDraggable(ke)){var fa=!t.dragData.didDrag;fa&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||E(at,{inDragLayer:!0});var ca={x:0,y:0};if(Re(nt[0])&&Re(nt[1])&&(ca.x+=nt[0],ca.y+=nt[1],fa)){var Da=t.hoverData.dragDelta;Da&&Re(Da[0])&&Re(Da[1])&&(ca.x+=Da[0],ca.y+=Da[1])}t.hoverData.draggingEles=!0,at.silentShift(ca).emit(Pt("position")).emit(Pt("drag")),t.redrawHint("drag",!0),t.redraw()}}else lr();he=!0}if(Fe[2]=Te[0],Fe[3]=Te[1],he)return H.stopPropagation&&H.stopPropagation(),H.preventDefault&&H.preventDefault(),!1}},!1);var z,I,P;t.registerBinding(e,"mouseup",function(H){if(!(t.hoverData.which===1&&H.which!==1&&t.hoverData.capture)){var re=t.hoverData.capture;if(re){t.hoverData.capture=!1;var he=t.cy,fe=t.projectIntoViewport(H.clientX,H.clientY),me=t.selection,_e=t.findNearestElement(fe[0],fe[1],!0,!1),Te=t.dragData.possibleDragElements,Ge=t.hoverData.down,Be=s(H);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ge&&Ge.unactivate();var Fe=function(wt){return{originalEvent:H,type:wt,position:{x:fe[0],y:fe[1]}}};if(t.hoverData.which===3){var We=Fe("cxttapend");if(Ge?Ge.emit(We):he.emit(We),!t.hoverData.cxtDragged){var Je=Fe("cxttap");Ge?Ge.emit(Je):he.emit(Je)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(l(_e,["mouseup","tapend","vmouseup"],H,{x:fe[0],y:fe[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(l(Ge,["click","tap","vclick"],H,{x:fe[0],y:fe[1]}),I=!1,H.timeStamp-P<=he.multiClickDebounceTime()?(z&&clearTimeout(z),I=!0,P=null,l(Ge,["dblclick","dbltap","vdblclick"],H,{x:fe[0],y:fe[1]})):(z=setTimeout(function(){I||l(Ge,["oneclick","onetap","voneclick"],H,{x:fe[0],y:fe[1]})},he.multiClickDebounceTime()),P=H.timeStamp)),Ge==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!s(H)&&(he.$(a).unselect(["tapunselect"]),Te.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Te=he.collection()),_e==Ge&&!t.dragData.didDrag&&!t.hoverData.selecting&&_e!=null&&_e._private.selectable&&(t.hoverData.dragging||(he.selectionType()==="additive"||Be?_e.selected()?_e.unselect(["tapunselect"]):_e.select(["tapselect"]):Be||(he.$(a).unmerge(_e).unselect(["tapunselect"]),_e.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var ke=he.collection(t.getAllInBox(me[0],me[1],me[2],me[3]));t.redrawHint("select",!0),ke.length>0&&t.redrawHint("eles",!0),he.emit(Fe("boxend"));var nt=function(wt){return wt.selectable()&&!wt.selected()};he.selectionType()==="additive"||Be||he.$(a).unmerge(ke).unselect(),ke.emit(Fe("box")).stdFilter(nt).select().emit(Fe("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!me[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var at=Ge&&Ge.grabbed();T(Te),at&&(Ge.emit(Fe("freeon")),Te.emit(Fe("free")),t.dragData.didDrag&&(Ge.emit(Fe("dragfreeon")),Te.emit(Fe("dragfree"))))}}me[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var Y=[],U=4,G,V=1e5,X=function(H,re){for(var he=0;he<H.length;he++)if(H[he]%re!==0)return!1;return!0},K=function(H){for(var re=Math.abs(H[0]),he=1;he<H.length;he++)if(Math.abs(H[he])!==re)return!1;return!0},k=function(H){var re=!1,he=H.deltaY;if(he==null&&(H.wheelDeltaY!=null?he=H.wheelDeltaY/4:H.wheelDelta!=null&&(he=H.wheelDelta/4)),he!==0){if(G==null)if(Y.length>=U){var fe=Y;if(G=X(fe,5),!G){var me=Math.abs(fe[0]);G=K(fe)&&me>5}if(G)for(var _e=0;_e<fe.length;_e++)V=Math.min(Math.abs(fe[_e]),V)}else Y.push(he),re=!0;else G&&(V=Math.min(Math.abs(he),V));if(!t.scrollingPage){var Te=t.cy,Ge=Te.zoom(),Be=Te.pan(),Fe=t.projectIntoViewport(H.clientX,H.clientY),We=[Fe[0]*Ge+Be.x,Fe[1]*Ge+Be.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||R()){H.preventDefault();return}if(Te.panningEnabled()&&Te.userPanningEnabled()&&Te.zoomingEnabled()&&Te.userZoomingEnabled()){H.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Je;re&&Math.abs(he)>5&&(he=Cg(he)*5),Je=he/-250,G&&(Je/=V,Je*=3),Je=Je*t.wheelSensitivity;var ke=H.deltaMode===1;ke&&(Je*=33);var nt=Te.zoom()*Math.pow(10,Je);H.type==="gesturechange"&&(nt=t.gestureStartZoom*H.scale),Te.zoom({level:nt,renderedPosition:{x:We[0],y:We[1]}}),Te.emit({type:H.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:H,position:{x:Fe[0],y:Fe[1]}})}}}};t.registerBinding(t.container,"wheel",k,!0),t.registerBinding(e,"scroll",function(H){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(H){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||H.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(de){t.hasTouchStarted||k(de)},!0),t.registerBinding(t.container,"mouseout",function(H){var re=t.projectIntoViewport(H.clientX,H.clientY);t.cy.emit({originalEvent:H,type:"mouseout",position:{x:re[0],y:re[1]}})},!1),t.registerBinding(t.container,"mouseover",function(H){var re=t.projectIntoViewport(H.clientX,H.clientY);t.cy.emit({originalEvent:H,type:"mouseover",position:{x:re[0],y:re[1]}})},!1);var q,j,Q,J,ne,ue,pe,ie,ee,W,ae,ce,xe,Se=function(H,re,he,fe){return Math.sqrt((he-H)*(he-H)+(fe-re)*(fe-re))},Oe=function(H,re,he,fe){return(he-H)*(he-H)+(fe-re)*(fe-re)},Ue;t.registerBinding(t.container,"touchstart",Ue=function(H){if(t.hasTouchStarted=!0,!!M(H)){S(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var re=t.cy,he=t.touchData.now,fe=t.touchData.earlier;if(H.touches[0]){var me=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);he[0]=me[0],he[1]=me[1]}if(H.touches[1]){var me=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);he[2]=me[0],he[3]=me[1]}if(H.touches[2]){var me=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);he[4]=me[0],he[5]=me[1]}var _e=function(jt){return{originalEvent:H,type:jt,position:{x:he[0],y:he[1]}}};if(H.touches[1]){t.touchData.singleTouchMoved=!0,T(t.dragData.touchDragEles);var Te=t.findContainerClientCoords();ee=Te[0],W=Te[1],ae=Te[2],ce=Te[3],q=H.touches[0].clientX-ee,j=H.touches[0].clientY-W,Q=H.touches[1].clientX-ee,J=H.touches[1].clientY-W,xe=0<=q&&q<=ae&&0<=Q&&Q<=ae&&0<=j&&j<=ce&&0<=J&&J<=ce;var Ge=re.pan(),Be=re.zoom();ne=Se(q,j,Q,J),ue=Oe(q,j,Q,J),pe=[(q+Q)/2,(j+J)/2],ie=[(pe[0]-Ge.x)/Be,(pe[1]-Ge.y)/Be];var Fe=200,We=Fe*Fe;if(ue<We&&!H.touches[2]){var Je=t.findNearestElement(he[0],he[1],!0,!0),ke=t.findNearestElement(he[2],he[3],!0,!0);Je&&Je.isNode()?(Je.activate().emit(_e("cxttapstart")),t.touchData.start=Je):ke&&ke.isNode()?(ke.activate().emit(_e("cxttapstart")),t.touchData.start=ke):re.emit(_e("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(H.touches[2])re.boxSelectionEnabled()&&H.preventDefault();else if(!H.touches[1]){if(H.touches[0]){var nt=t.findNearestElements(he[0],he[1],!0,!0),at=nt[0];if(at!=null&&(at.activate(),t.touchData.start=at,t.touchData.starts=nt,t.nodeIsGrabbable(at))){var Ut=t.dragData.touchDragEles=re.collection(),wt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),at.selected()?(wt=re.$(function(qt){return qt.selected()&&t.nodeIsGrabbable(qt)}),E(wt,{addToList:Ut})):x(at,{addToList:Ut}),g(at),at.emit(_e("grabon")),wt?wt.forEach(function(qt){qt.emit(_e("grab"))}):at.emit(_e("grab"))}l(at,["touchstart","tapstart","vmousedown"],H,{x:he[0],y:he[1]}),at==null&&(t.data.bgActivePosistion={x:me[0],y:me[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&l(t.touchData.start,["taphold"],H,{x:he[0],y:he[1]})},t.tapholdDuration)}}if(H.touches.length>=1){for(var ma=t.touchData.startPosition=[null,null,null,null,null,null],Gt=0;Gt<he.length;Gt++)ma[Gt]=fe[Gt]=he[Gt];var Xt=H.touches[0];t.touchData.startGPosition=[Xt.clientX,Xt.clientY]}}},!1);var Ae;t.registerBinding(e,"touchmove",Ae=function(H){var re=t.touchData.capture;if(!(!re&&!M(H))){var he=t.selection,fe=t.cy,me=t.touchData.now,_e=t.touchData.earlier,Te=fe.zoom();if(H.touches[0]){var Ge=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);me[0]=Ge[0],me[1]=Ge[1]}if(H.touches[1]){var Ge=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);me[2]=Ge[0],me[3]=Ge[1]}if(H.touches[2]){var Ge=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);me[4]=Ge[0],me[5]=Ge[1]}var Be=function(Au){return{originalEvent:H,type:Au,position:{x:me[0],y:me[1]}}},Fe=t.touchData.startGPosition,We;if(re&&H.touches[0]&&Fe){for(var Je=[],ke=0;ke<me.length;ke++)Je[ke]=me[ke]-_e[ke];var nt=H.touches[0].clientX-Fe[0],at=nt*nt,Ut=H.touches[0].clientY-Fe[1],wt=Ut*Ut,ma=at+wt;We=ma>=t.touchTapThreshold2}if(re&&t.touchData.cxt){H.preventDefault();var Gt=H.touches[0].clientX-ee,Xt=H.touches[0].clientY-W,qt=H.touches[1].clientX-ee,jt=H.touches[1].clientY-W,lr=Oe(Gt,Xt,qt,jt),Pt=lr/ue,sr=150,oa=sr*sr,zt=1.5,ra=zt*zt;if(Pt>=ra||lr>=oa){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ga=Be("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(Ga),t.touchData.start=null):fe.emit(Ga)}}if(re&&t.touchData.cxt){var Ga=Be("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Ga):fe.emit(Ga),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var fa=t.findNearestElement(me[0],me[1],!0,!0);(!t.touchData.cxtOver||fa!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(Be("cxtdragout")),t.touchData.cxtOver=fa,fa&&fa.emit(Be("cxtdragover")))}else if(re&&H.touches[2]&&fe.boxSelectionEnabled())H.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||fe.emit(Be("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,he[4]=1,!he||he.length===0||he[0]===void 0?(he[0]=(me[0]+me[2]+me[4])/3,he[1]=(me[1]+me[3]+me[5])/3,he[2]=(me[0]+me[2]+me[4])/3+1,he[3]=(me[1]+me[3]+me[5])/3+1):(he[2]=(me[0]+me[2]+me[4])/3,he[3]=(me[1]+me[3]+me[5])/3),t.redrawHint("select",!0),t.redraw();else if(re&&H.touches[1]&&!t.touchData.didSelect&&fe.zoomingEnabled()&&fe.panningEnabled()&&fe.userZoomingEnabled()&&fe.userPanningEnabled()){H.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var ca=t.dragData.touchDragEles;if(ca){t.redrawHint("drag",!0);for(var Da=0;Da<ca.length;Da++){var vn=ca[Da]._private;vn.grabbed=!1,vn.rscratch.inDragLayer=!1}}var ha=t.touchData.start,Gt=H.touches[0].clientX-ee,Xt=H.touches[0].clientY-W,qt=H.touches[1].clientX-ee,jt=H.touches[1].clientY-W,Fi=Se(Gt,Xt,qt,jt),dn=Fi/ne;if(xe){var gn=Gt-q,si=Xt-j,pn=qt-Q,Qt=jt-J,wu=(gn+pn)/2,Su=(si+Qt)/2,Qa=fe.zoom(),Rr=Qa*dn,qi=fe.pan(),Kl=ie[0]*Qa+qi.x,Zl=ie[1]*Qa+qi.y,Jf={x:-Rr/Qa*(Kl-qi.x-wu)+Kl,y:-Rr/Qa*(Zl-qi.y-Su)+Zl};if(ha&&ha.active()){var ca=t.dragData.touchDragEles;T(ca),t.redrawHint("drag",!0),t.redrawHint("eles",!0),ha.unactivate().emit(Be("freeon")),ca.emit(Be("free")),t.dragData.didDrag&&(ha.emit(Be("dragfreeon")),ca.emit(Be("dragfree")))}fe.viewport({zoom:Rr,pan:Jf,cancelOnFailedZoom:!0}),fe.emit(Be("pinchzoom")),ne=Fi,q=Gt,j=Xt,Q=qt,J=jt,t.pinching=!0}if(H.touches[0]){var Ge=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);me[0]=Ge[0],me[1]=Ge[1]}if(H.touches[1]){var Ge=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);me[2]=Ge[0],me[3]=Ge[1]}if(H.touches[2]){var Ge=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);me[4]=Ge[0],me[5]=Ge[1]}}else if(H.touches[0]&&!t.touchData.didSelect){var Ra=t.touchData.start,yn=t.touchData.last,fa;if(!t.hoverData.draggingEles&&!t.swipePanning&&(fa=t.findNearestElement(me[0],me[1],!0,!0)),re&&Ra!=null&&H.preventDefault(),re&&Ra!=null&&t.nodeIsDraggable(Ra))if(We){var ca=t.dragData.touchDragEles,ur=!t.dragData.didDrag;ur&&E(ca,{inDragLayer:!0}),t.dragData.didDrag=!0;var va={x:0,y:0};if(Re(Je[0])&&Re(Je[1])&&(va.x+=Je[0],va.y+=Je[1],ur)){t.redrawHint("eles",!0);var Pa=t.touchData.dragDelta;Pa&&Re(Pa[0])&&Re(Pa[1])&&(va.x+=Pa[0],va.y+=Pa[1])}t.hoverData.draggingEles=!0,ca.silentShift(va).emit(Be("position")).emit(Be("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==_e[0]&&t.touchData.startPosition[1]==_e[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Pa=t.touchData.dragDelta=t.touchData.dragDelta||[];Pa.length===0?(Pa.push(Je[0]),Pa.push(Je[1])):(Pa[0]+=Je[0],Pa[1]+=Je[1])}if(l(Ra||fa,["touchmove","tapdrag","vmousemove"],H,{x:me[0],y:me[1]}),(!Ra||!Ra.grabbed())&&fa!=yn&&(yn&&yn.emit(Be("tapdragout")),fa&&fa.emit(Be("tapdragover"))),t.touchData.last=fa,re)for(var Da=0;Da<me.length;Da++)me[Da]&&t.touchData.startPosition[Da]&&We&&(t.touchData.singleTouchMoved=!0);if(re&&(Ra==null||Ra.pannable())&&fe.panningEnabled()&&fe.userPanningEnabled()){var ec=u(Ra,t.touchData.starts);ec&&(H.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Nl(t.touchData.startPosition)),t.swipePanning?(fe.panBy({x:Je[0]*Te,y:Je[1]*Te}),fe.emit(Be("dragpan"))):We&&(t.swipePanning=!0,fe.panBy({x:nt*Te,y:Ut*Te}),fe.emit(Be("dragpan")),Ra&&(Ra.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ge=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);me[0]=Ge[0],me[1]=Ge[1]}}for(var ke=0;ke<me.length;ke++)_e[ke]=me[ke];re&&H.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var De;t.registerBinding(e,"touchcancel",De=function(H){var re=t.touchData.start;t.touchData.capture=!1,re&&re.unactivate()});var we,Ne,Le,Ye;if(t.registerBinding(e,"touchend",we=function(H){var re=t.touchData.start,he=t.touchData.capture;if(he)H.touches.length===0&&(t.touchData.capture=!1),H.preventDefault();else return;var fe=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var me=t.cy,_e=me.zoom(),Te=t.touchData.now,Ge=t.touchData.earlier;if(H.touches[0]){var Be=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);Te[0]=Be[0],Te[1]=Be[1]}if(H.touches[1]){var Be=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);Te[2]=Be[0],Te[3]=Be[1]}if(H.touches[2]){var Be=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);Te[4]=Be[0],Te[5]=Be[1]}var Fe=function(oa){return{originalEvent:H,type:oa,position:{x:Te[0],y:Te[1]}}};re&&re.unactivate();var We;if(t.touchData.cxt){if(We=Fe("cxttapend"),re?re.emit(We):me.emit(We),!t.touchData.cxtDragged){var Je=Fe("cxttap");re?re.emit(Je):me.emit(Je)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!H.touches[2]&&me.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var ke=me.collection(t.getAllInBox(fe[0],fe[1],fe[2],fe[3]));fe[0]=void 0,fe[1]=void 0,fe[2]=void 0,fe[3]=void 0,fe[4]=0,t.redrawHint("select",!0),me.emit(Fe("boxend"));var nt=function(oa){return oa.selectable()&&!oa.selected()};ke.emit(Fe("box")).stdFilter(nt).select().emit(Fe("boxselect")),ke.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(re?.unactivate(),H.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!H.touches[1]){if(!H.touches[0]){if(!H.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var at=t.dragData.touchDragEles;if(re!=null){var Ut=re._private.grabbed;T(at),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Ut&&(re.emit(Fe("freeon")),at.emit(Fe("free")),t.dragData.didDrag&&(re.emit(Fe("dragfreeon")),at.emit(Fe("dragfree")))),l(re,["touchend","tapend","vmouseup","tapdragout"],H,{x:Te[0],y:Te[1]}),re.unactivate(),t.touchData.start=null}else{var wt=t.findNearestElement(Te[0],Te[1],!0,!0);l(wt,["touchend","tapend","vmouseup","tapdragout"],H,{x:Te[0],y:Te[1]})}var ma=t.touchData.startPosition[0]-Te[0],Gt=ma*ma,Xt=t.touchData.startPosition[1]-Te[1],qt=Xt*Xt,jt=Gt+qt,lr=jt*_e*_e;t.touchData.singleTouchMoved||(re||me.$(":selected").unselect(["tapunselect"]),l(re,["tap","vclick"],H,{x:Te[0],y:Te[1]}),Ne=!1,H.timeStamp-Ye<=me.multiClickDebounceTime()?(Le&&clearTimeout(Le),Ne=!0,Ye=null,l(re,["dbltap","vdblclick"],H,{x:Te[0],y:Te[1]})):(Le=setTimeout(function(){Ne||l(re,["onetap","voneclick"],H,{x:Te[0],y:Te[1]})},me.multiClickDebounceTime()),Ye=H.timeStamp)),re!=null&&!t.dragData.didDrag&&re._private.selectable&&lr<t.touchTapThreshold2&&!t.pinching&&(me.selectionType()==="single"?(me.$(a).unmerge(re).unselect(["tapunselect"]),re.select(["tapselect"])):re.selected()?re.unselect(["tapunselect"]):re.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Pt=0;Pt<Te.length;Pt++)Ge[Pt]=Te[Pt];t.dragData.didDrag=!1,H.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),H.touches.length<2&&(H.touches.length===1&&(t.touchData.startGPosition=[H.touches[0].clientX,H.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Ce=[],je=function(H){return{clientX:H.clientX,clientY:H.clientY,force:1,identifier:H.pointerId,pageX:H.pageX,pageY:H.pageY,radiusX:H.width/2,radiusY:H.height/2,screenX:H.screenX,screenY:H.screenY,target:H.target}},qe=function(H){return{event:H,touch:je(H)}},Qe=function(H){Ce.push(qe(H))},$e=function(H){for(var re=0;re<Ce.length;re++){var he=Ce[re];if(he.event.pointerId===H.pointerId){Ce.splice(re,1);return}}},ut=function(H){var re=Ce.filter(function(he){return he.event.pointerId===H.pointerId})[0];re.event=H,re.touch=je(H)},Xe=function(H){H.touches=Ce.map(function(re){return re.touch})},Me=function(H){return H.pointerType==="mouse"||H.pointerType===4};t.registerBinding(t.container,"pointerdown",function(de){Me(de)||(de.preventDefault(),Qe(de),Xe(de),Ue(de))}),t.registerBinding(t.container,"pointerup",function(de){Me(de)||($e(de),Xe(de),we(de))}),t.registerBinding(t.container,"pointercancel",function(de){Me(de)||($e(de),Xe(de),De(de))}),t.registerBinding(t.container,"pointermove",function(de){Me(de)||(de.preventDefault(),ut(de),Xe(de),Ae(de))})}};var cn={};cn.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,l,s,u,f,h){this.renderer.nodeShapeImpl("polygon",n,l,s,u,f,this.points)},intersectLine:function(n,l,s,u,f,h,c,v){return iu(f,h,this.points,n,l,s/2,u/2,c)},checkPoint:function(n,l,s,u,f,h,c,v){return fn(n,l,this.points,h,c,u,f,[0,-1],s)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,l,s,u,f,h){return cA(this.points,n,l,s,u,f)}}};cn.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,a,n,l,s,u){this.renderer.nodeShapeImpl(this.name,e,a,n,l,s)},intersectLine:function(e,a,n,l,s,u,f,h){return bA(s,u,e,a,n/2+f,l/2+f)},checkPoint:function(e,a,n,l,s,u,f,h){return Li(e,a,l,s,u,f,n)}}};cn.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,l,s,u,f,h,c){if(h[c]!==void 0&&h[c+"-cx"]===n&&h[c+"-cy"]===l)return h[c];h[c]=new Array(e.length/2),h[c+"-cx"]=n,h[c+"-cy"]=l;var v=s/2,g=u/2;f=f==="auto"?nx(s,u):f;for(var y=new Array(e.length/2),p=0;p<e.length/2;p++)y[p]={x:n+v*e[p*2],y:l+g*e[p*2+1]};var m,E,x,T,C=y.length;for(E=y[C-1],m=0;m<C;m++)x=y[m%C],T=y[(m+1)%C],h[c][m]=Ug(E,x,T,f),E=x,x=T;return h[c]},draw:function(n,l,s,u,f,h,c){this.renderer.nodeShapeImpl("round-polygon",n,l,s,u,f,this.points,this.getOrCreateCorners(l,s,u,f,h,c,"drawCorners"))},intersectLine:function(n,l,s,u,f,h,c,v,g){return xA(f,h,this.points,n,l,s,u,c,this.getOrCreateCorners(n,l,s,u,v,g,"corners"))},checkPoint:function(n,l,s,u,f,h,c,v,g){return mA(n,l,this.points,h,c,u,f,this.getOrCreateCorners(h,c,u,f,v,g,"corners"))}}};cn.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:za(4,0),draw:function(e,a,n,l,s,u){this.renderer.nodeShapeImpl(this.name,e,a,n,l,s,this.points,u)},intersectLine:function(e,a,n,l,s,u,f,h){return ax(s,u,e,a,n,l,f,h)},checkPoint:function(e,a,n,l,s,u,f,h){var c=l/2,v=s/2;h=h==="auto"?Wn(l,s):h,h=Math.min(c,v,h);var g=h*2;return!!(fn(e,a,this.points,u,f,l,s-g,[0,-1],n)||fn(e,a,this.points,u,f,l-g,s,[0,-1],n)||Li(e,a,g,g,u-c+h,f-v+h,n)||Li(e,a,g,g,u+c-h,f-v+h,n)||Li(e,a,g,g,u+c-h,f+v-h,n)||Li(e,a,g,g,u-c+h,f+v-h,n))}}};cn.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Dg(),points:za(4,0),draw:function(e,a,n,l,s,u){this.renderer.nodeShapeImpl(this.name,e,a,n,l,s,null,u)},generateCutTrianglePts:function(e,a,n,l,s){var u=s==="auto"?this.cornerLength:s,f=a/2,h=e/2,c=n-h,v=n+h,g=l-f,y=l+f;return{topLeft:[c,g+u,c+u,g,c+u,g+u],topRight:[v-u,g,v,g+u,v-u,g+u],bottomRight:[v,y-u,v-u,y,v-u,y-u],bottomLeft:[c+u,y,c,y-u,c+u,y-u]}},intersectLine:function(e,a,n,l,s,u,f,h){var c=this.generateCutTrianglePts(n+2*f,l+2*f,e,a,h),v=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return iu(s,u,v,e,a)},checkPoint:function(e,a,n,l,s,u,f,h){var c=h==="auto"?this.cornerLength:h;if(fn(e,a,this.points,u,f,l,s-2*c,[0,-1],n)||fn(e,a,this.points,u,f,l-2*c,s,[0,-1],n))return!0;var v=this.generateCutTrianglePts(l,s,u,f);return Ka(e,a,v.topLeft)||Ka(e,a,v.topRight)||Ka(e,a,v.bottomRight)||Ka(e,a,v.bottomLeft)}}};cn.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:za(4,0),draw:function(e,a,n,l,s,u){this.renderer.nodeShapeImpl(this.name,e,a,n,l,s)},intersectLine:function(e,a,n,l,s,u,f,h){var c=.15,v=.5,g=.85,y=this.generateBarrelBezierPts(n+2*f,l+2*f,e,a),p=function(x){var T=zl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),C=zl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},v),S=zl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},g);return[x[0],x[1],T.x,T.y,C.x,C.y,S.x,S.y,x[4],x[5]]},m=[].concat(p(y.topLeft),p(y.topRight),p(y.bottomRight),p(y.bottomLeft));return iu(s,u,m,e,a)},generateBarrelBezierPts:function(e,a,n,l){var s=a/2,u=e/2,f=n-u,h=n+u,c=l-s,v=l+s,g=Qd(e,a),y=g.heightOffset,p=g.widthOffset,m=g.ctrlPtOffsetPct*e,E={topLeft:[f,c+y,f+m,c,f+p,c],topRight:[h-p,c,h-m,c,h,c+y],bottomRight:[h,v-y,h-m,v,h-p,v],bottomLeft:[f+p,v,f+m,v,f,v-y]};return E.topLeft.isTop=!0,E.topRight.isTop=!0,E.bottomLeft.isBottom=!0,E.bottomRight.isBottom=!0,E},checkPoint:function(e,a,n,l,s,u,f,h){var c=Qd(l,s),v=c.heightOffset,g=c.widthOffset;if(fn(e,a,this.points,u,f,l,s-2*v,[0,-1],n)||fn(e,a,this.points,u,f,l-2*g,s,[0,-1],n))return!0;for(var y=this.generateBarrelBezierPts(l,s,u,f),p=function(A,R,M){var B=M[4],z=M[2],I=M[0],P=M[5],Y=M[1],U=Math.min(B,I),G=Math.max(B,I),V=Math.min(P,Y),X=Math.max(P,Y);if(U<=A&&A<=G&&V<=R&&R<=X){var K=TA(B,z,I),k=dA(K[0],K[1],K[2],A),q=k.filter(function(j){return 0<=j&&j<=1});if(q.length>0)return q[0]}return null},m=Object.keys(y),E=0;E<m.length;E++){var x=m[E],T=y[x],C=p(e,a,T);if(C!=null){var S=T[5],O=T[3],L=T[1],_=ga(S,O,L,C);if(T.isTop&&_<=a||T.isBottom&&a<=_)return!0}}return!1}}};cn.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:za(4,0),draw:function(e,a,n,l,s,u){this.renderer.nodeShapeImpl(this.name,e,a,n,l,s,this.points,u)},intersectLine:function(e,a,n,l,s,u,f,h){var c=e-(n/2+f),v=a-(l/2+f),g=v,y=e+(n/2+f),p=Xn(s,u,e,a,c,v,y,g,!1);return p.length>0?p:ax(s,u,e,a,n,l,f,h)},checkPoint:function(e,a,n,l,s,u,f,h){h=h==="auto"?Wn(l,s):h;var c=2*h;if(fn(e,a,this.points,u,f,l,s-c,[0,-1],n)||fn(e,a,this.points,u,f,l-c,s,[0,-1],n))return!0;var v=l/2+2*n,g=s/2+2*n,y=[u-v,f-g,u-v,f,u+v,f,u+v,f-g];return!!(Ka(e,a,y)||Li(e,a,c,c,u+l/2-h,f+s/2-h,n)||Li(e,a,c,c,u-l/2+h,f+s/2-h,n))}}};cn.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",za(3,0)),this.generateRoundPolygon("round-triangle",za(3,0)),this.generatePolygon("rectangle",za(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var a=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",a),this.generateRoundPolygon("round-diamond",a)}this.generatePolygon("pentagon",za(5,0)),this.generateRoundPolygon("round-pentagon",za(5,0)),this.generatePolygon("hexagon",za(6,0)),this.generateRoundPolygon("round-hexagon",za(6,0)),this.generatePolygon("heptagon",za(7,0)),this.generateRoundPolygon("round-heptagon",za(7,0)),this.generatePolygon("octagon",za(8,0)),this.generateRoundPolygon("round-octagon",za(8,0));var n=new Array(20);{var l=Zd(5,0),s=Zd(5,Math.PI/5),u=.5*(3-Math.sqrt(5));u*=1.57;for(var f=0;f<s.length/2;f++)s[f*2]*=u,s[f*2+1]*=u;for(var f=0;f<20/4;f++)n[f*4]=l[f*2],n[f*4+1]=l[f*2+1],n[f*4+2]=s[f*2],n[f*4+3]=s[f*2+1]}n=rx(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var h=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",h),this.generateRoundPolygon("round-tag",h)}t.makePolygon=function(c){var v=c.join("$"),g="polygon-"+v,y;return(y=this[g])?y:e.generatePolygon(g,c)}};var xu={};xu.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};xu.redraw=function(t){t=t||$E();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};xu.beforeRender=function(t,e){if(!this.destroyed){e==null&&It("Priority is not optional for beforeRender");var a=this.beforeRenderCallbacks;a.push({fn:t,priority:e}),a.sort(function(n,l){return l.priority-n.priority})}};var eE=function(e,a,n){for(var l=e.beforeRenderCallbacks,s=0;s<l.length;s++)l[s].fn(a,n)};xu.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var a=function(l){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){eE(t,!0,l);var s=on();t.render(t.renderOptions);var u=t.lastDrawTime=on();t.averageRedrawTime===void 0&&(t.averageRedrawTime=u-s),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var f=u-s;t.redrawTotalTime+=f,t.lastRedrawTime=f,t.averageRedrawTime=t.averageRedrawTime/2+f/2,t.requestedFrame=!1}else eE(t,!1,l);t.skipFrame=!1,Tf(a)}};Tf(a)}};var UO=function(e){this.init(e)},nT=UO,jl=nT.prototype;jl.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];jl.init=function(t){var e=this;e.options=t,e.cy=t.cy;var a=e.container=t.cy.container(),n=e.cy.window();if(n){var l=n.document,s=l.head,u="__________cytoscape_stylesheet",f="__________cytoscape_container",h=l.getElementById(u)!=null;if(a.className.indexOf(f)<0&&(a.className=(a.className||"")+" "+f),!h){var c=l.createElement("style");c.id=u,c.textContent="."+f+" { position: relative; }",s.insertBefore(c,s.children[0])}var v=n.getComputedStyle(a),g=v.getPropertyValue("position");g==="static"&&Et("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Re(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};jl.notify=function(t,e){var a=this,n=a.cy;if(!this.destroyed){if(t==="init"){a.load();return}if(t==="destroy"){a.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&a.invalidateCachedZSortedEles(),t==="viewport"&&a.redrawHint("select",!0),t==="gc"&&a.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container)),a.redrawHint("eles",!0),a.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};jl.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var a=t.bindings[e],n=a,l=n.target;(l.off||l.removeEventListener).apply(l,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};jl.isHeadless=function(){return!1};[Ig,aT,rT,Xl,cn,xu].forEach(function(t){Ke(jl,t)});var Gd=1e3/60,iT={setupDequeueing:function(e){return function(){var n=this,l=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var s=pu(function(){l.redrawHint("eles",!0),l.redrawHint("drag",!0),l.redraw()},e.deqRedrawThreshold),u=function(c,v){var g=on(),y=l.averageRedrawTime,p=l.lastRedrawTime,m=[],E=l.cy.extent(),x=l.getPixelRatio();for(c||l.flushRenderedStyleQueue();;){var T=on(),C=T-g,S=T-v;if(p<Gd){var O=Gd-(c?y:0);if(S>=e.deqFastCost*O)break}else if(c){if(C>=e.deqCost*p||C>=e.deqAvgCost*y)break}else if(S>=e.deqNoDrawCost*Gd)break;var L=e.deq(n,x,E);if(L.length>0)for(var _=0;_<L.length;_++)m.push(L[_]);else break}m.length>0&&(e.onDeqd(n,m),!c&&e.shouldRedraw(n,m,x,E)&&s())},f=e.priority||Tg;l.beforeRender(u,f(n))}}}},GO=(function(){function t(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wf;ai(this,t),this.idsByKey=new un,this.keyForId=new un,this.cachesByLvl=new un,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=a}return ri(t,[{key:"getIdsFor",value:function(a){a==null&&It("Can not get id list for null key");var n=this.idsByKey,l=this.idsByKey.get(a);return l||(l=new ql,n.set(a,l)),l}},{key:"addIdForKey",value:function(a,n){a!=null&&this.getIdsFor(a).add(n)}},{key:"deleteIdForKey",value:function(a,n){a!=null&&this.getIdsFor(a).delete(n)}},{key:"getNumberOfIdsForKey",value:function(a){return a==null?0:this.getIdsFor(a).size}},{key:"updateKeyMappingFor",value:function(a){var n=a.id(),l=this.keyForId.get(n),s=this.getKey(a);this.deleteIdForKey(l,n),this.addIdForKey(s,n),this.keyForId.set(n,s)}},{key:"deleteKeyMappingFor",value:function(a){var n=a.id(),l=this.keyForId.get(n);this.deleteIdForKey(l,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(a){var n=a.id(),l=this.keyForId.get(n),s=this.getKey(a);return l!==s}},{key:"isInvalid",value:function(a){return this.keyHasChangedFor(a)||this.doesEleInvalidateKey(a)}},{key:"getCachesAt",value:function(a){var n=this.cachesByLvl,l=this.lvls,s=n.get(a);return s||(s=new un,n.set(a,s),l.push(a)),s}},{key:"getCache",value:function(a,n){return this.getCachesAt(n).get(a)}},{key:"get",value:function(a,n){var l=this.getKey(a),s=this.getCache(l,n);return s!=null&&this.updateKeyMappingFor(a),s}},{key:"getForCachedKey",value:function(a,n){var l=this.keyForId.get(a.id()),s=this.getCache(l,n);return s}},{key:"hasCache",value:function(a,n){return this.getCachesAt(n).has(a)}},{key:"has",value:function(a,n){var l=this.getKey(a);return this.hasCache(l,n)}},{key:"setCache",value:function(a,n,l){l.key=a,this.getCachesAt(n).set(a,l)}},{key:"set",value:function(a,n,l){var s=this.getKey(a);this.setCache(s,n,l),this.updateKeyMappingFor(a)}},{key:"deleteCache",value:function(a,n){this.getCachesAt(n).delete(a)}},{key:"delete",value:function(a,n){var l=this.getKey(a);this.deleteCache(l,n)}},{key:"invalidateKey",value:function(a){var n=this;this.lvls.forEach(function(l){return n.deleteCache(a,l)})}},{key:"invalidate",value:function(a){var n=a.id(),l=this.keyForId.get(n);this.deleteKeyMappingFor(a);var s=this.doesEleInvalidateKey(a);return s&&this.invalidateKey(l),s||this.getNumberOfIdsForKey(l)===0}}])})(),tE=25,Qo=50,gf=-4,og=3,lT=7.99,PO=8,FO=1024,qO=1024,HO=1024,VO=.2,YO=.8,XO=10,jO=.15,KO=.1,ZO=.9,QO=.9,WO=100,$O=1,_l={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},JO=Ca({getKey:null,doesEleInvalidateKey:wf,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ZE,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Qs=function(e,a){var n=this;n.renderer=e,n.onDequeues=[];var l=JO(a);Ke(n,l),n.lookup=new GO(l.getKey,l.doesEleInvalidateKey),n.setupDequeueing()},ua=Qs.prototype;ua.reasons=_l;ua.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};ua.getRetiredTextureQueue=function(t){var e=this,a=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=a[t]=a[t]||[];return n};ua.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new yu(function(a,n){return n.reqs-a.reqs});return e};ua.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};ua.getElement=function(t,e,a,n,l){var s=this,u=this.renderer,f=u.cy.zoom(),h=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!s.allowEdgeTxrCaching&&t.isEdge()||!s.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Sg(f*a))),n<gf)n=gf;else if(f>=lT||n>og)return null;var c=Math.pow(2,n),v=e.h*c,g=e.w*c,y=u.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,y))return null;var p=h.get(t,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var m;if(v<=tE?m=tE:v<=Qo?m=Qo:m=Math.ceil(v/Qo)*Qo,v>HO||g>qO)return null;var E=s.getTextureQueue(m),x=E[E.length-2],T=function(){return s.recycleTexture(m,g)||s.addTexture(m,g)};x||(x=E[E.length-1]),x||(x=T()),x.width-x.usedWidth<g&&(x=T());for(var C=function(U){return U&&U.scaledLabelShown===y},S=l&&l===_l.dequeue,O=l&&l===_l.highQuality,L=l&&l===_l.downscale,_,D=n+1;D<=og;D++){var A=h.get(t,D);if(A){_=A;break}}var R=_&&_.level===n+1?_:null,M=function(){x.context.drawImage(R.texture.canvas,R.x,0,R.width,R.height,x.usedWidth,0,g,v)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,g,m),C(R))M();else if(C(_))if(O){for(var B=_.level;B>n;B--)R=s.getElement(t,e,a,B,_l.downscale);M()}else return s.queueElement(t,_.level-1),_;else{var z;if(!S&&!O&&!L)for(var I=n-1;I>=gf;I--){var P=h.get(t,I);if(P){z=P;break}}if(C(z))return s.queueElement(t,n),z;x.context.translate(x.usedWidth,0),x.context.scale(c,c),this.drawElement(x.context,t,e,y,!1),x.context.scale(1/c,1/c),x.context.translate(-x.usedWidth,0)}return p={x:x.usedWidth,texture:x,level:n,scale:c,width:g,height:v,scaledLabelShown:y},x.usedWidth+=Math.ceil(g+PO),x.eleCaches.push(p),h.set(t,n,p),s.checkTextureFullness(x),p};ua.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};ua.invalidateElement=function(t){var e=this,a=e.lookup,n=[],l=a.isInvalid(t);if(l){for(var s=gf;s<=og;s++){var u=a.getForCachedKey(t,s);u&&n.push(u)}var f=a.invalidate(t);if(f)for(var h=0;h<n.length;h++){var c=n[h],v=c.texture;v.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}};ua.checkTextureUtility=function(t){t.invalidatedWidth>=VO*t.width&&this.retireTexture(t)};ua.checkTextureFullness=function(t){var e=this,a=e.getTextureQueue(t.height);t.usedWidth/t.width>YO&&t.fullnessChecks>=XO?Qn(a,t):t.fullnessChecks++};ua.retireTexture=function(t){var e=this,a=t.height,n=e.getTextureQueue(a),l=this.lookup;Qn(n,t),t.retired=!0;for(var s=t.eleCaches,u=0;u<s.length;u++){var f=s[u];l.deleteCache(f.key,f.level)}wg(s);var h=e.getRetiredTextureQueue(a);h.push(t)};ua.addTexture=function(t,e){var a=this,n=a.getTextureQueue(t),l={};return n.push(l),l.eleCaches=[],l.height=t,l.width=Math.max(FO,e),l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,l.canvas=a.renderer.makeOffscreenCanvas(l.width,l.height),l.context=l.canvas.getContext("2d"),l};ua.recycleTexture=function(t,e){for(var a=this,n=a.getTextureQueue(t),l=a.getRetiredTextureQueue(t),s=0;s<l.length;s++){var u=l[s];if(u.width>=e)return u.retired=!1,u.usedWidth=0,u.invalidatedWidth=0,u.fullnessChecks=0,wg(u.eleCaches),u.context.setTransform(1,0,0,1,0,0),u.context.clearRect(0,0,u.width,u.height),Qn(l,u),n.push(u),u}};ua.queueElement=function(t,e){var a=this,n=a.getElementQueue(),l=a.getElementKeyToQueue(),s=this.getKey(t),u=l[s];if(u)u.level=Math.max(u.level,e),u.eles.merge(t),u.reqs++,n.updateItem(u);else{var f={eles:t.spawn().merge(t),level:e,reqs:1,key:s};n.push(f),l[s]=f}};ua.dequeue=function(t){for(var e=this,a=e.getElementQueue(),n=e.getElementKeyToQueue(),l=[],s=e.lookup,u=0;u<$O&&a.size()>0;u++){var f=a.pop(),h=f.key,c=f.eles[0],v=s.hasCache(c,f.level);if(n[h]=null,v)continue;l.push(f);var g=e.getBoundingBox(c);e.getElement(c,g,t,f.level,_l.dequeue)}return l};ua.removeFromQueue=function(t){var e=this,a=e.getElementQueue(),n=e.getElementKeyToQueue(),l=this.getKey(t),s=n[l];s!=null&&(s.eles.length===1?(s.reqs=xg,a.updateItem(s),a.pop(),n[l]=null):s.eles.unmerge(t))};ua.onDequeue=function(t){this.onDequeues.push(t)};ua.offDequeue=function(t){Qn(this.onDequeues,t)};ua.setupDequeueing=iT.setupDequeueing({deqRedrawThreshold:WO,deqCost:jO,deqAvgCost:KO,deqNoDrawCost:ZO,deqFastCost:QO,deq:function(e,a,n){return e.dequeue(a,n)},onDeqd:function(e,a){for(var n=0;n<e.onDequeues.length;n++){var l=e.onDequeues[n];l(a)}},shouldRedraw:function(e,a,n,l){for(var s=0;s<a.length;s++)for(var u=a[s].eles,f=0;f<u.length;f++){var h=u[f].boundingBox();if(Ag(h,l))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var eM=1,Js=-4,Lf=2,tM=3.99,aM=50,rM=50,nM=.15,iM=.1,lM=.9,sM=.9,uM=1,aE=250,oM=4e3*4e3,rE=32767,fM=!0,sT=function(e){var a=this,n=a.renderer=e,l=n.cy;a.layersByLevel={},a.firstGet=!0,a.lastInvalidationTime=on()-2*aE,a.skipping=!1,a.eleTxrDeqs=l.collection(),a.scheduleElementRefinement=pu(function(){a.refineElementTextures(a.eleTxrDeqs),a.eleTxrDeqs.unmerge(a.eleTxrDeqs)},rM),n.beforeRender(function(u,f){f-a.lastInvalidationTime<=aE?a.skipping=!0:a.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var s=function(f,h){return h.reqs-f.reqs};a.layersQueue=new yu(s),a.setupDequeueing()},Aa=sT.prototype,nE=0,cM=Math.pow(2,53)-1;Aa.makeLayer=function(t,e){var a=Math.pow(2,e),n=Math.ceil(t.w*a),l=Math.ceil(t.h*a),s=this.renderer.makeOffscreenCanvas(n,l),u={id:nE=++nE%cM,bb:t,level:e,width:n,height:l,canvas:s,context:s.getContext("2d"),eles:[],elesQueue:[],reqs:0},f=u.context,h=-u.bb.x1,c=-u.bb.y1;return f.scale(a,a),f.translate(h,c),u};Aa.getLayers=function(t,e,a){var n=this,l=n.renderer,s=l.cy,u=s.zoom(),f=n.firstGet;if(n.firstGet=!1,a==null){if(a=Math.ceil(Sg(u*e)),a<Js)a=Js;else if(u>=tM||a>Lf)return null}n.validateLayersElesOrdering(a,t);var h=n.layersByLevel,c=Math.pow(2,a),v=h[a]=h[a]||[],g,y=n.levelIsComplete(a,t),p,m=function(){var M=function(Y){if(n.validateLayersElesOrdering(Y,t),n.levelIsComplete(Y,t))return p=h[Y],!0},B=function(Y){if(!p)for(var U=a+Y;Js<=U&&U<=Lf&&!M(U);U+=Y);};B(1),B(-1);for(var z=v.length-1;z>=0;z--){var I=v[z];I.invalid&&Qn(v,I)}};if(!y)m();else return v;var E=function(){if(!g){g=Ia();for(var M=0;M<t.length;M++)uA(g,t[M].boundingBox())}return g},x=function(M){M=M||{};var B=M.after;E();var z=Math.ceil(g.w*c),I=Math.ceil(g.h*c);if(z>rE||I>rE)return null;var P=z*I;if(P>oM)return null;var Y=n.makeLayer(g,a);if(B!=null){var U=v.indexOf(B)+1;v.splice(U,0,Y)}else(M.insert===void 0||M.insert)&&v.unshift(Y);return Y};if(n.skipping&&!f)return null;for(var T=null,C=t.length/eM,S=!f,O=0;O<t.length;O++){var L=t[O],_=L._private.rscratch,D=_.imgLayerCaches=_.imgLayerCaches||{},A=D[a];if(A){T=A;continue}if((!T||T.eles.length>=C||!tx(T.bb,L.boundingBox()))&&(T=x({insert:!0,after:T}),!T))return null;p||S?n.queueLayer(T,L):n.drawEleInLayer(T,L,a,e),T.eles.push(L),D[a]=T}return p||(S?null:v)};Aa.getEleLevelForLayerLevel=function(t,e){return t};Aa.drawEleInLayer=function(t,e,a,n){var l=this,s=this.renderer,u=t.context,f=e.boundingBox();f.w===0||f.h===0||!e.visible()||(a=l.getEleLevelForLayerLevel(a,n),s.setImgSmoothing(u,!1),s.drawCachedElement(u,e,null,null,a,fM),s.setImgSmoothing(u,!0))};Aa.levelIsComplete=function(t,e){var a=this,n=a.layersByLevel[t];if(!n||n.length===0)return!1;for(var l=0,s=0;s<n.length;s++){var u=n[s];if(u.reqs>0||u.invalid)return!1;l+=u.eles.length}return l===e.length};Aa.validateLayersElesOrdering=function(t,e){var a=this.layersByLevel[t];if(a)for(var n=0;n<a.length;n++){for(var l=a[n],s=-1,u=0;u<e.length;u++)if(l.eles[0]===e[u]){s=u;break}if(s<0){this.invalidateLayer(l);continue}for(var f=s,u=0;u<l.eles.length;u++)if(l.eles[u]!==e[f+u]){this.invalidateLayer(l);break}}};Aa.updateElementsInLayers=function(t,e){for(var a=this,n=hu(t[0]),l=0;l<t.length;l++)for(var s=n?null:t[l],u=n?t[l]:t[l].ele,f=u._private.rscratch,h=f.imgLayerCaches=f.imgLayerCaches||{},c=Js;c<=Lf;c++){var v=h[c];v&&(s&&a.getEleLevelForLayerLevel(v.level)!==s.level||e(v,u,s))}};Aa.haveLayers=function(){for(var t=this,e=!1,a=Js;a<=Lf;a++){var n=t.layersByLevel[a];if(n&&n.length>0){e=!0;break}}return e};Aa.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=on(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,l,s){e.invalidateLayer(n)}))};Aa.invalidateLayer=function(t){if(this.lastInvalidationTime=on(),!t.invalid){var e=t.level,a=t.eles,n=this.layersByLevel[e];Qn(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var l=0;l<a.length;l++){var s=a[l]._private.rscratch.imgLayerCaches;s&&(s[e]=null)}}};Aa.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,l,s){var u=n.replacement;if(u||(u=n.replacement=e.makeLayer(n.bb,n.level),u.replaces=n,u.eles=n.eles),!u.reqs)for(var f=0;f<u.eles.length;f++)e.queueLayer(u,u.eles[f])})};Aa.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Aa.queueLayer=function(t,e){var a=this,n=a.layersQueue,l=t.elesQueue,s=l.hasId=l.hasId||{};if(!t.replacement){if(e){if(s[e.id()])return;l.push(e),s[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Aa.dequeue=function(t){for(var e=this,a=e.layersQueue,n=[],l=0;l<uM&&a.size()!==0;){var s=a.peek();if(s.replacement){a.pop();continue}if(s.replaces&&s!==s.replaces.replacement){a.pop();continue}if(s.invalid){a.pop();continue}var u=s.elesQueue.shift();u&&(e.drawEleInLayer(s,u,s.level,t),l++),n.length===0&&n.push(!0),s.elesQueue.length===0&&(a.pop(),s.reqs=0,s.replaces&&e.applyLayerReplacement(s),e.requestRedraw())}return n};Aa.applyLayerReplacement=function(t){var e=this,a=e.layersByLevel[t.level],n=t.replaces,l=a.indexOf(n);if(!(l<0||n.invalid)){a[l]=t;for(var s=0;s<t.eles.length;s++){var u=t.eles[s]._private,f=u.imgLayerCaches=u.imgLayerCaches||{};f&&(f[t.level]=t)}e.requestRedraw()}};Aa.requestRedraw=pu(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Aa.setupDequeueing=iT.setupDequeueing({deqRedrawThreshold:aM,deqCost:nM,deqAvgCost:iM,deqNoDrawCost:lM,deqFastCost:sM,deq:function(e,a){return e.dequeue(a)},onDeqd:Tg,shouldRedraw:ZE,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var uT={},iE;function hM(t,e){for(var a=0;a<e.length;a++){var n=e[a];t.lineTo(n.x,n.y)}}function vM(t,e,a){for(var n,l=0;l<e.length;l++){var s=e[l];l===0&&(n=s),t.lineTo(s.x,s.y)}t.quadraticCurveTo(a.x,a.y,n.x,n.y)}function lE(t,e,a){t.beginPath&&t.beginPath();for(var n=e,l=0;l<n.length;l++){var s=n[l];t.lineTo(s.x,s.y)}var u=a,f=a[0];t.moveTo(f.x,f.y);for(var l=1;l<u.length;l++){var s=u[l];t.lineTo(s.x,s.y)}t.closePath&&t.closePath()}function dM(t,e,a,n,l){t.beginPath&&t.beginPath(),t.arc(a,n,l,0,Math.PI*2,!1);var s=e,u=s[0];t.moveTo(u.x,u.y);for(var f=0;f<s.length;f++){var h=s[f];t.lineTo(h.x,h.y)}t.closePath&&t.closePath()}function gM(t,e,a,n){t.arc(e,a,n,0,Math.PI*2,!1)}uT.arrowShapeImpl=function(t){return(iE||(iE={polygon:hM,"triangle-backcurve":vM,"triangle-tee":lE,"circle-triangle":dM,"triangle-cross":lE,circle:gM}))[t]};var Pr={};Pr.drawElement=function(t,e,a,n,l,s){var u=this;e.isNode()?u.drawNode(t,e,a,n,l,s):u.drawEdge(t,e,a,n,l,s)};Pr.drawElementOverlay=function(t,e){var a=this;e.isNode()?a.drawNodeOverlay(t,e):a.drawEdgeOverlay(t,e)};Pr.drawElementUnderlay=function(t,e){var a=this;e.isNode()?a.drawNodeUnderlay(t,e):a.drawEdgeUnderlay(t,e)};Pr.drawCachedElementPortion=function(t,e,a,n,l,s,u,f){var h=this,c=a.getBoundingBox(e);if(!(c.w===0||c.h===0)){var v=a.getElement(e,c,n,l,s);if(v!=null){var g=f(h,e);if(g===0)return;var y=u(h,e),p=c.x1,m=c.y1,E=c.w,x=c.h,T,C,S,O,L;if(y!==0){var _=a.getRotationPoint(e);S=_.x,O=_.y,t.translate(S,O),t.rotate(y),L=h.getImgSmoothing(t),L||h.setImgSmoothing(t,!0);var D=a.getRotationOffset(e);T=D.x,C=D.y}else T=p,C=m;var A;g!==1&&(A=t.globalAlpha,t.globalAlpha=A*g),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,T,C,E,x),g!==1&&(t.globalAlpha=A),y!==0&&(t.rotate(-y),t.translate(-S,-O),L||h.setImgSmoothing(t,!1))}else a.drawElement(t,e)}};var pM=function(){return 0},yM=function(e,a){return e.getTextAngle(a,null)},mM=function(e,a){return e.getTextAngle(a,"source")},bM=function(e,a){return e.getTextAngle(a,"target")},EM=function(e,a){return a.effectiveOpacity()},Pd=function(e,a){return a.pstyle("text-opacity").pfValue*a.effectiveOpacity()};Pr.drawCachedElement=function(t,e,a,n,l,s){var u=this,f=u.data,h=f.eleTxrCache,c=f.lblTxrCache,v=f.slbTxrCache,g=f.tlbTxrCache,y=e.boundingBox(),p=s===!0?h.reasons.highQuality:null;if(!(y.w===0||y.h===0||!e.visible())&&(!n||Ag(y,n))){var m=e.isEdge(),E=e.element()._private.rscratch.badLine;u.drawElementUnderlay(t,e),u.drawCachedElementPortion(t,e,h,a,l,p,pM,EM),(!m||!E)&&u.drawCachedElementPortion(t,e,c,a,l,p,yM,Pd),m&&!E&&(u.drawCachedElementPortion(t,e,v,a,l,p,mM,Pd),u.drawCachedElementPortion(t,e,g,a,l,p,bM,Pd)),u.drawElementOverlay(t,e)}};Pr.drawElements=function(t,e){for(var a=this,n=0;n<e.length;n++){var l=e[n];a.drawElement(t,l)}};Pr.drawCachedElements=function(t,e,a,n){for(var l=this,s=0;s<e.length;s++){var u=e[s];l.drawCachedElement(t,u,a,n)}};Pr.drawCachedNodes=function(t,e,a,n){for(var l=this,s=0;s<e.length;s++){var u=e[s];u.isNode()&&l.drawCachedElement(t,u,a,n)}};Pr.drawLayeredElements=function(t,e,a,n){var l=this,s=l.data.lyrTxrCache.getLayers(e,a);if(s)for(var u=0;u<s.length;u++){var f=s[u],h=f.bb;h.w===0||h.h===0||t.drawImage(f.canvas,h.x1,h.y1,h.w,h.h)}else l.drawCachedElements(t,e,a,n)};var hn={};hn.drawEdge=function(t,e,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this,f=e._private.rscratch;if(!(s&&!e.visible())&&!(f.badLine||f.allpts==null||isNaN(f.allpts[0]))){var h;a&&(h=a,t.translate(-h.x1,-h.y1));var c=s?e.pstyle("opacity").value:1,v=s?e.pstyle("line-opacity").value:1,g=e.pstyle("curve-style").value,y=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,E=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,T=c*v,C=c*v,S=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;g==="straight-triangle"?(u.eleStrokeStyle(t,e,Y),u.drawEdgeTrianglePath(e,t,f.allpts)):(t.lineWidth=p,t.lineCap=m,u.eleStrokeStyle(t,e,Y),u.drawEdgePath(e,t,f.allpts,y),t.lineCap="butt")},O=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;if(t.lineWidth=p+E,t.lineCap=m,E>0)u.colorStrokeStyle(t,x[0],x[1],x[2],Y);else{t.lineCap="butt";return}g==="straight-triangle"?u.drawEdgeTrianglePath(e,t,f.allpts):(u.drawEdgePath(e,t,f.allpts,y),t.lineCap="butt")},L=function(){l&&u.drawEdgeOverlay(t,e)},_=function(){l&&u.drawEdgeUnderlay(t,e)},D=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;u.drawArrowheads(t,e,Y)},A=function(){u.drawElementText(t,e,null,n)};t.lineJoin="round";var R=e.pstyle("ghost").value==="yes";if(R){var M=e.pstyle("ghost-offset-x").pfValue,B=e.pstyle("ghost-offset-y").pfValue,z=e.pstyle("ghost-opacity").value,I=T*z;t.translate(M,B),S(I),D(I),t.translate(-M,-B)}else O();_(),S(),D(),L(),A(),a&&t.translate(h.x1,h.y1)}};var oT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(a,n){if(n.visible()){var l=n.pstyle("".concat(e,"-opacity")).value;if(l!==0){var s=this,u=s.usePaths(),f=n._private.rscratch,h=n.pstyle("".concat(e,"-padding")).pfValue,c=2*h,v=n.pstyle("".concat(e,"-color")).value;a.lineWidth=c,f.edgeType==="self"&&!u?a.lineCap="butt":a.lineCap="round",s.colorStrokeStyle(a,v[0],v[1],v[2],l),s.drawEdgePath(n,a,f.allpts,"solid")}}}};hn.drawEdgeOverlay=oT("overlay");hn.drawEdgeUnderlay=oT("underlay");hn.drawEdgePath=function(t,e,a,n){var l=t._private.rscratch,s=e,u,f=!1,h=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(h){var g=a.join("$"),y=l.pathCacheKey&&l.pathCacheKey===g;y?(u=e=l.pathCache,f=!0):(u=e=new Path2D,l.pathCacheKey=g,l.pathCache=u)}if(s.setLineDash)switch(n){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(c),s.lineDashOffset=v;break;case"solid":s.setLineDash([]);break}if(!f&&!l.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(a[0],a[1]),l.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<a.length;p+=4)e.quadraticCurveTo(a[p],a[p+1],a[p+2],a[p+3]);break;case"straight":case"haystack":for(var m=2;m+1<a.length;m+=2)e.lineTo(a[m],a[m+1]);break;case"segments":if(l.isRound){var E=Za(l.roundCorners),x;try{for(E.s();!(x=E.n()).done;){var T=x.value;Wx(e,T)}}catch(S){E.e(S)}finally{E.f()}e.lineTo(a[a.length-2],a[a.length-1])}else for(var C=2;C+1<a.length;C+=2)e.lineTo(a[C],a[C+1]);break}e=s,h?e.stroke(u):e.stroke(),e.setLineDash&&e.setLineDash([])};hn.drawEdgeTrianglePath=function(t,e,a){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,l=0;l+1<a.length;l+=2){var s=[a[l+2]-a[l],a[l+3]-a[l+1]],u=Math.sqrt(s[0]*s[0]+s[1]*s[1]),f=[s[1]/u,-s[0]/u],h=[f[0]*n/2,f[1]*n/2];e.beginPath(),e.moveTo(a[l]-h[0],a[l+1]-h[1]),e.lineTo(a[l]+h[0],a[l+1]+h[1]),e.lineTo(a[l+2],a[l+3]),e.closePath(),e.fill()}};hn.drawArrowheads=function(t,e,a){var n=e._private.rscratch,l=n.edgeType==="haystack";l||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,a),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,a),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,a),l||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,a)};hn.drawArrowhead=function(t,e,a,n,l,s,u){if(!(isNaN(n)||n==null||isNaN(l)||l==null||isNaN(s)||s==null)){var f=this,h=e.pstyle(a+"-arrow-shape").value;if(h!=="none"){var c=e.pstyle(a+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(a+"-arrow-fill").value,g=e.pstyle("width").pfValue,y=e.pstyle(a+"-arrow-width"),p=y.value==="match-line"?g:y.pfValue;y.units==="%"&&(p*=g);var m=e.pstyle("opacity").value;u===void 0&&(u=m);var E=t.globalCompositeOperation;(u!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",f.colorFillStyle(t,255,255,255,1),f.colorStrokeStyle(t,255,255,255,1),f.drawArrowShape(e,t,c,g,h,p,n,l,s),t.globalCompositeOperation=E);var x=e.pstyle(a+"-arrow-color").value;f.colorFillStyle(t,x[0],x[1],x[2],u),f.colorStrokeStyle(t,x[0],x[1],x[2],u),f.drawArrowShape(e,t,v,g,h,p,n,l,s)}}};hn.drawArrowShape=function(t,e,a,n,l,s,u,f,h){var c=this,v=this.usePaths()&&l!=="triangle-cross",g=!1,y,p=e,m={x:u,y:f},E=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,E),T=c.arrowShapes[l];if(v){var C=c.arrowPathCache=c.arrowPathCache||[],S=Bi(l),O=C[S];O!=null?(y=e=O,g=!0):(y=e=new Path2D,C[S]=y)}g||(e.beginPath&&e.beginPath(),v?T.draw(e,1,0,{x:0,y:0},1):T.draw(e,x,h,m,n),e.closePath&&e.closePath()),e=p,v&&(e.translate(u,f),e.rotate(h),e.scale(x,x)),(a==="filled"||a==="both")&&(v?e.fill(y):e.fill()),(a==="hollow"||a==="both")&&(e.lineWidth=s/(v?x:1),e.lineJoin="miter",v?e.stroke(y):e.stroke()),v&&(e.scale(1/x,1/x),e.rotate(-h),e.translate(-u,-f))};var Pg={};Pg.safeDrawImage=function(t,e,a,n,l,s,u,f,h,c){if(!(l<=0||s<=0||h<=0||c<=0))try{t.drawImage(e,a,n,l,s,u,f,h,c)}catch(v){Et(v)}};Pg.drawInscribedImage=function(t,e,a,n,l){var s=this,u=a.position(),f=u.x,h=u.y,c=a.cy().style(),v=c.getIndexedStyle.bind(c),g=v(a,"background-fit","value",n),y=v(a,"background-repeat","value",n),p=a.width(),m=a.height(),E=a.padding()*2,x=p+(v(a,"background-width-relative-to","value",n)==="inner"?0:E),T=m+(v(a,"background-height-relative-to","value",n)==="inner"?0:E),C=a._private.rscratch,S=v(a,"background-clip","value",n),O=S==="node",L=v(a,"background-image-opacity","value",n)*l,_=v(a,"background-image-smoothing","value",n),D=a.pstyle("corner-radius").value;D!=="auto"&&(D=a.pstyle("corner-radius").pfValue);var A=e.width||e.cachedW,R=e.height||e.cachedH;(A==null||R==null)&&(document.body.appendChild(e),A=e.cachedW=e.width||e.offsetWidth,R=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var M=A,B=R;if(v(a,"background-width","value",n)!=="auto"&&(v(a,"background-width","units",n)==="%"?M=v(a,"background-width","pfValue",n)*x:M=v(a,"background-width","pfValue",n)),v(a,"background-height","value",n)!=="auto"&&(v(a,"background-height","units",n)==="%"?B=v(a,"background-height","pfValue",n)*T:B=v(a,"background-height","pfValue",n)),!(M===0||B===0)){if(g==="contain"){var z=Math.min(x/M,T/B);M*=z,B*=z}else if(g==="cover"){var z=Math.max(x/M,T/B);M*=z,B*=z}var I=f-x/2,P=v(a,"background-position-x","units",n),Y=v(a,"background-position-x","pfValue",n);P==="%"?I+=(x-M)*Y:I+=Y;var U=v(a,"background-offset-x","units",n),G=v(a,"background-offset-x","pfValue",n);U==="%"?I+=(x-M)*G:I+=G;var V=h-T/2,X=v(a,"background-position-y","units",n),K=v(a,"background-position-y","pfValue",n);X==="%"?V+=(T-B)*K:V+=K;var k=v(a,"background-offset-y","units",n),q=v(a,"background-offset-y","pfValue",n);k==="%"?V+=(T-B)*q:V+=q,C.pathCache&&(I-=f,V-=h,f=0,h=0);var j=t.globalAlpha;t.globalAlpha=L;var Q=s.getImgSmoothing(t),J=!1;if(_==="no"&&Q?(s.setImgSmoothing(t,!1),J=!0):_==="yes"&&!Q&&(s.setImgSmoothing(t,!0),J=!0),y==="no-repeat")O&&(t.save(),C.pathCache?t.clip(C.pathCache):(s.nodeShapes[s.getNodeShape(a)].draw(t,f,h,x,T,D,C),t.clip())),s.safeDrawImage(t,e,0,0,A,R,I,V,M,B),O&&t.restore();else{var ne=t.createPattern(e,y);t.fillStyle=ne,s.nodeShapes[s.getNodeShape(a)].draw(t,f,h,x,T,D,C),t.translate(I,V),t.fill(),t.translate(-I,-V)}t.globalAlpha=j,J&&s.setImgSmoothing(t,Q)}};var Pi={};Pi.eleTextBiggerThanMin=function(t,e){if(!e){var a=t.cy().zoom(),n=this.getPixelRatio(),l=Math.ceil(Sg(a*n));e=Math.pow(2,l)}var s=t.pstyle("font-size").pfValue*e,u=t.pstyle("min-zoomed-font-size").pfValue;return!(s<u)};Pi.drawElementText=function(t,e,a,n,l){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this;if(n==null){if(s&&!u.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var f=e.pstyle("label");if(!f||!f.value)return;var h=u.getLabelJustification(e);t.textAlign=h,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,v=e.pstyle("label"),g=e.pstyle("source-label"),y=e.pstyle("target-label");if(c||(!v||!v.value)&&(!g||!g.value)&&(!y||!y.value))return;t.textAlign="center",t.textBaseline="bottom"}var p=!a,m;a&&(m=a,t.translate(-m.x1,-m.y1)),l==null?(u.drawText(t,e,null,p,s),e.isEdge()&&(u.drawText(t,e,"source",p,s),u.drawText(t,e,"target",p,s))):u.drawText(t,e,l,p,s),a&&t.translate(m.x1,m.y1)};Pi.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var a=0;a<this.fontCaches.length;a++)if(e=this.fontCaches[a],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Pi.setupTextStyle=function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,l=e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,f=a?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,h=e.pstyle("text-outline-opacity").value*f,c=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=n+" "+u+" "+l+" "+s,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],f),this.colorStrokeStyle(t,v[0],v[1],v[2],h)};function xM(t,e,a,n,l){var s=Math.min(n,l),u=s/2,f=e+n/2,h=a+l/2;t.beginPath(),t.arc(f,h,u,0,Math.PI*2),t.closePath()}function sE(t,e,a,n,l){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,u=Math.min(s,n/2,l/2);t.beginPath(),t.moveTo(e+u,a),t.lineTo(e+n-u,a),t.quadraticCurveTo(e+n,a,e+n,a+u),t.lineTo(e+n,a+l-u),t.quadraticCurveTo(e+n,a+l,e+n-u,a+l),t.lineTo(e+u,a+l),t.quadraticCurveTo(e,a+l,e,a+l-u),t.lineTo(e,a+u),t.quadraticCurveTo(e,a,e+u,a),t.closePath()}Pi.getTextAngle=function(t,e){var a,n=t._private,l=n.rscratch,s=e?e+"-":"",u=t.pstyle(s+"text-rotation");if(u.strValue==="autorotate"){var f=ja(l,"labelAngle",e);a=t.isEdge()?f:0}else u.strValue==="none"?a=0:a=u.pfValue;return a};Pi.drawText=function(t,e,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=e._private,u=s.rscratch,f=l?e.effectiveOpacity():1;if(!(l&&(f===0||e.pstyle("text-opacity").value===0))){a==="main"&&(a=null);var h=ja(u,"labelX",a),c=ja(u,"labelY",a),v,g,y=this.getLabelText(e,a);if(y!=null&&y!==""&&!isNaN(h)&&!isNaN(c)){this.setupTextStyle(t,e,l);var p=a?a+"-":"",m=ja(u,"labelWidth",a),E=ja(u,"labelHeight",a),x=e.pstyle(p+"text-margin-x").pfValue,T=e.pstyle(p+"text-margin-y").pfValue,C=e.isEdge(),S=e.pstyle("text-halign").value,O=e.pstyle("text-valign").value;C&&(S="center",O="center"),h+=x,c+=T;var L;switch(n?L=this.getTextAngle(e,a):L=0,L!==0&&(v=h,g=c,t.translate(v,g),t.rotate(L),h=0,c=0),O){case"top":break;case"center":c+=E/2;break;case"bottom":c+=E;break}var _=e.pstyle("text-background-opacity").value,D=e.pstyle("text-border-opacity").value,A=e.pstyle("text-border-width").pfValue,R=e.pstyle("text-background-padding").pfValue,M=e.pstyle("text-background-shape").strValue,B=M==="round-rectangle"||M==="roundrectangle",z=M==="circle",I=2;if(_>0||A>0&&D>0){var P=t.fillStyle,Y=t.strokeStyle,U=t.lineWidth,G=e.pstyle("text-background-color").value,V=e.pstyle("text-border-color").value,X=e.pstyle("text-border-style").value,K=_>0,k=A>0&&D>0,q=h-R;switch(S){case"left":q-=m;break;case"center":q-=m/2;break}var j=c-E-R,Q=m+2*R,J=E+2*R;if(K&&(t.fillStyle="rgba(".concat(G[0],",").concat(G[1],",").concat(G[2],",").concat(_*f,")")),k&&(t.strokeStyle="rgba(".concat(V[0],",").concat(V[1],",").concat(V[2],",").concat(D*f,")"),t.lineWidth=A,t.setLineDash))switch(X){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=A/4,t.setLineDash([]);break;default:t.setLineDash([]);break}if(B?(t.beginPath(),sE(t,q,j,Q,J,I)):z?(t.beginPath(),xM(t,q,j,Q,J)):(t.beginPath(),t.rect(q,j,Q,J)),K&&t.fill(),k&&t.stroke(),k&&X==="double"){var ne=A/2;t.beginPath(),B?sE(t,q+ne,j+ne,Q-2*ne,J-2*ne,I):t.rect(q+ne,j+ne,Q-2*ne,J-2*ne),t.stroke()}t.fillStyle=P,t.strokeStyle=Y,t.lineWidth=U,t.setLineDash&&t.setLineDash([])}var ue=2*e.pstyle("text-outline-width").pfValue;if(ue>0&&(t.lineWidth=ue),e.pstyle("text-wrap").value==="wrap"){var pe=ja(u,"labelWrapCachedLines",a),ie=ja(u,"labelLineHeight",a),ee=m/2,W=this.getLabelJustification(e);switch(W==="auto"||(S==="left"?W==="left"?h+=-m:W==="center"&&(h+=-ee):S==="center"?W==="left"?h+=-ee:W==="right"&&(h+=ee):S==="right"&&(W==="center"?h+=ee:W==="right"&&(h+=m))),O){case"top":c-=(pe.length-1)*ie;break;case"center":case"bottom":c-=(pe.length-1)*ie;break}for(var ae=0;ae<pe.length;ae++)ue>0&&t.strokeText(pe[ae],h,c),t.fillText(pe[ae],h,c),c+=ie}else ue>0&&t.strokeText(y,h,c),t.fillText(y,h,c);L!==0&&(t.rotate(-L),t.translate(-v,-g))}}};var ii={};ii.drawNode=function(t,e,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this,f,h,c=e._private,v=c.rscratch,g=e.position();if(!(!Re(g.x)||!Re(g.y))&&!(s&&!e.visible())){var y=s?e.effectiveOpacity():1,p=u.usePaths(),m,E=!1,x=e.padding();f=e.width()+2*x,h=e.height()+2*x;var T;a&&(T=a,t.translate(-T.x1,-T.y1));for(var C=e.pstyle("background-image"),S=C.value,O=new Array(S.length),L=new Array(S.length),_=0,D=0;D<S.length;D++){var A=S[D],R=O[D]=A!=null&&A!=="none";if(R){var M=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",D);_++,L[D]=u.getCachedImage(A,M,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var B=e.pstyle("background-blacken").value,z=e.pstyle("border-width").pfValue,I=e.pstyle("background-opacity").value*y,P=e.pstyle("border-color").value,Y=e.pstyle("border-style").value,U=e.pstyle("border-join").value,G=e.pstyle("border-cap").value,V=e.pstyle("border-position").value,X=e.pstyle("border-dash-pattern").pfValue,K=e.pstyle("border-dash-offset").pfValue,k=e.pstyle("border-opacity").value*y,q=e.pstyle("outline-width").pfValue,j=e.pstyle("outline-color").value,Q=e.pstyle("outline-style").value,J=e.pstyle("outline-opacity").value*y,ne=e.pstyle("outline-offset").value,ue=e.pstyle("corner-radius").value;ue!=="auto"&&(ue=e.pstyle("corner-radius").pfValue);var pe=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;u.eleFillStyle(t,e,Me)},ie=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k;u.colorStrokeStyle(t,P[0],P[1],P[2],Me)},ee=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J;u.colorStrokeStyle(t,j[0],j[1],j[2],Me)},W=function(Me,de,H,re){var he=u.nodePathCache=u.nodePathCache||[],fe=KE(H==="polygon"?H+","+re.join(","):H,""+de,""+Me,""+ue),me=he[fe],_e,Te=!1;return me!=null?(_e=me,Te=!0,v.pathCache=_e):(_e=new Path2D,he[fe]=v.pathCache=_e),{path:_e,cacheHit:Te}},ae=e.pstyle("shape").strValue,ce=e.pstyle("shape-polygon-points").pfValue;if(p){t.translate(g.x,g.y);var xe=W(f,h,ae,ce);m=xe.path,E=xe.cacheHit}var Se=function(){if(!E){var Me=g;p&&(Me={x:0,y:0}),u.nodeShapes[u.getNodeShape(e)].draw(m||t,Me.x,Me.y,f,h,ue,v)}p?t.fill(m):t.fill()},Oe=function(){for(var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y,de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,H=c.backgrounding,re=0,he=0;he<L.length;he++){var fe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",he);if(de&&fe==="over"||!de&&fe==="inside"){re++;continue}O[he]&&L[he].complete&&!L[he].error&&(re++,u.drawInscribedImage(t,L[he],e,he,Me))}c.backgrounding=re!==_,H!==c.backgrounding&&e.updateStyle(!1)},Ue=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;u.hasPie(e)&&(u.drawPie(t,e,de),Me&&(p||u.nodeShapes[u.getNodeShape(e)].draw(t,g.x,g.y,f,h,ue,v)))},Ae=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;u.hasStripe(e)&&(t.save(),p?t.clip(v.pathCache):(u.nodeShapes[u.getNodeShape(e)].draw(t,g.x,g.y,f,h,ue,v),t.clip()),u.drawStripe(t,e,de),t.restore(),Me&&(p||u.nodeShapes[u.getNodeShape(e)].draw(t,g.x,g.y,f,h,ue,v)))},De=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y,de=(B>0?B:-B)*Me,H=B>0?0:255;B!==0&&(u.colorFillStyle(t,H,H,H,de),p?t.fill(m):t.fill())},we=function(){if(z>0){if(t.lineWidth=z,t.lineCap=G,t.lineJoin=U,t.setLineDash)switch(Y){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(X),t.lineDashOffset=K;break;case"solid":case"double":t.setLineDash([]);break}if(V!=="center"){if(t.save(),t.lineWidth*=2,V==="inside")p?t.clip(m):t.clip();else{var Me=new Path2D;Me.rect(-f/2-z,-h/2-z,f+2*z,h+2*z),Me.addPath(m),t.clip(Me,"evenodd")}p?t.stroke(m):t.stroke(),t.restore()}else p?t.stroke(m):t.stroke();if(Y==="double"){t.lineWidth=z/3;var de=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(m):t.stroke(),t.globalCompositeOperation=de}t.setLineDash&&t.setLineDash([])}},Ne=function(){if(q>0){if(t.lineWidth=q,t.lineCap="butt",t.setLineDash)switch(Q){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var Me=g;p&&(Me={x:0,y:0});var de=u.getNodeShape(e),H=z;V==="inside"&&(H=0),V==="outside"&&(H*=2);var re=(f+H+(q+ne))/f,he=(h+H+(q+ne))/h,fe=f*re,me=h*he,_e=u.nodeShapes[de].points,Te;if(p){var Ge=W(fe,me,de,_e);Te=Ge.path}if(de==="ellipse")u.drawEllipsePath(Te||t,Me.x,Me.y,fe,me);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(de)){var Be=0,Fe=0,We=0;de==="round-diamond"?Be=(H+ne+q)*1.4:de==="round-heptagon"?(Be=(H+ne+q)*1.075,We=-(H/2+ne+q)/35):de==="round-hexagon"?Be=(H+ne+q)*1.12:de==="round-pentagon"?(Be=(H+ne+q)*1.13,We=-(H/2+ne+q)/15):de==="round-tag"?(Be=(H+ne+q)*1.12,Fe=(H/2+q+ne)*.07):de==="round-triangle"&&(Be=(H+ne+q)*(Math.PI/2),We=-(H+ne/2+q)/Math.PI),Be!==0&&(re=(f+Be)/f,fe=f*re,["round-hexagon","round-tag"].includes(de)||(he=(h+Be)/h,me=h*he)),ue=ue==="auto"?nx(fe,me):ue;for(var Je=fe/2,ke=me/2,nt=ue+(H+q+ne)/2,at=new Array(_e.length/2),Ut=new Array(_e.length/2),wt=0;wt<_e.length/2;wt++)at[wt]={x:Me.x+Fe+Je*_e[wt*2],y:Me.y+We+ke*_e[wt*2+1]};var ma,Gt,Xt,qt,jt=at.length;for(Gt=at[jt-1],ma=0;ma<jt;ma++)Xt=at[ma%jt],qt=at[(ma+1)%jt],Ut[ma]=Ug(Gt,Xt,qt,nt),Gt=Xt,Xt=qt;u.drawRoundPolygonPath(Te||t,Me.x+Fe,Me.y+We,f*re,h*he,_e,Ut)}else if(["roundrectangle","round-rectangle"].includes(de))ue=ue==="auto"?Wn(fe,me):ue,u.drawRoundRectanglePath(Te||t,Me.x,Me.y,fe,me,ue+(H+q+ne)/2);else if(["cutrectangle","cut-rectangle"].includes(de))ue=ue==="auto"?Dg():ue,u.drawCutRectanglePath(Te||t,Me.x,Me.y,fe,me,null,ue+(H+q+ne)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(de))ue=ue==="auto"?Wn(fe,me):ue,u.drawBottomRoundRectanglePath(Te||t,Me.x,Me.y,fe,me,ue+(H+q+ne)/2);else if(de==="barrel")u.drawBarrelPath(Te||t,Me.x,Me.y,fe,me);else if(de.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(de)){var lr=(H+q+ne)/f;_e=Sf(Cf(_e,lr)),u.drawPolygonPath(Te||t,Me.x,Me.y,f,h,_e)}else{var Pt=(H+q+ne)/f;_e=Sf(Cf(_e,-Pt)),u.drawPolygonPath(Te||t,Me.x,Me.y,f,h,_e)}if(p?t.stroke(Te):t.stroke(),Q==="double"){t.lineWidth=H/3;var sr=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(Te):t.stroke(),t.globalCompositeOperation=sr}t.setLineDash&&t.setLineDash([])}},Le=function(){l&&u.drawNodeOverlay(t,e,g,f,h)},Ye=function(){l&&u.drawNodeUnderlay(t,e,g,f,h)},Ce=function(){u.drawElementText(t,e,null,n)},je=e.pstyle("ghost").value==="yes";if(je){var qe=e.pstyle("ghost-offset-x").pfValue,Qe=e.pstyle("ghost-offset-y").pfValue,$e=e.pstyle("ghost-opacity").value,ut=$e*y;t.translate(qe,Qe),ee(),Ne(),pe($e*I),Se(),Oe(ut,!0),ie($e*k),we(),Ue(B!==0||z!==0),Ae(B!==0||z!==0),Oe(ut,!1),De(ut),t.translate(-qe,-Qe)}p&&t.translate(-g.x,-g.y),Ye(),p&&t.translate(g.x,g.y),ee(),Ne(),pe(),Se(),Oe(y,!0),ie(),we(),Ue(B!==0||z!==0),Ae(B!==0||z!==0),Oe(y,!1),De(),p&&t.translate(-g.x,-g.y),Ce(),Le(),a&&t.translate(T.x1,T.y1)}};var fT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(a,n,l,s,u){var f=this;if(n.visible()){var h=n.pstyle("".concat(e,"-padding")).pfValue,c=n.pstyle("".concat(e,"-opacity")).value,v=n.pstyle("".concat(e,"-color")).value,g=n.pstyle("".concat(e,"-shape")).value,y=n.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(l=l||n.position(),s==null||u==null){var p=n.padding();s=n.width()+2*p,u=n.height()+2*p}f.colorFillStyle(a,v[0],v[1],v[2],c),f.nodeShapes[g].draw(a,l.x,l.y,s+h*2,u+h*2,y),a.fill()}}}};ii.drawNodeOverlay=fT("overlay");ii.drawNodeUnderlay=fT("underlay");ii.hasPie=function(t){return t=t[0],t._private.hasPie};ii.hasStripe=function(t){return t=t[0],t._private.hasStripe};ii.drawPie=function(t,e,a,n){e=e[0],n=n||e.position();var l=e.cy().style(),s=e.pstyle("pie-size"),u=e.pstyle("pie-hole"),f=e.pstyle("pie-start-angle").pfValue,h=n.x,c=n.y,v=e.width(),g=e.height(),y=Math.min(v,g)/2,p,m=0,E=this.usePaths();if(E&&(h=0,c=0),s.units==="%"?y=y*s.pfValue:s.pfValue!==void 0&&(y=s.pfValue/2),u.units==="%"?p=y*u.pfValue:u.pfValue!==void 0&&(p=u.pfValue/2),!(p>=y))for(var x=1;x<=l.pieBackgroundN;x++){var T=e.pstyle("pie-"+x+"-background-size").value,C=e.pstyle("pie-"+x+"-background-color").value,S=e.pstyle("pie-"+x+"-background-opacity").value*a,O=T/100;O+m>1&&(O=1-m);var L=1.5*Math.PI+2*Math.PI*m;L+=f;var _=2*Math.PI*O,D=L+_;T===0||m>=1||m+O>1||(p===0?(t.beginPath(),t.moveTo(h,c),t.arc(h,c,y,L,D),t.closePath()):(t.beginPath(),t.arc(h,c,y,L,D),t.arc(h,c,p,D,L,!0),t.closePath()),this.colorFillStyle(t,C[0],C[1],C[2],S),t.fill(),m+=O)}};ii.drawStripe=function(t,e,a,n){e=e[0],n=n||e.position();var l=e.cy().style(),s=n.x,u=n.y,f=e.width(),h=e.height(),c=0,v=this.usePaths();t.save();var g=e.pstyle("stripe-direction").value,y=e.pstyle("stripe-size");switch(g){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var p=f,m=h;y.units==="%"?(p=p*y.pfValue,m=m*y.pfValue):y.pfValue!==void 0&&(p=y.pfValue,m=y.pfValue),v&&(s=0,u=0),u-=p/2,s-=m/2;for(var E=1;E<=l.stripeBackgroundN;E++){var x=e.pstyle("stripe-"+E+"-background-size").value,T=e.pstyle("stripe-"+E+"-background-color").value,C=e.pstyle("stripe-"+E+"-background-opacity").value*a,S=x/100;S+c>1&&(S=1-c),!(x===0||c>=1||c+S>1)&&(t.beginPath(),t.rect(s,u+m*c,p,m*S),t.closePath(),this.colorFillStyle(t,T[0],T[1],T[2],C),t.fill(),c+=S)}t.restore()};var Ua={},TM=100;Ua.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),a=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/a};Ua.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],a=!0,n,l=0;l<e.length;l++)if(n=e[l],n.context===t){a=!1;break}return a&&(n={context:t},e.push(n)),n};Ua.createGradientStyleFor=function(t,e,a,n,l){var s,u=this.usePaths(),f=a.pstyle(e+"-gradient-stop-colors").value,h=a.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(a.isEdge()){var c=a.sourceEndpoint(),v=a.targetEndpoint(),g=a.midpoint(),y=_i(c,g),p=_i(v,g);s=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(y,p))}else{var m=u?{x:0,y:0}:a.position(),E=a.paddedWidth(),x=a.paddedHeight();s=t.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(E,x))}else if(a.isEdge()){var T=a.sourceEndpoint(),C=a.targetEndpoint();s=t.createLinearGradient(T.x,T.y,C.x,C.y)}else{var S=u?{x:0,y:0}:a.position(),O=a.paddedWidth(),L=a.paddedHeight(),_=O/2,D=L/2,A=a.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":s=t.createLinearGradient(S.x,S.y-D,S.x,S.y+D);break;case"to-top":s=t.createLinearGradient(S.x,S.y+D,S.x,S.y-D);break;case"to-left":s=t.createLinearGradient(S.x+_,S.y,S.x-_,S.y);break;case"to-right":s=t.createLinearGradient(S.x-_,S.y,S.x+_,S.y);break;case"to-bottom-right":case"to-right-bottom":s=t.createLinearGradient(S.x-_,S.y-D,S.x+_,S.y+D);break;case"to-top-right":case"to-right-top":s=t.createLinearGradient(S.x-_,S.y+D,S.x+_,S.y-D);break;case"to-bottom-left":case"to-left-bottom":s=t.createLinearGradient(S.x+_,S.y-D,S.x-_,S.y+D);break;case"to-top-left":case"to-left-top":s=t.createLinearGradient(S.x+_,S.y+D,S.x-_,S.y-D);break}}if(!s)return null;for(var R=h.length===f.length,M=f.length,B=0;B<M;B++)s.addColorStop(R?h[B]:B/(M-1),"rgba("+f[B][0]+","+f[B][1]+","+f[B][2]+","+l+")");return s};Ua.gradientFillStyle=function(t,e,a,n){var l=this.createGradientStyleFor(t,"background",e,a,n);if(!l)return null;t.fillStyle=l};Ua.colorFillStyle=function(t,e,a,n,l){t.fillStyle="rgba("+e+","+a+","+n+","+l+")"};Ua.eleFillStyle=function(t,e,a){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,a);else{var l=e.pstyle("background-color").value;this.colorFillStyle(t,l[0],l[1],l[2],a)}};Ua.gradientStrokeStyle=function(t,e,a,n){var l=this.createGradientStyleFor(t,"line",e,a,n);if(!l)return null;t.strokeStyle=l};Ua.colorStrokeStyle=function(t,e,a,n,l){t.strokeStyle="rgba("+e+","+a+","+n+","+l+")"};Ua.eleStrokeStyle=function(t,e,a){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,a);else{var l=e.pstyle("line-color").value;this.colorStrokeStyle(t,l[0],l[1],l[2],a)}};Ua.matchCanvasSize=function(t){var e=this,a=e.data,n=e.findContainerClientCoords(),l=n[2],s=n[3],u=e.getPixelRatio(),f=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(u=f);var h=l*u,c=s*u,v;if(!(h===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var g=a.canvasContainer;g.style.width=l+"px",g.style.height=s+"px";for(var y=0;y<e.CANVAS_LAYERS;y++)v=a.canvases[y],v.width=h,v.height=c,v.style.width=l+"px",v.style.height=s+"px";for(var y=0;y<e.BUFFER_COUNT;y++)v=a.bufferCanvases[y],v.width=h,v.height=c,v.style.width=l+"px",v.style.height=s+"px";e.textureMult=1,u<=1&&(v=a.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=h*e.textureMult,v.height=c*e.textureMult),e.canvasWidth=h,e.canvasHeight=c,e.pixelRatio=u}};Ua.renderTo=function(t,e,a,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:a,drawAllLayers:!0,forcedPxRatio:n})};Ua.clearCanvas=function(){var t=this,e=t.data;function a(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}a(e.contexts[t.NODE]),a(e.contexts[t.DRAG])};Ua.render=function(t){var e=this;t=t||$E();var a=e.cy,n=t.forcedContext,l=t.drawAllLayers,s=t.drawOnlyNodeLayer,u=t.forcedZoom,f=t.forcedPan,h=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,c=e.data,v=c.canvasNeedsRedraw,g=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),y=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,p=e.motionBlurPxRatio,m=a.hasCompoundNodes(),E=e.hoverData.draggingEles,x=!!(e.hoverData.selecting||e.touchData.selecting);y=y&&!n&&e.motionBlurEnabled&&!x;var T=y;n||(e.prevPxRatio!==h&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=h),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),y&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(T=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!g&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var C=a.style(),S=a.zoom(),O=u!==void 0?u:S,L=a.pan(),_={x:L.x,y:L.y},D={zoom:S,pan:{x:L.x,y:L.y}},A=e.prevViewport,R=A===void 0||D.zoom!==A.zoom||D.pan.x!==A.pan.x||D.pan.y!==A.pan.y;!R&&!(E&&!m)&&(e.motionBlurPxRatio=1),f&&(_=f),O*=h,_.x*=h,_.y*=h;var M=e.getCachedZSortedEles();function B(ie,ee,W,ae,ce){var xe=ie.globalCompositeOperation;ie.globalCompositeOperation="destination-out",e.colorFillStyle(ie,255,255,255,e.motionBlurTransparency),ie.fillRect(ee,W,ae,ce),ie.globalCompositeOperation=xe}function z(ie,ee){var W,ae,ce,xe;!e.clearingMotionBlur&&(ie===c.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ie===c.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(W={x:L.x*p,y:L.y*p},ae=S*p,ce=e.canvasWidth*p,xe=e.canvasHeight*p):(W=_,ae=O,ce=e.canvasWidth,xe=e.canvasHeight),ie.setTransform(1,0,0,1,0,0),ee==="motionBlur"?B(ie,0,0,ce,xe):!n&&(ee===void 0||ee)&&ie.clearRect(0,0,ce,xe),l||(ie.translate(W.x,W.y),ie.scale(ae,ae)),f&&ie.translate(f.x,f.y),u&&ie.scale(u,u)}if(g||(e.textureDrawLastFrame=!1),g){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=a.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var I=e.data.bufferContexts[e.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:h*e.textureMult});var D=e.textureCache.viewport={zoom:a.zoom(),pan:a.pan(),width:e.canvasWidth,height:e.canvasHeight};D.mpan={x:(0-D.pan.x)/D.zoom,y:(0-D.pan.y)/D.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var P=c.contexts[e.NODE],Y=e.textureCache.texture,D=e.textureCache.viewport;P.setTransform(1,0,0,1,0,0),y?B(P,0,0,D.width,D.height):P.clearRect(0,0,D.width,D.height);var U=C.core("outside-texture-bg-color").value,G=C.core("outside-texture-bg-opacity").value;e.colorFillStyle(P,U[0],U[1],U[2],G),P.fillRect(0,0,D.width,D.height);var S=a.zoom();z(P,!1),P.clearRect(D.mpan.x,D.mpan.y,D.width/D.zoom/h,D.height/D.zoom/h),P.drawImage(Y,D.mpan.x,D.mpan.y,D.width/D.zoom/h,D.height/D.zoom/h)}else e.textureOnViewport&&!n&&(e.textureCache=null);var V=a.extent(),X=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),K=e.hideEdgesOnViewport&&X,k=[];if(k[e.NODE]=!v[e.NODE]&&y&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,k[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),k[e.DRAG]=!v[e.DRAG]&&y&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,k[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||l||s||k[e.NODE]){var q=y&&!k[e.NODE]&&p!==1,P=n||(q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:c.contexts[e.NODE]),j=y&&!q?"motionBlur":void 0;z(P,j),K?e.drawCachedNodes(P,M.nondrag,h,V):e.drawLayeredElements(P,M.nondrag,h,V),e.debug&&e.drawDebugPoints(P,M.nondrag),!l&&!y&&(v[e.NODE]=!1)}if(!s&&(v[e.DRAG]||l||k[e.DRAG])){var q=y&&!k[e.DRAG]&&p!==1,P=n||(q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:c.contexts[e.DRAG]);z(P,y&&!q?"motionBlur":void 0),K?e.drawCachedNodes(P,M.drag,h,V):e.drawCachedElements(P,M.drag,h,V),e.debug&&e.drawDebugPoints(P,M.drag),!l&&!y&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,z),y&&p!==1){var Q=c.contexts[e.NODE],J=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],ne=c.contexts[e.DRAG],ue=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],pe=function(ee,W,ae){ee.setTransform(1,0,0,1,0,0),ae||!T?ee.clearRect(0,0,e.canvasWidth,e.canvasHeight):B(ee,0,0,e.canvasWidth,e.canvasHeight);var ce=p;ee.drawImage(W,0,0,e.canvasWidth*ce,e.canvasHeight*ce,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||k[e.NODE])&&(pe(Q,J,k[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||k[e.DRAG])&&(pe(ne,ue,k[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=D,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),y&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!g,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},TM)),n||a.emit("render")};var Hs;Ua.drawSelectionRectangle=function(t,e){var a=this,n=a.cy,l=a.data,s=n.style(),u=t.drawOnlyNodeLayer,f=t.drawAllLayers,h=l.canvasNeedsRedraw,c=t.forcedContext;if(a.showFps||!u&&h[a.SELECT_BOX]&&!f){var v=c||l.contexts[a.SELECT_BOX];if(e(v),a.selection[4]==1&&(a.hoverData.selecting||a.touchData.selecting)){var g=a.cy.zoom(),y=s.core("selection-box-border-width").value/g;v.lineWidth=y,v.fillStyle="rgba("+s.core("selection-box-color").value[0]+","+s.core("selection-box-color").value[1]+","+s.core("selection-box-color").value[2]+","+s.core("selection-box-opacity").value+")",v.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),y>0&&(v.strokeStyle="rgba("+s.core("selection-box-border-color").value[0]+","+s.core("selection-box-border-color").value[1]+","+s.core("selection-box-border-color").value[2]+","+s.core("selection-box-opacity").value+")",v.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(l.bgActivePosistion&&!a.hoverData.selecting){var g=a.cy.zoom(),p=l.bgActivePosistion;v.fillStyle="rgba("+s.core("active-bg-color").value[0]+","+s.core("active-bg-color").value[1]+","+s.core("active-bg-color").value[2]+","+s.core("active-bg-opacity").value+")",v.beginPath(),v.arc(p.x,p.y,s.core("active-bg-size").pfValue/g,0,2*Math.PI),v.fill()}var m=a.lastRedrawTime;if(a.showFps&&m){m=Math.round(m);var E=Math.round(1e3/m),x="1 frame = "+m+" ms = "+E+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!Hs){var T=v.measureText(x);Hs=T.actualBoundingBoxAscent}v.fillText(x,0,Hs);var C=60;v.strokeRect(0,Hs+10,250,20),v.fillRect(0,Hs+10,250*Math.min(E/C,1),20)}f||(h[a.SELECT_BOX]=!1)}};function uE(t,e,a){var n=t.createShader(e);if(t.shaderSource(n,a),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function wM(t,e,a){var n=uE(t,t.VERTEX_SHADER,e),l=uE(t,t.FRAGMENT_SHADER,a),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,l),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw new Error("Could not initialize shaders");return s}function SM(t,e,a){a===void 0&&(a=e);var n=t.makeOffscreenCanvas(e,a),l=n.context=n.getContext("2d");return n.clear=function(){return l.clearRect(0,0,n.width,n.height)},n.clear(),n}function Fg(t){var e=t.pixelRatio,a=t.cy.zoom(),n=t.cy.pan();return{zoom:a*e,pan:{x:n.x*e,y:n.y*e}}}function CM(t){var e=t.pixelRatio,a=t.cy.zoom();return a*e}function AM(t,e,a,n,l){var s=n*a+e.x,u=l*a+e.y;return u=Math.round(t.canvasHeight-u),[s,u]}function DM(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function RM(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}function Ci(t,e,a){var n=t[0]/255,l=t[1]/255,s=t[2]/255,u=e,f=a||new Array(4);return f[0]=n*u,f[1]=l*u,f[2]=s*u,f[3]=u,f}function Dl(t,e){var a=e||new Array(4);return a[0]=(t>>0&255)/255,a[1]=(t>>8&255)/255,a[2]=(t>>16&255)/255,a[3]=(t>>24&255)/255,a}function OM(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function MM(t,e){var a=t.createTexture();return a.buffer=function(n){t.bindTexture(t.TEXTURE_2D,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},a.deleteTexture=function(){t.deleteTexture(a)},a}function cT(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function hT(t,e,a){switch(e){case t.FLOAT:return new Float32Array(a);case t.INT:return new Int32Array(a)}}function LM(t,e,a,n,l,s){switch(e){case t.FLOAT:return new Float32Array(a.buffer,s*n,l);case t.INT:return new Int32Array(a.buffer,s*n,l)}}function NM(t,e,a,n){var l=cT(t,e),s=aa(l,2),u=s[0],f=s[1],h=hT(t,f,n),c=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,h,t.STATIC_DRAW),f===t.FLOAT?t.vertexAttribPointer(a,u,f,!1,0,0):f===t.INT&&t.vertexAttribIPointer(a,u,f,0,0),t.enableVertexAttribArray(a),t.bindBuffer(t.ARRAY_BUFFER,null),c}function _r(t,e,a,n){var l=cT(t,a),s=aa(l,3),u=s[0],f=s[1],h=s[2],c=hT(t,f,e*u),v=u*h,g=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,g),t.bufferData(t.ARRAY_BUFFER,e*v,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),f===t.FLOAT?t.vertexAttribPointer(n,u,f,!1,v,0):f===t.INT&&t.vertexAttribIPointer(n,u,f,v,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var y=new Array(e),p=0;p<e;p++)y[p]=LM(t,f,c,v,u,p);return g.dataArray=c,g.stride=v,g.size=u,g.getView=function(m){return y[m]},g.setPoint=function(m,E,x){var T=y[m];T[0]=E,T[1]=x},g.bufferSubData=function(m){t.bindBuffer(t.ARRAY_BUFFER,g),m?t.bufferSubData(t.ARRAY_BUFFER,0,c,0,m*u):t.bufferSubData(t.ARRAY_BUFFER,0,c)},g}function BM(t,e,a){for(var n=9,l=new Float32Array(e*n),s=new Array(e),u=0;u<e;u++){var f=u*n*4;s[u]=new Float32Array(l.buffer,f,n)}var h=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,l.byteLength,t.DYNAMIC_DRAW);for(var c=0;c<3;c++){var v=a+c;t.enableVertexAttribArray(v),t.vertexAttribPointer(v,3,t.FLOAT,!1,36,c*12),t.vertexAttribDivisor(v,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),h.getMatrixView=function(g){return s[g]},h.setData=function(g,y){s[y].set(g,0)},h.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferSubData(t.ARRAY_BUFFER,0,l)},h}function _M(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var a=t.createTexture();return t.bindTexture(t.TEXTURE_2D,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,l){t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,l,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var oE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Fd(){var t=new oE(9);return oE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function fE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function zM(t,e,a){var n=e[0],l=e[1],s=e[2],u=e[3],f=e[4],h=e[5],c=e[6],v=e[7],g=e[8],y=a[0],p=a[1],m=a[2],E=a[3],x=a[4],T=a[5],C=a[6],S=a[7],O=a[8];return t[0]=y*n+p*u+m*c,t[1]=y*l+p*f+m*v,t[2]=y*s+p*h+m*g,t[3]=E*n+x*u+T*c,t[4]=E*l+x*f+T*v,t[5]=E*s+x*h+T*g,t[6]=C*n+S*u+O*c,t[7]=C*l+S*f+O*v,t[8]=C*s+S*h+O*g,t}function pf(t,e,a){var n=e[0],l=e[1],s=e[2],u=e[3],f=e[4],h=e[5],c=e[6],v=e[7],g=e[8],y=a[0],p=a[1];return t[0]=n,t[1]=l,t[2]=s,t[3]=u,t[4]=f,t[5]=h,t[6]=y*n+p*u+c,t[7]=y*l+p*f+v,t[8]=y*s+p*h+g,t}function cE(t,e,a){var n=e[0],l=e[1],s=e[2],u=e[3],f=e[4],h=e[5],c=e[6],v=e[7],g=e[8],y=Math.sin(a),p=Math.cos(a);return t[0]=p*n+y*u,t[1]=p*l+y*f,t[2]=p*s+y*h,t[3]=p*u-y*n,t[4]=p*f-y*l,t[5]=p*h-y*s,t[6]=c,t[7]=v,t[8]=g,t}function fg(t,e,a){var n=a[0],l=a[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=l*e[3],t[4]=l*e[4],t[5]=l*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function kM(t,e,a){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var IM=(function(){function t(e,a,n,l){ai(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=a,this.texRows=n,this.texHeight=Math.floor(a/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=l(e,a,a),this.scratch=l(e,a,this.texHeight,"scratch")}return ri(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(a){var n=a.w,l=a.h,s=this.texHeight,u=this.texSize,f=s/l,h=n*f,c=l*f;return h>u&&(f=u/n,h=n*f,c=l*f),{scale:f,texW:h,texH:c}}},{key:"draw",value:function(a,n,l){var s=this;if(this.locked)throw new Error("can't draw, atlas is locked");var u=this.texSize,f=this.texRows,h=this.texHeight,c=this.getScale(n),v=c.scale,g=c.texW,y=c.texH,p=function(S,O){if(l&&O){var L=O.context,_=S.x,D=S.row,A=_,R=h*D;L.save(),L.translate(A,R),L.scale(v,v),l(L,n),L.restore()}},m=[null,null],E=function(){p(s.freePointer,s.canvas),m[0]={x:s.freePointer.x,y:s.freePointer.row*h,w:g,h:y},m[1]={x:s.freePointer.x+g,y:s.freePointer.row*h,w:0,h:y},s.freePointer.x+=g,s.freePointer.x==u&&(s.freePointer.x=0,s.freePointer.row++)},x=function(){var S=s.scratch,O=s.canvas;S.clear(),p({x:0,row:0},S);var L=u-s.freePointer.x,_=g-L,D=h;{var A=s.freePointer.x,R=s.freePointer.row*h,M=L;O.context.drawImage(S,0,0,M,D,A,R,M,D),m[0]={x:A,y:R,w:M,h:y}}{var B=L,z=(s.freePointer.row+1)*h,I=_;O&&O.context.drawImage(S,B,0,I,D,0,z,I,D),m[1]={x:0,y:z,w:I,h:y}}s.freePointer.x=_,s.freePointer.row++},T=function(){s.freePointer.x=0,s.freePointer.row++};if(this.freePointer.x+g<=u)E();else{if(this.freePointer.row>=f-1)return!1;this.freePointer.x===u?(T(),E()):this.enableWrapping?x():(T(),E())}return this.keyToLocation.set(a,m),this.needsBuffer=!0,m}},{key:"getOffsets",value:function(a){return this.keyToLocation.get(a)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(a){if(this.locked)return!1;var n=this.texSize,l=this.texRows,s=this.getScale(a),u=s.texW;return this.freePointer.x+u>n?this.freePointer.row<l-1:!0}},{key:"bufferIfNeeded",value:function(a){this.texture||(this.texture=MM(a,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),UM=(function(){function t(e,a,n,l){ai(this,t),this.r=e,this.texSize=a,this.texRows=n,this.createTextureCanvas=l,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return ri(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var a=this.r,n=this.texSize,l=this.texRows,s=this.createTextureCanvas;return new IM(a,n,l,s)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var a=this.r,n=this.texSize,l=this.texRows,s=this.createTextureCanvas,u=Math.floor(n/l);this.scratch=s(a,n,u,"scratch")}return this.scratch}},{key:"draw",value:function(a,n,l){var s=this.styleKeyToAtlas.get(a);return s||(s=this.atlases[this.atlases.length-1],(!s||!s.canFit(n))&&(s&&s.lock(),s=this._createAtlas(),this.atlases.push(s)),s.draw(a,n,l),this.styleKeyToAtlas.set(a,s)),s}},{key:"getAtlas",value:function(a){return this.styleKeyToAtlas.get(a)}},{key:"hasAtlas",value:function(a){return this.styleKeyToAtlas.has(a)}},{key:"markKeyForGC",value:function(a){this.markedKeys.add(a)}},{key:"gc",value:function(){var a=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var l=[],s=new Map,u=null,f=Za(this.atlases),h;try{var c=function(){var g=h.value,y=g.getKeys(),p=GM(n,y);if(p.size===0)return l.push(g),y.forEach(function(L){return s.set(L,g)}),1;u||(u=a._createAtlas(),l.push(u));var m=Za(y),E;try{for(m.s();!(E=m.n()).done;){var x=E.value;if(!p.has(x)){var T=g.getOffsets(x),C=aa(T,2),S=C[0],O=C[1];u.canFit({w:S.w+O.w,h:S.h})||(u.lock(),u=a._createAtlas(),l.push(u)),g.canvas&&(a._copyTextureToNewAtlas(x,g,u),s.set(x,u))}}}catch(L){m.e(L)}finally{m.f()}g.dispose()};for(f.s();!(h=f.n()).done;)c()}catch(v){f.e(v)}finally{f.f()}this.atlases=l,this.styleKeyToAtlas=s,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(a,n,l){var s=n.getOffsets(a),u=aa(s,2),f=u[0],h=u[1];if(h.w===0)l.draw(a,f,function(y){y.drawImage(n.canvas,f.x,f.y,f.w,f.h,0,0,f.w,f.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(n.canvas,f.x,f.y,f.w,f.h,0,0,f.w,f.h),c.context.drawImage(n.canvas,h.x,h.y,h.w,h.h,f.w,0,h.w,h.h);var v=f.w+h.w,g=f.h;l.draw(a,{w:v,h:g},function(y){y.drawImage(c,0,0,v,g,0,0,v,g)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function GM(t,e){return t.intersection?t.intersection(e):new Set(Ef(t).filter(function(a){return e.has(a)}))}var PM=(function(){function t(e,a){ai(this,t),this.r=e,this.globalOptions=a,this.atlasSize=a.webglTexSize,this.maxAtlasesPerBatch=a.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return ri(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(a,n){var l=this.globalOptions,s=l.webglTexSize,u=l.createTextureCanvas,f=n.texRows,h=this._cacheScratchCanvas(u),c=new UM(this.r,s,f,h);this.collections.set(a,c)}},{key:"addRenderType",value:function(a,n){var l=n.collection;if(!this.collections.has(l))throw new Error("invalid atlas collection name '".concat(l,"'"));var s=this.collections.get(l),u=Ke({type:a,atlasCollection:s},n);this.renderTypes.set(a,u)}},{key:"getRenderTypeOpts",value:function(a){return this.renderTypes.get(a)}},{key:"getAtlasCollection",value:function(a){return this.collections.get(a)}},{key:"_cacheScratchCanvas",value:function(a){var n=-1,l=-1,s=null;return function(u,f,h,c){return c?((!s||f!=n||h!=l)&&(n=f,l=h,s=a(u,f,h)),s):a(u,f,h)}}},{key:"_key",value:function(a,n){return"".concat(a,"-").concat(n)}},{key:"invalidate",value:function(a){var n=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=l.forceRedraw,u=s===void 0?!1:s,f=l.filterEle,h=f===void 0?function(){return!0}:f,c=l.filterType,v=c===void 0?function(){return!0}:c,g=!1,y=!1,p=Za(a),m;try{for(p.s();!(m=p.n()).done;){var E=m.value;if(h(E)){var x=Za(this.renderTypes.values()),T;try{var C=function(){var O=T.value,L=O.type;if(v(L)){var _=n.collections.get(O.collection),D=O.getKey(E),A=Array.isArray(D)?D:[D];if(u)A.forEach(function(z){return _.markKeyForGC(z)}),y=!0;else{var R=O.getID?O.getID(E):E.id(),M=n._key(L,R),B=n.typeAndIdToKey.get(M);B!==void 0&&!RM(A,B)&&(g=!0,n.typeAndIdToKey.delete(M),B.forEach(function(z){return _.markKeyForGC(z)}))}}};for(x.s();!(T=x.n()).done;)C()}catch(S){x.e(S)}finally{x.f()}}}}catch(S){p.e(S)}finally{p.f()}return y&&(this.gc(),g=!1),g}},{key:"gc",value:function(){var a=Za(this.collections.values()),n;try{for(a.s();!(n=a.n()).done;){var l=n.value;l.gc()}}catch(s){a.e(s)}finally{a.f()}}},{key:"getOrCreateAtlas",value:function(a,n,l,s){var u=this.renderTypes.get(n),f=this.collections.get(u.collection),h=!1,c=f.draw(s,l,function(y){u.drawClipped?(y.save(),y.beginPath(),y.rect(0,0,l.w,l.h),y.clip(),u.drawElement(y,a,l,!0,!0),y.restore()):u.drawElement(y,a,l,!0,!0),h=!0});if(h){var v=u.getID?u.getID(a):a.id(),g=this._key(n,v);this.typeAndIdToKey.has(g)?this.typeAndIdToKey.get(g).push(s):this.typeAndIdToKey.set(g,[s])}return c}},{key:"getAtlasInfo",value:function(a,n){var l=this,s=this.renderTypes.get(n),u=s.getKey(a),f=Array.isArray(u)?u:[u];return f.map(function(h){var c=s.getBoundingBox(a,h),v=l.getOrCreateAtlas(a,n,c,h),g=v.getOffsets(h),y=aa(g,2),p=y[0],m=y[1];return{atlas:v,tex:p,tex1:p,tex2:m,bb:c}})}},{key:"getDebugInfo",value:function(){var a=[],n=Za(this.collections),l;try{for(n.s();!(l=n.n()).done;){var s=aa(l.value,2),u=s[0],f=s[1],h=f.getCounts(),c=h.keyCount,v=h.atlasCount;a.push({type:u,keyCount:c,atlasCount:v})}}catch(g){n.e(g)}finally{n.f()}return a}}])})(),FM=(function(){function t(e){ai(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return ri(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(a,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(a){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(a):!0}},{key:"getAtlasIndexForBatch",value:function(a){var n=this.batchAtlases.indexOf(a);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(a),n=this.batchAtlases.length-1}return n}}])})(),qM=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,HM=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,VM=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,YM=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,eu={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Nf={IGNORE:1,USE_BB:2},qd=0,hE=1,vE=2,Hd=3,Rl=4,Wo=5,Vs=6,Ys=7,XM=(function(){function t(e,a,n){ai(this,t),this.r=e,this.gl=a,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=SM,this.atlasManager=new PM(e,n),this.batchManager=new FM(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(eu.SCREEN),this.pickingProgram=this._createShaderProgram(eu.PICKING),this.vao=this._createVAO()}return ri(t,[{key:"addAtlasCollection",value:function(a,n){this.atlasManager.addAtlasCollection(a,n)}},{key:"addTextureAtlasRenderType",value:function(a,n){this.atlasManager.addRenderType(a,n)}},{key:"addSimpleShapeRenderType",value:function(a,n){this.simpleShapeOptions.set(a,n)}},{key:"invalidate",value:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=n.type,s=this.atlasManager;return l?s.invalidate(a,{filterType:function(f){return f===l},forceRedraw:!0}):s.invalidate(a)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(a){var n=this.gl,l=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(qd,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Rl," || aVertType == ").concat(Ys,` 
             || aVertType == `).concat(Wo," || aVertType == ").concat(Vs,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(hE,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(vE,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Hd,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),s=this.batchManager.getIndexArray(),u=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(s.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(qM,`
      `).concat(HM,`
      `).concat(VM,`
      `).concat(YM,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(qd,`) {
          // look up the texel from the texture unit
          `).concat(s.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Hd,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Rl,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Rl," || vVertType == ").concat(Ys,` 
          || vVertType == `).concat(Wo," || vVertType == ").concat(Vs,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Rl,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Ys,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Ys,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(a.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),f=wM(n,l,u);f.aPosition=n.getAttribLocation(f,"aPosition"),f.aIndex=n.getAttribLocation(f,"aIndex"),f.aVertType=n.getAttribLocation(f,"aVertType"),f.aTransform=n.getAttribLocation(f,"aTransform"),f.aAtlasId=n.getAttribLocation(f,"aAtlasId"),f.aTex=n.getAttribLocation(f,"aTex"),f.aPointAPointB=n.getAttribLocation(f,"aPointAPointB"),f.aPointCPointD=n.getAttribLocation(f,"aPointCPointD"),f.aLineWidth=n.getAttribLocation(f,"aLineWidth"),f.aColor=n.getAttribLocation(f,"aColor"),f.aCornerRadius=n.getAttribLocation(f,"aCornerRadius"),f.aBorderColor=n.getAttribLocation(f,"aBorderColor"),f.uPanZoomMatrix=n.getUniformLocation(f,"uPanZoomMatrix"),f.uAtlasSize=n.getUniformLocation(f,"uAtlasSize"),f.uBGColor=n.getUniformLocation(f,"uBGColor"),f.uZoom=n.getUniformLocation(f,"uZoom"),f.uTextures=[];for(var h=0;h<this.batchManager.getMaxAtlasesPerBatch();h++)f.uTextures.push(n.getUniformLocation(f,"uTexture".concat(h)));return f}},{key:"_createVAO",value:function(){var a=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=a.length/2;var n=this.maxInstances,l=this.gl,s=this.program,u=l.createVertexArray();return l.bindVertexArray(u),NM(l,"vec2",s.aPosition,a),this.transformBuffer=BM(l,n,s.aTransform),this.indexBuffer=_r(l,n,"vec4",s.aIndex),this.vertTypeBuffer=_r(l,n,"int",s.aVertType),this.atlasIdBuffer=_r(l,n,"int",s.aAtlasId),this.texBuffer=_r(l,n,"vec4",s.aTex),this.pointAPointBBuffer=_r(l,n,"vec4",s.aPointAPointB),this.pointCPointDBuffer=_r(l,n,"vec4",s.aPointCPointD),this.lineWidthBuffer=_r(l,n,"vec2",s.aLineWidth),this.colorBuffer=_r(l,n,"vec4",s.aColor),this.cornerRadiusBuffer=_r(l,n,"vec4",s.aCornerRadius),this.borderColorBuffer=_r(l,n,"vec4",s.aBorderColor),l.bindVertexArray(null),u}},{key:"buffers",get:function(){var a=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return Vn(n,"Buffer")}).map(function(n){return a[n]})),this._buffers}},{key:"startFrame",value:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eu.SCREEN;this.panZoomMatrix=a,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(a,n){return a.visible()?n&&n.isVisible?n.isVisible(a):!0:!1}},{key:"drawTexture",value:function(a,n,l){var s=this.atlasManager,u=this.batchManager,f=s.getRenderTypeOpts(l);if(this._isVisible(a,f)&&!(a.isEdge()&&!this._isValidEdge(a))){if(this.renderTarget.picking&&f.getTexPickingMode){var h=f.getTexPickingMode(a);if(h===Nf.IGNORE)return;if(h==Nf.USE_BB){this.drawPickingRectangle(a,n,l);return}}var c=s.getAtlasInfo(a,l),v=Za(c),g;try{for(v.s();!(g=v.n()).done;){var y=g.value,p=y.atlas,m=y.tex1,E=y.tex2;u.canAddToCurrentBatch(p)||this.endBatch();for(var x=u.getAtlasIndexForBatch(p),T=0,C=[[m,!0],[E,!1]];T<C.length;T++){var S=aa(C[T],2),O=S[0],L=S[1];if(O.w!=0){var _=this.instanceCount;this.vertTypeBuffer.getView(_)[0]=qd;var D=this.indexBuffer.getView(_);Dl(n,D);var A=this.atlasIdBuffer.getView(_);A[0]=x;var R=this.texBuffer.getView(_);R[0]=O.x,R[1]=O.y,R[2]=O.w,R[3]=O.h;var M=this.transformBuffer.getMatrixView(_);this.setTransformMatrix(a,M,f,y,L),this.instanceCount++,L||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(B){v.e(B)}finally{v.f()}}}},{key:"setTransformMatrix",value:function(a,n,l,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,f=0;if(l.shapeProps&&l.shapeProps.padding&&(f=a.pstyle(l.shapeProps.padding).pfValue),s){var h=s.bb,c=s.tex1,v=s.tex2,g=c.w/(c.w+v.w);u||(g=1-g);var y=this._getAdjustedBB(h,f,u,g);this._applyTransformMatrix(n,y,l,a)}else{var p=l.getBoundingBox(a),m=this._getAdjustedBB(p,f,!0,1);this._applyTransformMatrix(n,m,l,a)}}},{key:"_applyTransformMatrix",value:function(a,n,l,s){var u,f;fE(a);var h=l.getRotation?l.getRotation(s):0;if(h!==0){var c=l.getRotationPoint(s),v=c.x,g=c.y;pf(a,a,[v,g]),cE(a,a,h);var y=l.getRotationOffset(s);u=y.x+(n.xOffset||0),f=y.y+(n.yOffset||0)}else u=n.x1,f=n.y1;pf(a,a,[u,f]),fg(a,a,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(a,n,l,s){var u=a.x1,f=a.y1,h=a.w,c=a.h,v=a.yOffset;n&&(u-=n,f-=n,h+=2*n,c+=2*n);var g=0,y=h*s;return l&&s<1?h=y:!l&&s<1&&(g=h-y,u+=g,h=y),{x1:u,y1:f,w:h,h:c,xOffset:g,yOffset:v}}},{key:"drawPickingRectangle",value:function(a,n,l){var s=this.atlasManager.getRenderTypeOpts(l),u=this.instanceCount;this.vertTypeBuffer.getView(u)[0]=Rl;var f=this.indexBuffer.getView(u);Dl(n,f);var h=this.colorBuffer.getView(u);Ci([0,0,0],1,h);var c=this.transformBuffer.getMatrixView(u);this.setTransformMatrix(a,c,s),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(a,n,l){var s=this.simpleShapeOptions.get(l);if(this._isVisible(a,s)){var u=s.shapeProps,f=this._getVertTypeForShape(a,u.shape);if(f===void 0||s.isSimple&&!s.isSimple(a)){this.drawTexture(a,n,l);return}var h=this.instanceCount;if(this.vertTypeBuffer.getView(h)[0]=f,f===Wo||f===Vs){var c=s.getBoundingBox(a),v=this._getCornerRadius(a,u.radius,c),g=this.cornerRadiusBuffer.getView(h);g[0]=v,g[1]=v,g[2]=v,g[3]=v,f===Vs&&(g[0]=0,g[2]=0)}var y=this.indexBuffer.getView(h);Dl(n,y);var p=a.pstyle(u.color).value,m=a.pstyle(u.opacity).value,E=this.colorBuffer.getView(h);Ci(p,m,E);var x=this.lineWidthBuffer.getView(h);if(x[0]=0,x[1]=0,u.border){var T=a.pstyle("border-width").value;if(T>0){var C=a.pstyle("border-color").value,S=a.pstyle("border-opacity").value,O=this.borderColorBuffer.getView(h);Ci(C,S,O);var L=a.pstyle("border-position").value;if(L==="inside")x[0]=0,x[1]=-T;else if(L==="outside")x[0]=T,x[1]=0;else{var _=T/2;x[0]=_,x[1]=-_}}}var D=this.transformBuffer.getMatrixView(h);this.setTransformMatrix(a,D,s),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(a,n){var l=a.pstyle(n).value;switch(l){case"rectangle":return Rl;case"ellipse":return Ys;case"roundrectangle":case"round-rectangle":return Wo;case"bottom-round-rectangle":return Vs;default:return}}},{key:"_getCornerRadius",value:function(a,n,l){var s=l.w,u=l.h;if(a.pstyle(n).value==="auto")return Wn(s,u);var f=a.pstyle(n).pfValue,h=s/2,c=u/2;return Math.min(f,c,h)}},{key:"drawEdgeArrow",value:function(a,n,l){if(a.visible()){var s=a._private.rscratch,u,f,h;if(l==="source"?(u=s.arrowStartX,f=s.arrowStartY,h=s.srcArrowAngle):(u=s.arrowEndX,f=s.arrowEndY,h=s.tgtArrowAngle),!(isNaN(u)||u==null||isNaN(f)||f==null||isNaN(h)||h==null)){var c=a.pstyle(l+"-arrow-shape").value;if(c!=="none"){var v=a.pstyle(l+"-arrow-color").value,g=a.pstyle("opacity").value,y=a.pstyle("line-opacity").value,p=g*y,m=a.pstyle("width").pfValue,E=a.pstyle("arrow-scale").value,x=this.r.getArrowWidth(m,E),T=this.instanceCount,C=this.transformBuffer.getMatrixView(T);fE(C),pf(C,C,[u,f]),fg(C,C,[x,x]),cE(C,C,h),this.vertTypeBuffer.getView(T)[0]=Hd;var S=this.indexBuffer.getView(T);Dl(n,S);var O=this.colorBuffer.getView(T);Ci(v,p,O),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(a,n){if(a.visible()){var l=this._getEdgePoints(a);if(l){var s=a.pstyle("opacity").value,u=a.pstyle("line-opacity").value,f=a.pstyle("width").pfValue,h=a.pstyle("line-color").value,c=s*u;if(l.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),l.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=hE;var g=this.indexBuffer.getView(v);Dl(n,g);var y=this.colorBuffer.getView(v);Ci(h,c,y);var p=this.lineWidthBuffer.getView(v);p[0]=f;var m=this.pointAPointBBuffer.getView(v);m[0]=l[0],m[1]=l[1],m[2]=l[2],m[3]=l[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var E=0;E<l.length-2;E+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=vE;var T=this.indexBuffer.getView(x);Dl(n,T);var C=this.colorBuffer.getView(x);Ci(h,c,C);var S=this.lineWidthBuffer.getView(x);S[0]=f;var O=l[E-2],L=l[E-1],_=l[E],D=l[E+1],A=l[E+2],R=l[E+3],M=l[E+4],B=l[E+5];E==0&&(O=2*_-A+.001,L=2*D-R+.001),E==l.length-4&&(M=2*A-_+.001,B=2*R-D+.001);var z=this.pointAPointBBuffer.getView(x);z[0]=O,z[1]=L,z[2]=_,z[3]=D;var I=this.pointCPointDBuffer.getView(x);I[0]=A,I[1]=R,I[2]=M,I[3]=B,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(a){var n=a._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(a){var n=a._private.rscratch;if(this._isValidEdge(a)){var l=n.allpts;if(l.length==4)return l;var s=this._getNumSegments(a);return this._getCurveSegmentPoints(l,s)}}},{key:"_getNumSegments",value:function(a){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(a,n){if(a.length==4)return a;for(var l=Array((n+1)*2),s=0;s<=n;s++)if(s==0)l[0]=a[0],l[1]=a[1];else if(s==n)l[s*2]=a[a.length-2],l[s*2+1]=a[a.length-1];else{var u=s/n;this._setCurvePoint(a,u,l,s*2)}return l}},{key:"_setCurvePoint",value:function(a,n,l,s){if(a.length<=2)l[s]=a[0],l[s+1]=a[1];else{for(var u=Array(a.length-2),f=0;f<u.length;f+=2){var h=(1-n)*a[f]+n*a[f+2],c=(1-n)*a[f+1]+n*a[f+3];u[f]=h,u[f+1]=c}return this._setCurvePoint(u,n,l,s)}}},{key:"endBatch",value:function(){var a=this.gl,n=this.vao,l=this.vertexCount,s=this.instanceCount;if(s!==0){var u=this.renderTarget.picking?this.pickingProgram:this.program;a.useProgram(u),a.bindVertexArray(n);var f=Za(this.buffers),h;try{for(f.s();!(h=f.n()).done;){var c=h.value;c.bufferSubData(s)}}catch(m){f.e(m)}finally{f.f()}for(var v=this.batchManager.getAtlases(),g=0;g<v.length;g++)v[g].bufferIfNeeded(a);for(var y=0;y<v.length;y++)a.activeTexture(a.TEXTURE0+y),a.bindTexture(a.TEXTURE_2D,v[y].texture),a.uniform1i(u.uTextures[y],y);a.uniform1f(u.uZoom,CM(this.r)),a.uniformMatrix3fv(u.uPanZoomMatrix,!1,this.panZoomMatrix),a.uniform1i(u.uAtlasSize,this.batchManager.getAtlasSize());var p=Ci(this.bgColor,1);a.uniform4fv(u.uBGColor,p),a.drawArraysInstanced(a.TRIANGLES,0,l,s),a.bindVertexArray(null),a.bindTexture(a.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:s,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var a=this.atlasManager.getDebugInfo(),n=a.reduce(function(u,f){return u+f.atlasCount},0),l=this.batchDebugInfo,s=l.reduce(function(u,f){return u+f.count},0);return{atlasInfo:a,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:l.length,batchInfo:l,totalInstances:s}}}])})(),vT={};vT.initWebgl=function(t,e){var a=this,n=a.data.contexts[a.WEBGL];t.bgColor=jM(a),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),a.webglDebug=t.webglDebug,a.webglDebugShowAtlases=t.webglDebugShowAtlases,a.pickingFrameBuffer=_M(n),a.pickingFrameBuffer.needsDraw=!0,a.drawing=new XM(a,n,t);var l=function(g){return function(y){return a.getTextAngle(y,g)}},s=function(g){return function(y){var p=y.pstyle(g);return p&&p.value}},u=function(g){return function(y){return y.pstyle("".concat(g,"-opacity")).value>0}},f=function(g){var y=g.pstyle("text-events").strValue==="yes";return y?Nf.USE_BB:Nf.IGNORE},h=function(g){var y=g.position(),p=y.x,m=y.y,E=g.outerWidth(),x=g.outerHeight();return{w:E,h:x,x1:p-E/2,y1:m-x/2}};a.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),a.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),a.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),a.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:h,isSimple:DM,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),a.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:h,isVisible:u("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),a.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:h,isVisible:u("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),a.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:f,getKey:Vd(e.getLabelKey,null),getBoundingBox:Yd(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:l(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:s("label")}),a.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:f,getKey:Vd(e.getSourceLabelKey,"source"),getBoundingBox:Yd(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:l("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:s("source-label")}),a.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:f,getKey:Vd(e.getTargetLabelKey,"target"),getBoundingBox:Yd(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:l("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:s("target-label")});var c=pu(function(){console.log("garbage collect flag set"),a.data.gc=!0},1e4);a.onUpdateEleCalcs(function(v,g){var y=!1;g&&g.length>0&&(y|=a.drawing.invalidate(g)),y&&c()}),KM(a)};function jM(t){var e=t.cy.container(),a=e&&e.style&&e.style.backgroundColor||"white";return FE(a)}function dT(t,e){var a=t._private.rscratch;return ja(a,"labelWrapCachedLines",e)||[]}var Vd=function(e,a){return function(n){var l=e(n),s=dT(n,a);return s.length>1?s.map(function(u,f){return"".concat(l,"_").concat(f)}):l}},Yd=function(e,a){return function(n,l){var s=e(n);if(typeof l=="string"){var u=l.indexOf("_");if(u>0){var f=Number(l.substring(u+1)),h=dT(n,a),c=s.h/h.length,v=c*f,g=s.y1+v;return{x1:s.x1,w:s.w,y1:g,h:c,yOffset:v}}}return s}};function KM(t){{var e=t.render;t.render=function(s){s=s||{};var u=t.cy;t.webgl&&(u.zoom()>lT?(ZM(t),e.call(t,s)):(QM(t),pT(t,s,eu.SCREEN)))}}{var a=t.matchCanvasSize;t.matchCanvasSize=function(s){a.call(t,s),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(s,u,f,h){return aL(t,s,u)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var l=t.notify;t.notify=function(s,u){l.call(t,s,u),s==="viewport"||s==="bounds"?t.pickingFrameBuffer.needsDraw=!0:s==="background"&&t.drawing.invalidate(u,{type:"node-body"})}}}function ZM(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function QM(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function WM(t){var e=t.canvasWidth,a=t.canvasHeight,n=Fg(t),l=n.pan,s=n.zoom,u=Fd();pf(u,u,[l.x,l.y]),fg(u,u,[s,s]);var f=Fd();kM(f,e,a);var h=Fd();return zM(h,f,u),h}function gT(t,e){var a=t.canvasWidth,n=t.canvasHeight,l=Fg(t),s=l.pan,u=l.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,a,n),e.translate(s.x,s.y),e.scale(u,u)}function $M(t,e){t.drawSelectionRectangle(e,function(a){return gT(t,a)})}function JM(t){var e=t.data.contexts[t.NODE];e.save(),gT(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function eL(t){var e=function(l,s,u){for(var f=l.atlasManager.getAtlasCollection(s),h=t.data.contexts[t.NODE],c=f.atlases,v=0;v<c.length;v++){var g=c[v],y=g.canvas;if(y){var p=y.width,m=y.height,E=p*v,x=y.height*u,T=.4;h.save(),h.scale(T,T),h.drawImage(y,E,x),h.strokeStyle="black",h.rect(E,x,p,m),h.stroke(),h.restore()}}},a=0;e(t.drawing,"node",a++),e(t.drawing,"label",a++)}function tL(t,e,a,n,l){var s,u,f,h,c=Fg(t),v=c.pan,g=c.zoom;{var y=AM(t,v,g,e,a),p=aa(y,2),m=p[0],E=p[1],x=6;s=m-x/2,u=E-x/2,f=x,h=x}if(f===0||h===0)return[];var T=t.data.contexts[t.WEBGL];T.bindFramebuffer(T.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(T.viewport(0,0,T.canvas.width,T.canvas.height),pT(t,null,eu.PICKING),t.pickingFrameBuffer.needsDraw=!1);var C=f*h,S=new Uint8Array(C*4);T.readPixels(s,u,f,h,T.RGBA,T.UNSIGNED_BYTE,S),T.bindFramebuffer(T.FRAMEBUFFER,null);for(var O=new Set,L=0;L<C;L++){var _=S.slice(L*4,L*4+4),D=OM(_)-1;D>=0&&O.add(D)}return O}function aL(t,e,a){var n=tL(t,e,a),l=t.getCachedZSortedEles(),s,u,f=Za(n),h;try{for(f.s();!(h=f.n()).done;){var c=h.value,v=l[c];if(!s&&v.isNode()&&(s=v),!u&&v.isEdge()&&(u=v),s&&u)break}}catch(g){f.e(g)}finally{f.f()}return[s,u].filter(Boolean)}function Xd(t,e,a){var n=t.drawing;e+=1,a.isNode()?(n.drawNode(a,e,"node-underlay"),n.drawNode(a,e,"node-body"),n.drawTexture(a,e,"label"),n.drawNode(a,e,"node-overlay")):(n.drawEdgeLine(a,e),n.drawEdgeArrow(a,e,"source"),n.drawEdgeArrow(a,e,"target"),n.drawTexture(a,e,"label"),n.drawTexture(a,e,"edge-source-label"),n.drawTexture(a,e,"edge-target-label"))}function pT(t,e,a){var n;t.webglDebug&&(n=performance.now());var l=t.drawing,s=0;if(a.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&$M(t,e),t.data.canvasNeedsRedraw[t.NODE]||a.picking){var u=t.data.contexts[t.WEBGL];a.screen?(u.clearColor(0,0,0,0),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA)):u.disable(u.BLEND),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),u.viewport(0,0,u.canvas.width,u.canvas.height);var f=WM(t),h=t.getCachedZSortedEles();if(s=h.length,l.startFrame(f,a),a.screen){for(var c=0;c<h.nondrag.length;c++)Xd(t,c,h.nondrag[c]);for(var v=0;v<h.drag.length;v++)Xd(t,v,h.drag[v])}else if(a.picking)for(var g=0;g<h.length;g++)Xd(t,g,h[g]);l.endFrame(),a.screen&&t.webglDebugShowAtlases&&(JM(t),eL(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var y=performance.now(),p=!1,m=Math.ceil(y-n),E=l.getDebugInfo(),x=["".concat(s," elements"),"".concat(E.totalInstances," instances"),"".concat(E.batchCount," batches"),"".concat(E.totalAtlases," atlases"),"".concat(E.wrappedCount," wrapped textures"),"".concat(E.simpleCount," simple shapes")].join(", ");if(p)console.log("WebGL (".concat(a.name,") - time ").concat(m,"ms, ").concat(x));else{console.log("WebGL (".concat(a.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var T=E.atlasInfo,C=Za(T),S;try{for(C.s();!(S=C.n()).done;){var O=S.value;console.log("  ".concat(O.type,": ").concat(O.keyCount," keys, ").concat(O.atlasCount," atlases"))}}catch(L){C.e(L)}finally{C.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,l.gc())}var li={};li.drawPolygonPath=function(t,e,a,n,l,s){var u=n/2,f=l/2;t.beginPath&&t.beginPath(),t.moveTo(e+u*s[0],a+f*s[1]);for(var h=1;h<s.length/2;h++)t.lineTo(e+u*s[h*2],a+f*s[h*2+1]);t.closePath()};li.drawRoundPolygonPath=function(t,e,a,n,l,s,u){u.forEach(function(f){return Wx(t,f)}),t.closePath()};li.drawRoundRectanglePath=function(t,e,a,n,l,s){var u=n/2,f=l/2,h=s==="auto"?Wn(n,l):Math.min(s,f,u);t.beginPath&&t.beginPath(),t.moveTo(e,a-f),t.arcTo(e+u,a-f,e+u,a,h),t.arcTo(e+u,a+f,e,a+f,h),t.arcTo(e-u,a+f,e-u,a,h),t.arcTo(e-u,a-f,e,a-f,h),t.lineTo(e,a-f),t.closePath()};li.drawBottomRoundRectanglePath=function(t,e,a,n,l,s){var u=n/2,f=l/2,h=s==="auto"?Wn(n,l):s;t.beginPath&&t.beginPath(),t.moveTo(e,a-f),t.lineTo(e+u,a-f),t.lineTo(e+u,a),t.arcTo(e+u,a+f,e,a+f,h),t.arcTo(e-u,a+f,e-u,a,h),t.lineTo(e-u,a-f),t.lineTo(e,a-f),t.closePath()};li.drawCutRectanglePath=function(t,e,a,n,l,s,u){var f=n/2,h=l/2,c=u==="auto"?Dg():u;t.beginPath&&t.beginPath(),t.moveTo(e-f+c,a-h),t.lineTo(e+f-c,a-h),t.lineTo(e+f,a-h+c),t.lineTo(e+f,a+h-c),t.lineTo(e+f-c,a+h),t.lineTo(e-f+c,a+h),t.lineTo(e-f,a+h-c),t.lineTo(e-f,a-h+c),t.closePath()};li.drawBarrelPath=function(t,e,a,n,l){var s=n/2,u=l/2,f=e-s,h=e+s,c=a-u,v=a+u,g=Qd(n,l),y=g.widthOffset,p=g.heightOffset,m=g.ctrlPtOffsetPct*y;t.beginPath&&t.beginPath(),t.moveTo(f,c+p),t.lineTo(f,v-p),t.quadraticCurveTo(f+m,v,f+y,v),t.lineTo(h-y,v),t.quadraticCurveTo(h-m,v,h,v-p),t.lineTo(h,c+p),t.quadraticCurveTo(h-m,c,h-y,c),t.lineTo(f+y,c),t.quadraticCurveTo(f+m,c,f,c+p),t.closePath()};var dE=Math.sin(0),gE=Math.cos(0),cg={},hg={},yT=Math.PI/40;for(var Ol=0*Math.PI;Ol<2*Math.PI;Ol+=yT)cg[Ol]=Math.sin(Ol),hg[Ol]=Math.cos(Ol);li.drawEllipsePath=function(t,e,a,n,l){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,a,n/2,l/2,0,0,2*Math.PI);else for(var s,u,f=n/2,h=l/2,c=0*Math.PI;c<2*Math.PI;c+=yT)s=e-f*cg[c]*dE+f*hg[c]*gE,u=a+h*hg[c]*dE+h*cg[c]*gE,c===0?t.moveTo(s,u):t.lineTo(s,u);t.closePath()};var Tu={};Tu.createBuffer=function(t,e){var a=document.createElement("canvas");return a.width=t,a.height=e,[a,a.getContext("2d")]};Tu.bufferCanvasImage=function(t){var e=this.cy,a=e.mutableElements(),n=a.boundingBox(),l=this.findContainerClientCoords(),s=t.full?Math.ceil(n.w):l[2],u=t.full?Math.ceil(n.h):l[3],f=Re(t.maxWidth)||Re(t.maxHeight),h=this.getPixelRatio(),c=1;if(t.scale!==void 0)s*=t.scale,u*=t.scale,c=t.scale;else if(f){var v=1/0,g=1/0;Re(t.maxWidth)&&(v=c*t.maxWidth/s),Re(t.maxHeight)&&(g=c*t.maxHeight/u),c=Math.min(v,g),s*=c,u*=c}f||(s*=h,u*=h,c*=h);var y=document.createElement("canvas");y.width=s,y.height=u,y.style.width=s+"px",y.style.height=u+"px";var p=y.getContext("2d");if(s>0&&u>0){p.clearRect(0,0,s,u),p.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(t.full)p.translate(-n.x1*c,-n.y1*c),p.scale(c,c),this.drawElements(p,m),p.scale(1/c,1/c),p.translate(n.x1*c,n.y1*c);else{var E=e.pan(),x={x:E.x*c,y:E.y*c};c*=e.zoom(),p.translate(x.x,x.y),p.scale(c,c),this.drawElements(p,m),p.scale(1/c,1/c),p.translate(-x.x,-x.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,s,u),p.fill())}return y};function rL(t,e){for(var a=atob(t),n=new ArrayBuffer(a.length),l=new Uint8Array(n),s=0;s<a.length;s++)l[s]=a.charCodeAt(s);return new Blob([n],{type:e})}function pE(t){var e=t.indexOf(",");return t.substr(e+1)}function mT(t,e,a){var n=function(){return e.toDataURL(a,t.quality)};switch(t.output){case"blob-promise":return new Hl(function(l,s){try{e.toBlob(function(u){u!=null?l(u):s(new Error("`canvas.toBlob()` sent a null value in its callback"))},a,t.quality)}catch(u){s(u)}});case"blob":return rL(pE(n()),a);case"base64":return pE(n());default:return n()}}Tu.png=function(t){return mT(t,this.bufferCanvasImage(t),"image/png")};Tu.jpg=function(t){return mT(t,this.bufferCanvasImage(t),"image/jpeg")};var bT={};bT.nodeShapeImpl=function(t,e,a,n,l,s,u,f){switch(t){case"ellipse":return this.drawEllipsePath(e,a,n,l,s);case"polygon":return this.drawPolygonPath(e,a,n,l,s,u);case"round-polygon":return this.drawRoundPolygonPath(e,a,n,l,s,u,f);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,a,n,l,s,f);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,a,n,l,s,u,f);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,a,n,l,s,f);case"barrel":return this.drawBarrelPath(e,a,n,l,s)}};var nL=ET,it=ET.prototype;it.CANVAS_LAYERS=3;it.SELECT_BOX=0;it.DRAG=1;it.NODE=2;it.WEBGL=3;it.CANVAS_TYPES=["2d","2d","2d","webgl2"];it.BUFFER_COUNT=3;it.TEXTURE_BUFFER=0;it.MOTIONBLUR_BUFFER_NODE=1;it.MOTIONBLUR_BUFFER_DRAG=2;function ET(t){var e=this,a=e.cy.window(),n=a.document;t.webgl&&(it.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(it.CANVAS_LAYERS),contexts:new Array(it.CANVAS_LAYERS),canvasNeedsRedraw:new Array(it.CANVAS_LAYERS),bufferCanvases:new Array(it.BUFFER_COUNT),bufferContexts:new Array(it.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",s="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var u=e.data.canvasContainer.style;e.data.canvasContainer.style[l]=s,u.position="relative",u.zIndex="0",u.overflow="hidden";var f=t.cy.container();f.appendChild(e.data.canvasContainer),f.style[l]=s;var h={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};$2()&&(h["-ms-touch-action"]="none",h["touch-action"]="none");for(var c=0;c<it.CANVAS_LAYERS;c++){var v=e.data.canvases[c]=n.createElement("canvas"),g=it.CANVAS_TYPES[c];e.data.contexts[c]=v.getContext(g),e.data.contexts[c]||It("Could not create canvas of type "+g),Object.keys(h).forEach(function(ie){v.style[ie]=h[ie]}),v.style.position="absolute",v.setAttribute("data-id","layer"+c),v.style.zIndex=String(it.CANVAS_LAYERS-c),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[c]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[it.NODE].setAttribute("data-id","layer"+it.NODE+"-node"),e.data.canvases[it.SELECT_BOX].setAttribute("data-id","layer"+it.SELECT_BOX+"-selectbox"),e.data.canvases[it.DRAG].setAttribute("data-id","layer"+it.DRAG+"-drag"),e.data.canvases[it.WEBGL]&&e.data.canvases[it.WEBGL].setAttribute("data-id","layer"+it.WEBGL+"-webgl");for(var c=0;c<it.BUFFER_COUNT;c++)e.data.bufferCanvases[c]=n.createElement("canvas"),e.data.bufferContexts[c]=e.data.bufferCanvases[c].getContext("2d"),e.data.bufferCanvases[c].style.position="absolute",e.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),e.data.bufferCanvases[c].style.zIndex=String(-c-1),e.data.bufferCanvases[c].style.visibility="hidden";e.pathsEnabled=!0;var y=Ia(),p=function(ee){return{x:(ee.x1+ee.x2)/2,y:(ee.y1+ee.y2)/2}},m=function(ee){return{x:-ee.w/2,y:-ee.h/2}},E=function(ee){var W=ee[0]._private,ae=W.oldBackgroundTimestamp===W.backgroundTimestamp;return!ae},x=function(ee){return ee[0]._private.nodeKey},T=function(ee){return ee[0]._private.labelStyleKey},C=function(ee){return ee[0]._private.sourceLabelStyleKey},S=function(ee){return ee[0]._private.targetLabelStyleKey},O=function(ee,W,ae,ce,xe){return e.drawElement(ee,W,ae,!1,!1,xe)},L=function(ee,W,ae,ce,xe){return e.drawElementText(ee,W,ae,ce,"main",xe)},_=function(ee,W,ae,ce,xe){return e.drawElementText(ee,W,ae,ce,"source",xe)},D=function(ee,W,ae,ce,xe){return e.drawElementText(ee,W,ae,ce,"target",xe)},A=function(ee){return ee.boundingBox(),ee[0]._private.bodyBounds},R=function(ee){return ee.boundingBox(),ee[0]._private.labelBounds.main||y},M=function(ee){return ee.boundingBox(),ee[0]._private.labelBounds.source||y},B=function(ee){return ee.boundingBox(),ee[0]._private.labelBounds.target||y},z=function(ee,W){return W},I=function(ee){return p(A(ee))},P=function(ee,W,ae){var ce=ee?ee+"-":"";return{x:W.x+ae.pstyle(ce+"text-margin-x").pfValue,y:W.y+ae.pstyle(ce+"text-margin-y").pfValue}},Y=function(ee,W,ae){var ce=ee[0]._private.rscratch;return{x:ce[W],y:ce[ae]}},U=function(ee){return P("",Y(ee,"labelX","labelY"),ee)},G=function(ee){return P("source",Y(ee,"sourceLabelX","sourceLabelY"),ee)},V=function(ee){return P("target",Y(ee,"targetLabelX","targetLabelY"),ee)},X=function(ee){return m(A(ee))},K=function(ee){return m(M(ee))},k=function(ee){return m(B(ee))},q=function(ee){var W=R(ee),ae=m(R(ee));if(ee.isNode()){switch(ee.pstyle("text-halign").value){case"left":ae.x=-W.w-(W.leftPad||0);break;case"right":ae.x=-(W.rightPad||0);break}switch(ee.pstyle("text-valign").value){case"top":ae.y=-W.h-(W.topPad||0);break;case"bottom":ae.y=-(W.botPad||0);break}}return ae},j=e.data.eleTxrCache=new Qs(e,{getKey:x,doesEleInvalidateKey:E,drawElement:O,getBoundingBox:A,getRotationPoint:I,getRotationOffset:X,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Q=e.data.lblTxrCache=new Qs(e,{getKey:T,drawElement:L,getBoundingBox:R,getRotationPoint:U,getRotationOffset:q,isVisible:z}),J=e.data.slbTxrCache=new Qs(e,{getKey:C,drawElement:_,getBoundingBox:M,getRotationPoint:G,getRotationOffset:K,isVisible:z}),ne=e.data.tlbTxrCache=new Qs(e,{getKey:S,drawElement:D,getBoundingBox:B,getRotationPoint:V,getRotationOffset:k,isVisible:z}),ue=e.data.lyrTxrCache=new sT(e);e.onUpdateEleCalcs(function(ee,W){j.invalidateElements(W),Q.invalidateElements(W),J.invalidateElements(W),ne.invalidateElements(W),ue.invalidateElements(W);for(var ae=0;ae<W.length;ae++){var ce=W[ae]._private;ce.oldBackgroundTimestamp=ce.backgroundTimestamp}});var pe=function(ee){for(var W=0;W<ee.length;W++)ue.enqueueElementRefinement(ee[W].ele)};j.onDequeue(pe),Q.onDequeue(pe),J.onDequeue(pe),ne.onDequeue(pe),t.webgl&&e.initWebgl(t,{getStyleKey:x,getLabelKey:T,getSourceLabelKey:C,getTargetLabelKey:S,drawElement:O,drawLabel:L,drawSourceLabel:_,drawTargetLabel:D,getElementBox:A,getLabelBox:R,getSourceLabelBox:M,getTargetLabelBox:B,getElementRotationPoint:I,getElementRotationOffset:X,getLabelRotationPoint:U,getSourceLabelRotationPoint:G,getTargetLabelRotationPoint:V,getLabelRotationOffset:q,getSourceLabelRotationOffset:K,getTargetLabelRotationOffset:k})}it.redrawHint=function(t,e){var a=this;switch(t){case"eles":a.data.canvasNeedsRedraw[it.NODE]=e;break;case"drag":a.data.canvasNeedsRedraw[it.DRAG]=e;break;case"select":a.data.canvasNeedsRedraw[it.SELECT_BOX]=e;break;case"gc":a.data.gc=!0;break}};var iL=typeof Path2D<"u";it.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};it.usePaths=function(){return iL&&this.pathsEnabled};it.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};it.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};it.makeOffscreenCanvas=function(t,e){var a;if((typeof OffscreenCanvas>"u"?"undefined":sa(OffscreenCanvas))!=="undefined")a=new OffscreenCanvas(t,e);else{var n=this.cy.window(),l=n.document;a=l.createElement("canvas"),a.width=t,a.height=e}return a};[uT,Pr,hn,Pg,Pi,ii,Ua,vT,li,Tu,bT].forEach(function(t){Ke(it,t)});var lL=[{name:"null",impl:Kx},{name:"base",impl:nT},{name:"canvas",impl:nL}],sL=[{type:"layout",extensions:NO},{type:"renderer",extensions:lL}],xT={},TT={};function wT(t,e,a){var n=a,l=function(A){Et("Can not register `"+e+"` for `"+t+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(ou.prototype[e])return l(e);ou.prototype[e]=a}else if(t==="collection"){if(Sa.prototype[e])return l(e);Sa.prototype[e]=a}else if(t==="layout"){for(var s=function(A){this.options=A,a.call(this,A),dt(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},u=s.prototype=Object.create(a.prototype),f=[],h=0;h<f.length;h++){var c=f[h];u[c]=u[c]||function(){return this}}u.start&&!u.run?u.run=function(){return this.start(),this}:!u.start&&u.run&&(u.start=function(){return this.run(),this});var v=a.prototype.stop;u.stop=function(){var D=this.options;if(D&&D.animate){var A=this.animations;if(A)for(var R=0;R<A.length;R++)A[R].stop()}return v?v.call(this):this.emit("layoutstop"),this},u.destroy||(u.destroy=function(){return this}),u.cy=function(){return this._private.cy};var g=function(A){return A._private.cy},y={addEventFields:function(A,R){R.layout=A,R.cy=g(A),R.target=A},bubble:function(){return!0},parent:function(A){return g(A)}};Ke(u,{createEmitter:function(){return this._private.emitter=new Yf(y,this),this},emitter:function(){return this._private.emitter},on:function(A,R){return this.emitter().on(A,R),this},one:function(A,R){return this.emitter().one(A,R),this},once:function(A,R){return this.emitter().one(A,R),this},removeListener:function(A,R){return this.emitter().removeListener(A,R),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,R){return this.emitter().emit(A,R),this}}),bt.eventAliasesOn(u),n=s}else if(t==="renderer"&&e!=="null"&&e!=="base"){var p=ST("renderer","base"),m=p.prototype,E=a,x=a.prototype,T=function(){p.apply(this,arguments),E.apply(this,arguments)},C=T.prototype;for(var S in m){var O=m[S],L=x[S]!=null;if(L)return l(S);C[S]=O}for(var _ in x)C[_]=x[_];m.clientFunctions.forEach(function(D){C[D]=C[D]||function(){It("Renderer does not implement `renderer."+D+"()` on its prototype")}}),n=T}else if(t==="__proto__"||t==="constructor"||t==="prototype")return It(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return qE({map:xT,keys:[t,e],value:n})}function ST(t,e){return HE({map:xT,keys:[t,e]})}function uL(t,e,a,n,l){return qE({map:TT,keys:[t,e,a,n],value:l})}function oL(t,e,a,n){return HE({map:TT,keys:[t,e,a,n]})}var vg=function(){if(arguments.length===2)return ST.apply(null,arguments);if(arguments.length===3)return wT.apply(null,arguments);if(arguments.length===4)return oL.apply(null,arguments);if(arguments.length===5)return uL.apply(null,arguments);It("Invalid extension access syntax")};ou.prototype.extension=vg;sL.forEach(function(t){t.extensions.forEach(function(e){wT(t.type,e.name,e.impl)})});var Bf=function(){if(!(this instanceof Bf))return new Bf;this.length=0},Ii=Bf.prototype;Ii.instanceString=function(){return"stylesheet"};Ii.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Ii.css=function(t,e){var a=this.length-1;if(He(t))this[a].properties.push({name:t,value:e});else if(dt(t))for(var n=t,l=Object.keys(n),s=0;s<l.length;s++){var u=l[s],f=n[u];if(f!=null){var h=pa.properties[u]||pa.properties[zf(u)];if(h!=null){var c=h.name,v=f;this[a].properties.push({name:c,value:v})}}}return this};Ii.style=Ii.css;Ii.generateStyle=function(t){var e=new pa(t);return this.appendToStyle(e)};Ii.appendToStyle=function(t){for(var e=0;e<this.length;e++){var a=this[e],n=a.selector,l=a.properties;t.selector(n);for(var s=0;s<l.length;s++){var u=l[s];t.css(u.name,u.value)}}return t};var fL="3.33.1",ti=function(e){if(e===void 0&&(e={}),dt(e))return new ou(e);if(He(e))return vg.apply(vg,arguments)};ti.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(ti),t.apply(null,e),this};ti.warnings=function(t){return QE(t)};ti.version=fL;ti.stylesheet=ti.Stylesheet=Bf;const{string:$o,array:yE,object:Jo,number:Xs,bool:nr,oneOfType:Ml,any:ef,func:js}=_2,cL={id:$o,className:$o,style:Ml([$o,Jo]),elements:Ml([yE,ef]),stylesheet:Ml([yE,ef]),layout:Ml([Jo,ef]),pan:Ml([Jo,ef]),zoom:Xs,panningEnabled:nr,userPanningEnabled:nr,minZoom:Xs,maxZoom:Xs,zoomingEnabled:nr,userZoomingEnabled:nr,boxSelectionEnabled:nr,autoungrabify:nr,autolock:nr,autounselectify:nr,get:js,toJson:js,diff:js,forEach:js,cy:js,headless:nr,styleEnabled:nr,hideEdgesOnViewport:nr,textureOnViewport:nr,motionBlur:nr,motionBlurOpacity:Xs,wheelSensitivity:Xs,pixelRatio:Ml([$o,Jo])},CT=(t,e)=>{if(((s,u)=>s==null||u==null)(t,e)&&(t!=null||e!=null))return!0;if(t===e)return!1;if(typeof t!="object"||typeof e!="object")return t!==e;const a=Object.keys(t),n=Object.keys(e),l=s=>t[s]!==e[s];return a.length!==n.length||!(!a.some(l)&&!n.some(l))},Sr=(t,e)=>t!=null?t[e]:null,hL={diff:CT,get:Sr,toJson:t=>t,forEach:(t,e)=>t.forEach(e),elements:[{data:{id:"a",label:"Example node A"}},{data:{id:"b",label:"Example node B"}},{data:{id:"e",source:"a",target:"b"}}],stylesheet:[{selector:"node",style:{label:"data(label)"}}],zoom:1,pan:{x:0,y:0}},tf=(t,e,a,n)=>a(Sr(t,n),Sr(e,n)),vL=(t,e,a,n,l,s,u)=>{t.batch(()=>{(n===CT||tf(e,a,n,"elements"))&&yL(t,Sr(e,"elements"),Sr(a,"elements"),l,s,u,n),tf(e,a,n,"stylesheet")&&pL(t,Sr(e,"stylesheet"),Sr(a,"stylesheet"),l),["zoom","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","pan","panningEnabled","userPanningEnabled","boxSelectionEnabled","autoungrabify","autolock","autounselectify"].forEach(f=>{tf(e,a,n,f)&&dL(t,f,Sr(e,f),Sr(a,f),l)})}),tf(e,a,n,"layout")&&gL(t,Sr(e,"layout"),Sr(a,"layout"),l)},dL=(t,e,a,n,l)=>{t[e](l(n))},gL=(t,e,a,n)=>{const l=n(a);l!=null&&t.layout(l).run()},pL=(t,e,a,n)=>{const l=t.style();l?.fromJson(n(a)).update()},yL=(t,e,a,n,l,s,u)=>{const f=[],h=t.collection(),c=[],v={},g={},y=p=>l(l(p,"data"),"id");s(a,p=>{const m=y(p);g[m]=p}),e!=null&&s(e,p=>{const m=y(p);v[m]=p,(E=>g[E]!=null)(m)||h.merge(t.getElementById(m))}),s(a,p=>{const m=y(p),E=(x=>v[x])(m);(x=>v[x]!=null)(m)?c.push({ele1:E,ele2:p}):f.push(n(p))}),h.length>0&&t.remove(h),f.length>0&&t.add(f),c.forEach(({ele1:p,ele2:m})=>mL(t,p,m,n,l,u))},mL=(t,e,a,n,l,s)=>{const u=l(l(a,"data"),"id"),f=t.getElementById(u),h={};["data","position","selected","selectable","locked","grabbable","classes"].forEach(v=>{const g=l(a,v);s(g,l(e,v))&&(h[v]=n(g))});const c=l(a,"scratch");s(c,l(e,"scratch"))&&f.scratch(n(c)),Object.keys(h).length>0&&f.json(h)};class bL extends Mi.Component{static get propTypes(){return cL}static get defaultProps(){return hL}static normalizeElements(e){if(e.length!=null)return e;{let{nodes:a,edges:n}=e;return a==null&&(a=[]),n==null&&(n=[]),a.concat(n)}}constructor(e){super(e),this.displayName="CytoscapeComponent",this.containerRef=Mi.createRef()}componentDidMount(){const e=this.containerRef.current,{global:a,headless:n,styleEnabled:l,hideEdgesOnViewport:s,textureOnViewport:u,motionBlur:f,motionBlurOpacity:h,wheelSensitivity:c,pixelRatio:v}=this.props,g=this._cy=new ti({container:e,headless:n,styleEnabled:l,hideEdgesOnViewport:s,textureOnViewport:u,motionBlur:f,motionBlurOpacity:h,wheelSensitivity:c,pixelRatio:v});a&&(window[a]=g),this.updateCytoscape(null,this.props)}updateCytoscape(e,a){const n=this._cy,{diff:l,toJson:s,get:u,forEach:f}=a;vL(n,e,a,l,s,u,f),a.cy!=null&&a.cy(n)}componentDidUpdate(e){this.updateCytoscape(e,this.props)}componentWillUnmount(){this._cy.destroy()}render(){const{id:e,className:a,style:n}=this.props;return Mi.createElement("div",{ref:this.containerRef,id:e,className:a,style:n})}}const mE=["issue","asset","photo","activity","rfi","markup","form","pco","documentlineage","container","scope","coordinationother","unknown"],ka=gg(t=>({enabledEntityTypes:new Set(mE),selectedPersonIds:new Set,showRelatedOnly:!1,toggleEntityType:e=>t(a=>{const n=new Set(a.enabledEntityTypes);return n.has(e)?n.delete(e):n.add(e),{enabledEntityTypes:n}}),setAllEntityTypes:e=>t({enabledEntityTypes:new Set(e)}),clearEntityTypes:()=>t({enabledEntityTypes:new Set}),togglePerson:e=>t(a=>{const n=new Set(a.selectedPersonIds);return n.has(e)?n.delete(e):n.add(e),{selectedPersonIds:n}}),setSelectedPersons:e=>t({selectedPersonIds:new Set(e)}),clearPersons:()=>t({selectedPersonIds:new Set}),setShowRelatedOnly:e=>t({showRelatedOnly:e}),resetFilters:()=>t({enabledEntityTypes:new Set(mE),selectedPersonIds:new Set,showRelatedOnly:!1})}));function EL(t,e,a){const{enabledEntityTypes:n,selectedPersonIds:l,showRelatedOnly:s}=a,u=new Set,f=[];for(const g of e){const y=`${g.item1Domain}:${g.item1EntityType}:${g.item1Id}`,p=`${g.item2Domain}:${g.item2EntityType}:${g.item2Id}`,m=t.get(y),E=t.get(p);if(!(!m||!E)&&n.has(m.entityType)&&n.has(E.entityType)){if(l.size>0){const x=jd(m,l),T=jd(E,l);if(!x&&!T)continue}u.add(y),u.add(p),f.push({data:{id:`edge-${g.relationshipGuid}`,source:y,target:p,relationshipGuid:g.relationshipGuid}})}}const h=[];for(const[g,y]of t)n.has(y.entityType)&&(s&&!u.has(g)||l.size>0&&!jd(y,l)&&!u.has(g)||h.push({data:{id:g,entityType:y.entityType,domain:y.domain,displayName:y.displayName||y.entityType,isOpaque:y.isOpaque},classes:y.isOpaque?"opaque":void 0}));const c=new Set(h.map(g=>g.data.id)),v=f.filter(g=>c.has(g.data.source)&&c.has(g.data.target));return{nodes:h,edges:v}}function jd(t,e){for(const a of t.personFields){const n=t.fields[a];if(n&&e.has(n))return!0}return!1}function AT(t){const e=new Map;for(const a of t.values())e.set(a.entityType,(e.get(a.entityType)||0)+1);return e}const Ui={issue:{bg:"#fecaca",border:"#ef4444",text:"#991b1b",dot:"#ef4444",label:"Issues"},asset:{bg:"#bfdbfe",border:"#3b82f6",text:"#1e3a8a",dot:"#3b82f6",label:"Assets"},photo:{bg:"#bbf7d0",border:"#22c55e",text:"#14532d",dot:"#22c55e",label:"Photos"},activity:{bg:"#e9d5ff",border:"#a855f7",text:"#581c87",dot:"#a855f7",label:"Activities"},rfi:{bg:"#fde68a",border:"#f59e0b",text:"#78350f",dot:"#f59e0b",label:"RFIs"},markup:{bg:"#99f6e4",border:"#14b8a6",text:"#134e4a",dot:"#14b8a6",label:"Markups"},form:{bg:"#fbcfe8",border:"#ec4899",text:"#831843",dot:"#ec4899",label:"Forms"},pco:{bg:"#d9f99d",border:"#84cc16",text:"#365314",dot:"#84cc16",label:"Change Orders"},documentlineage:{bg:"#e5e7eb",border:"#6b7280",text:"#374151",dot:"#6b7280",label:"Documents"},container:{bg:"#e5e7eb",border:"#6b7280",text:"#374151",dot:"#6b7280",label:"Containers"},scope:{bg:"#e5e7eb",border:"#6b7280",text:"#374151",dot:"#6b7280",label:"Scopes"},coordinationother:{bg:"#e5e7eb",border:"#6b7280",text:"#374151",dot:"#6b7280",label:"Coordination"},unknown:{bg:"#f3f4f6",border:"#9ca3af",text:"#4b5563",dot:"#9ca3af",label:"Unknown"}};function bE(t){return Ui[t]||Ui.unknown}function xL(){const t=[{selector:"node",style:{label:"data(displayName)","text-valign":"bottom","text-halign":"center","font-size":"10px","text-max-width":"100px","text-wrap":"ellipsis","background-color":"#9ca3af","border-width":2,"border-color":"#6b7280",width:30,height:30,"overlay-padding":"4px","text-margin-y":4}},{selector:"edge",style:{width:1.5,"line-color":"#d1d5db","target-arrow-color":"#d1d5db","target-arrow-shape":"triangle","curve-style":"bezier","arrow-scale":.8,opacity:.7}},{selector:"node:selected",style:{"border-width":4,"border-color":"#2563eb","overlay-color":"#2563eb","overlay-opacity":.15}},{selector:"node.hover",style:{"border-width":3,"overlay-opacity":.1}},{selector:"node.opaque",style:{"background-opacity":.5,"border-style":"dashed"}},{selector:"node.dimmed",style:{opacity:.2}},{selector:"edge.dimmed",style:{opacity:.1}},{selector:"node.highlighted",style:{opacity:1,"border-width":3}},{selector:"edge.highlighted",style:{opacity:1,width:2.5,"line-color":"#6b7280","target-arrow-color":"#6b7280"}}];for(const[e,a]of Object.entries(Ui))t.push({selector:`node[entityType="${e}"]`,style:{"background-color":a.bg,"border-color":a.border,color:a.text}});return t}function TL(t,e){const a=e<500;switch(t){case"cose-bilkent":return{name:"cose-bilkent",animate:a,animationDuration:a?800:0,nodeDimensionsIncludeLabels:!0,idealEdgeLength:120,nodeRepulsion:6500,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingPaddingVertical:20,tilingPaddingHorizontal:20,fit:!0,padding:30};case"grid":return{name:"grid",animate:a,animationDuration:500,fit:!0,padding:30,condense:!0};case"circle":return{name:"circle",animate:a,animationDuration:500,fit:!0,padding:30};case"concentric":return{name:"concentric",animate:a,animationDuration:500,fit:!0,padding:30,concentric:n=>n.degree(),levelWidth:()=>2};case"breadthfirst":return{name:"breadthfirst",animate:a,animationDuration:500,fit:!0,padding:30,directed:!0};default:return{name:"cose-bilkent"}}}var yf={exports:{}},mf={exports:{}},bf={exports:{}},wL=bf.exports,EE;function SL(){return EE||(EE=1,(function(t,e){(function(n,l){t.exports=l()})(wL,function(){return(function(a){var n={};function l(s){if(n[s])return n[s].exports;var u=n[s]={i:s,l:!1,exports:{}};return a[s].call(u.exports,u,u.exports,l),u.l=!0,u.exports}return l.m=a,l.c=n,l.i=function(s){return s},l.d=function(s,u,f){l.o(s,u)||Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:f})},l.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return l.d(u,"a",u),u},l.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},l.p="",l(l.s=26)})([(function(a,n,l){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,a.exports=s}),(function(a,n,l){var s=l(2),u=l(8),f=l(9);function h(v,g,y){s.call(this,y),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=y,this.bendpoints=[],this.source=v,this.target=g}h.prototype=Object.create(s.prototype);for(var c in s)h[c]=s[c];h.prototype.getSource=function(){return this.source},h.prototype.getTarget=function(){return this.target},h.prototype.isInterGraph=function(){return this.isInterGraph},h.prototype.getLength=function(){return this.length},h.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},h.prototype.getBendpoints=function(){return this.bendpoints},h.prototype.getLca=function(){return this.lca},h.prototype.getSourceInLca=function(){return this.sourceInLca},h.prototype.getTargetInLca=function(){return this.targetInLca},h.prototype.getOtherEnd=function(v){if(this.source===v)return this.target;if(this.target===v)return this.source;throw"Node is not incident with this edge"},h.prototype.getOtherEndInGraph=function(v,g){for(var y=this.getOtherEnd(v),p=g.getGraphManager().getRoot();;){if(y.getOwner()==g)return y;if(y.getOwner()==p)break;y=y.getOwner().getParent()}return null},h.prototype.updateLength=function(){var v=new Array(4);this.isOverlapingSourceAndTarget=u.getIntersection(this.target.getRect(),this.source.getRect(),v),this.isOverlapingSourceAndTarget||(this.lengthX=v[0]-v[2],this.lengthY=v[1]-v[3],Math.abs(this.lengthX)<1&&(this.lengthX=f.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=f.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},h.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=f.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=f.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},a.exports=h}),(function(a,n,l){function s(u){this.vGraphObject=u}a.exports=s}),(function(a,n,l){var s=l(2),u=l(10),f=l(13),h=l(0),c=l(16),v=l(4);function g(p,m,E,x){E==null&&x==null&&(x=m),s.call(this,x),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=u.MIN_VALUE,this.inclusionTreeDepth=u.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=p,E!=null&&m!=null?this.rect=new f(m.x,m.y,E.width,E.height):this.rect=new f}g.prototype=Object.create(s.prototype);for(var y in s)g[y]=s[y];g.prototype.getEdges=function(){return this.edges},g.prototype.getChild=function(){return this.child},g.prototype.getOwner=function(){return this.owner},g.prototype.getWidth=function(){return this.rect.width},g.prototype.setWidth=function(p){this.rect.width=p},g.prototype.getHeight=function(){return this.rect.height},g.prototype.setHeight=function(p){this.rect.height=p},g.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},g.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},g.prototype.getCenter=function(){return new v(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},g.prototype.getLocation=function(){return new v(this.rect.x,this.rect.y)},g.prototype.getRect=function(){return this.rect},g.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},g.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},g.prototype.setRect=function(p,m){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=m.width,this.rect.height=m.height},g.prototype.setCenter=function(p,m){this.rect.x=p-this.rect.width/2,this.rect.y=m-this.rect.height/2},g.prototype.setLocation=function(p,m){this.rect.x=p,this.rect.y=m},g.prototype.moveBy=function(p,m){this.rect.x+=p,this.rect.y+=m},g.prototype.getEdgeListToNode=function(p){var m=[],E=this;return E.edges.forEach(function(x){if(x.target==p){if(x.source!=E)throw"Incorrect edge source!";m.push(x)}}),m},g.prototype.getEdgesBetween=function(p){var m=[],E=this;return E.edges.forEach(function(x){if(!(x.source==E||x.target==E))throw"Incorrect edge source and/or target";(x.target==p||x.source==p)&&m.push(x)}),m},g.prototype.getNeighborsList=function(){var p=new Set,m=this;return m.edges.forEach(function(E){if(E.source==m)p.add(E.target);else{if(E.target!=m)throw"Incorrect incidency!";p.add(E.source)}}),p},g.prototype.withChildren=function(){var p=new Set,m,E;if(p.add(this),this.child!=null)for(var x=this.child.getNodes(),T=0;T<x.length;T++)m=x[T],E=m.withChildren(),E.forEach(function(C){p.add(C)});return p},g.prototype.getNoOfChildren=function(){var p=0,m;if(this.child==null)p=1;else for(var E=this.child.getNodes(),x=0;x<E.length;x++)m=E[x],p+=m.getNoOfChildren();return p==0&&(p=1),p},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==u.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},g.prototype.scatter=function(){var p,m,E=-h.INITIAL_WORLD_BOUNDARY,x=h.INITIAL_WORLD_BOUNDARY;p=h.WORLD_CENTER_X+c.nextDouble()*(x-E)+E;var T=-h.INITIAL_WORLD_BOUNDARY,C=h.INITIAL_WORLD_BOUNDARY;m=h.WORLD_CENTER_Y+c.nextDouble()*(C-T)+T,this.rect.x=p,this.rect.y=m},g.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),h.NODE_DIMENSIONS_INCLUDE_LABELS){var m=p.getRight()-p.getLeft(),E=p.getBottom()-p.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>E&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-E)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-E),this.setHeight(this.labelHeight))}}},g.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==u.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},g.prototype.transform=function(p){var m=this.rect.x;m>h.WORLD_BOUNDARY?m=h.WORLD_BOUNDARY:m<-h.WORLD_BOUNDARY&&(m=-h.WORLD_BOUNDARY);var E=this.rect.y;E>h.WORLD_BOUNDARY?E=h.WORLD_BOUNDARY:E<-h.WORLD_BOUNDARY&&(E=-h.WORLD_BOUNDARY);var x=new v(m,E),T=p.inverseTransformPoint(x);this.setLocation(T.x,T.y)},g.prototype.getLeft=function(){return this.rect.x},g.prototype.getRight=function(){return this.rect.x+this.rect.width},g.prototype.getTop=function(){return this.rect.y},g.prototype.getBottom=function(){return this.rect.y+this.rect.height},g.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},a.exports=g}),(function(a,n,l){function s(u,f){u==null&&f==null?(this.x=0,this.y=0):(this.x=u,this.y=f)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(u){this.x=u},s.prototype.setY=function(u){this.y=u},s.prototype.getDifference=function(u){return new DimensionD(this.x-u.x,this.y-u.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(u){return this.x+=u.width,this.y+=u.height,this},a.exports=s}),(function(a,n,l){var s=l(2),u=l(10),f=l(0),h=l(6),c=l(3),v=l(1),g=l(13),y=l(12),p=l(11);function m(x,T,C){s.call(this,C),this.estimatedSize=u.MIN_VALUE,this.margin=f.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,T!=null&&T instanceof h?this.graphManager=T:T!=null&&T instanceof Layout&&(this.graphManager=T.graphManager)}m.prototype=Object.create(s.prototype);for(var E in s)m[E]=s[E];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(x,T,C){if(T==null&&C==null){var S=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(S)>-1)throw"Node already in graph!";return S.owner=this,this.getNodes().push(S),S}else{var O=x;if(!(this.getNodes().indexOf(T)>-1&&this.getNodes().indexOf(C)>-1))throw"Source or target not in graph!";if(!(T.owner==C.owner&&T.owner==this))throw"Both owners must be this graph!";return T.owner!=C.owner?null:(O.source=T,O.target=C,O.isInterGraph=!1,this.getEdges().push(O),T.edges.push(O),C!=T&&C.edges.push(O),O)}},m.prototype.remove=function(x){var T=x;if(x instanceof c){if(T==null)throw"Node is null!";if(!(T.owner!=null&&T.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var C=T.edges.slice(),S,O=C.length,L=0;L<O;L++)S=C[L],S.isInterGraph?this.graphManager.remove(S):S.source.owner.remove(S);var _=this.nodes.indexOf(T);if(_==-1)throw"Node not in owner node list!";this.nodes.splice(_,1)}else if(x instanceof v){var S=x;if(S==null)throw"Edge is null!";if(!(S.source!=null&&S.target!=null))throw"Source and/or target is null!";if(!(S.source.owner!=null&&S.target.owner!=null&&S.source.owner==this&&S.target.owner==this))throw"Source and/or target owner is invalid!";var D=S.source.edges.indexOf(S),A=S.target.edges.indexOf(S);if(!(D>-1&&A>-1))throw"Source and/or target doesn't know this edge!";S.source.edges.splice(D,1),S.target!=S.source&&S.target.edges.splice(A,1);var _=S.source.owner.getEdges().indexOf(S);if(_==-1)throw"Not in owner's edge list!";S.source.owner.getEdges().splice(_,1)}},m.prototype.updateLeftTop=function(){for(var x=u.MAX_VALUE,T=u.MAX_VALUE,C,S,O,L=this.getNodes(),_=L.length,D=0;D<_;D++){var A=L[D];C=A.getTop(),S=A.getLeft(),x>C&&(x=C),T>S&&(T=S)}return x==u.MAX_VALUE?null:(L[0].getParent().paddingLeft!=null?O=L[0].getParent().paddingLeft:O=this.margin,this.left=T-O,this.top=x-O,new y(this.left,this.top))},m.prototype.updateBounds=function(x){for(var T=u.MAX_VALUE,C=-u.MAX_VALUE,S=u.MAX_VALUE,O=-u.MAX_VALUE,L,_,D,A,R,M=this.nodes,B=M.length,z=0;z<B;z++){var I=M[z];x&&I.child!=null&&I.updateBounds(),L=I.getLeft(),_=I.getRight(),D=I.getTop(),A=I.getBottom(),T>L&&(T=L),C<_&&(C=_),S>D&&(S=D),O<A&&(O=A)}var P=new g(T,S,C-T,O-S);T==u.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),M[0].getParent().paddingLeft!=null?R=M[0].getParent().paddingLeft:R=this.margin,this.left=P.x-R,this.right=P.x+P.width+R,this.top=P.y-R,this.bottom=P.y+P.height+R},m.calculateBounds=function(x){for(var T=u.MAX_VALUE,C=-u.MAX_VALUE,S=u.MAX_VALUE,O=-u.MAX_VALUE,L,_,D,A,R=x.length,M=0;M<R;M++){var B=x[M];L=B.getLeft(),_=B.getRight(),D=B.getTop(),A=B.getBottom(),T>L&&(T=L),C<_&&(C=_),S>D&&(S=D),O<A&&(O=A)}var z=new g(T,S,C-T,O-S);return z},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==u.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var x=0,T=this.nodes,C=T.length,S=0;S<C;S++){var O=T[S];x+=O.calcEstimatedSize()}return x==0?this.estimatedSize=f.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var T=new p,C=new Set,S=this.nodes[0],O,L,_=S.withChildren();for(_.forEach(function(z){T.push(z),C.add(z)});T.length!==0;){S=T.shift(),O=S.getEdges();for(var D=O.length,A=0;A<D;A++){var R=O[A];if(L=R.getOtherEndInGraph(S,this),L!=null&&!C.has(L)){var M=L.withChildren();M.forEach(function(z){T.push(z),C.add(z)})}}}if(this.isConnected=!1,C.size>=this.nodes.length){var B=0;C.forEach(function(z){z.owner==x&&B++}),B==this.nodes.length&&(this.isConnected=!0)}},a.exports=m}),(function(a,n,l){var s,u=l(1);function f(h){s=l(5),this.layout=h,this.graphs=[],this.edges=[]}f.prototype.addRoot=function(){var h=this.layout.newGraph(),c=this.layout.newNode(null),v=this.add(h,c);return this.setRootGraph(v),this.rootGraph},f.prototype.add=function(h,c,v,g,y){if(v==null&&g==null&&y==null){if(h==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(h)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(h),h.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return h.parent=c,c.child=h,h}else{y=v,g=c,v=h;var p=g.getOwner(),m=y.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==m)return v.isInterGraph=!1,p.add(v,g,y);if(v.isInterGraph=!0,v.source=g,v.target=y,this.edges.indexOf(v)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(v),!(v.source!=null&&v.target!=null))throw"Edge source and/or target is null!";if(!(v.source.edges.indexOf(v)==-1&&v.target.edges.indexOf(v)==-1))throw"Edge already in source and/or target incidency list!";return v.source.edges.push(v),v.target.edges.push(v),v}},f.prototype.remove=function(h){if(h instanceof s){var c=h;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var v=[];v=v.concat(c.getEdges());for(var g,y=v.length,p=0;p<y;p++)g=v[p],c.remove(g);var m=[];m=m.concat(c.getNodes());var E;y=m.length;for(var p=0;p<y;p++)E=m[p],c.remove(E);c==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(c);this.graphs.splice(x,1),c.parent=null}else if(h instanceof u){if(g=h,g==null)throw"Edge is null!";if(!g.isInterGraph)throw"Not an inter-graph edge!";if(!(g.source!=null&&g.target!=null))throw"Source and/or target is null!";if(!(g.source.edges.indexOf(g)!=-1&&g.target.edges.indexOf(g)!=-1))throw"Source and/or target doesn't know this edge!";var x=g.source.edges.indexOf(g);if(g.source.edges.splice(x,1),x=g.target.edges.indexOf(g),g.target.edges.splice(x,1),!(g.source.owner!=null&&g.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(g.source.owner.getGraphManager().edges.indexOf(g)==-1)throw"Not in owner graph manager's edge list!";var x=g.source.owner.getGraphManager().edges.indexOf(g);g.source.owner.getGraphManager().edges.splice(x,1)}},f.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},f.prototype.getGraphs=function(){return this.graphs},f.prototype.getAllNodes=function(){if(this.allNodes==null){for(var h=[],c=this.getGraphs(),v=c.length,g=0;g<v;g++)h=h.concat(c[g].getNodes());this.allNodes=h}return this.allNodes},f.prototype.resetAllNodes=function(){this.allNodes=null},f.prototype.resetAllEdges=function(){this.allEdges=null},f.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},f.prototype.getAllEdges=function(){if(this.allEdges==null){var h=[],c=this.getGraphs();c.length;for(var v=0;v<c.length;v++)h=h.concat(c[v].getEdges());h=h.concat(this.edges),this.allEdges=h}return this.allEdges},f.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},f.prototype.setAllNodesToApplyGravitation=function(h){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=h},f.prototype.getRoot=function(){return this.rootGraph},f.prototype.setRootGraph=function(h){if(h.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=h,h.parent==null&&(h.parent=this.layout.newNode("Root node"))},f.prototype.getLayout=function(){return this.layout},f.prototype.isOneAncestorOfOther=function(h,c){if(!(h!=null&&c!=null))throw"assert failed";if(h==c)return!0;var v=h.getOwner(),g;do{if(g=v.getParent(),g==null)break;if(g==c)return!0;if(v=g.getOwner(),v==null)break}while(!0);v=c.getOwner();do{if(g=v.getParent(),g==null)break;if(g==h)return!0;if(v=g.getOwner(),v==null)break}while(!0);return!1},f.prototype.calcLowestCommonAncestors=function(){for(var h,c,v,g,y,p=this.getAllEdges(),m=p.length,E=0;E<m;E++){if(h=p[E],c=h.source,v=h.target,h.lca=null,h.sourceInLca=c,h.targetInLca=v,c==v){h.lca=c.getOwner();continue}for(g=c.getOwner();h.lca==null;){for(h.targetInLca=v,y=v.getOwner();h.lca==null;){if(y==g){h.lca=y;break}if(y==this.rootGraph)break;if(h.lca!=null)throw"assert failed";h.targetInLca=y.getParent(),y=h.targetInLca.getOwner()}if(g==this.rootGraph)break;h.lca==null&&(h.sourceInLca=g.getParent(),g=h.sourceInLca.getOwner())}if(h.lca==null)throw"assert failed"}},f.prototype.calcLowestCommonAncestor=function(h,c){if(h==c)return h.getOwner();var v=h.getOwner();do{if(v==null)break;var g=c.getOwner();do{if(g==null)break;if(g==v)return g;g=g.getParent().getOwner()}while(!0);v=v.getParent().getOwner()}while(!0);return v},f.prototype.calcInclusionTreeDepths=function(h,c){h==null&&c==null&&(h=this.rootGraph,c=1);for(var v,g=h.getNodes(),y=g.length,p=0;p<y;p++)v=g[p],v.inclusionTreeDepth=c,v.child!=null&&this.calcInclusionTreeDepths(v.child,c+1)},f.prototype.includesInvalidEdge=function(){for(var h,c=this.edges.length,v=0;v<c;v++)if(h=this.edges[v],this.isOneAncestorOfOther(h.source,h.target))return!0;return!1},a.exports=f}),(function(a,n,l){var s=l(0);function u(){}for(var f in s)u[f]=s[f];u.MAX_ITERATIONS=2500,u.DEFAULT_EDGE_LENGTH=50,u.DEFAULT_SPRING_STRENGTH=.45,u.DEFAULT_REPULSION_STRENGTH=4500,u.DEFAULT_GRAVITY_STRENGTH=.4,u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,u.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,u.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,u.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,u.COOLING_ADAPTATION_FACTOR=.33,u.ADAPTATION_LOWER_NODE_LIMIT=1e3,u.ADAPTATION_UPPER_NODE_LIMIT=5e3,u.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,u.MAX_NODE_DISPLACEMENT=u.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,u.MIN_REPULSION_DIST=u.DEFAULT_EDGE_LENGTH/10,u.CONVERGENCE_CHECK_PERIOD=100,u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,u.MIN_EDGE_LENGTH=1,u.GRID_CALCULATION_CHECK_PERIOD=10,a.exports=u}),(function(a,n,l){var s=l(12);function u(){}u.calcSeparationAmount=function(f,h,c,v){if(!f.intersects(h))throw"assert failed";var g=new Array(2);this.decideDirectionsForOverlappingNodes(f,h,g),c[0]=Math.min(f.getRight(),h.getRight())-Math.max(f.x,h.x),c[1]=Math.min(f.getBottom(),h.getBottom())-Math.max(f.y,h.y),f.getX()<=h.getX()&&f.getRight()>=h.getRight()?c[0]+=Math.min(h.getX()-f.getX(),f.getRight()-h.getRight()):h.getX()<=f.getX()&&h.getRight()>=f.getRight()&&(c[0]+=Math.min(f.getX()-h.getX(),h.getRight()-f.getRight())),f.getY()<=h.getY()&&f.getBottom()>=h.getBottom()?c[1]+=Math.min(h.getY()-f.getY(),f.getBottom()-h.getBottom()):h.getY()<=f.getY()&&h.getBottom()>=f.getBottom()&&(c[1]+=Math.min(f.getY()-h.getY(),h.getBottom()-f.getBottom()));var y=Math.abs((h.getCenterY()-f.getCenterY())/(h.getCenterX()-f.getCenterX()));h.getCenterY()===f.getCenterY()&&h.getCenterX()===f.getCenterX()&&(y=1);var p=y*c[0],m=c[1]/y;c[0]<m?m=c[0]:p=c[1],c[0]=-1*g[0]*(m/2+v),c[1]=-1*g[1]*(p/2+v)},u.decideDirectionsForOverlappingNodes=function(f,h,c){f.getCenterX()<h.getCenterX()?c[0]=-1:c[0]=1,f.getCenterY()<h.getCenterY()?c[1]=-1:c[1]=1},u.getIntersection2=function(f,h,c){var v=f.getCenterX(),g=f.getCenterY(),y=h.getCenterX(),p=h.getCenterY();if(f.intersects(h))return c[0]=v,c[1]=g,c[2]=y,c[3]=p,!0;var m=f.getX(),E=f.getY(),x=f.getRight(),T=f.getX(),C=f.getBottom(),S=f.getRight(),O=f.getWidthHalf(),L=f.getHeightHalf(),_=h.getX(),D=h.getY(),A=h.getRight(),R=h.getX(),M=h.getBottom(),B=h.getRight(),z=h.getWidthHalf(),I=h.getHeightHalf(),P=!1,Y=!1;if(v===y){if(g>p)return c[0]=v,c[1]=E,c[2]=y,c[3]=M,!1;if(g<p)return c[0]=v,c[1]=C,c[2]=y,c[3]=D,!1}else if(g===p){if(v>y)return c[0]=m,c[1]=g,c[2]=A,c[3]=p,!1;if(v<y)return c[0]=x,c[1]=g,c[2]=_,c[3]=p,!1}else{var U=f.height/f.width,G=h.height/h.width,V=(p-g)/(y-v),X=void 0,K=void 0,k=void 0,q=void 0,j=void 0,Q=void 0;if(-U===V?v>y?(c[0]=T,c[1]=C,P=!0):(c[0]=x,c[1]=E,P=!0):U===V&&(v>y?(c[0]=m,c[1]=E,P=!0):(c[0]=S,c[1]=C,P=!0)),-G===V?y>v?(c[2]=R,c[3]=M,Y=!0):(c[2]=A,c[3]=D,Y=!0):G===V&&(y>v?(c[2]=_,c[3]=D,Y=!0):(c[2]=B,c[3]=M,Y=!0)),P&&Y)return!1;if(v>y?g>p?(X=this.getCardinalDirection(U,V,4),K=this.getCardinalDirection(G,V,2)):(X=this.getCardinalDirection(-U,V,3),K=this.getCardinalDirection(-G,V,1)):g>p?(X=this.getCardinalDirection(-U,V,1),K=this.getCardinalDirection(-G,V,3)):(X=this.getCardinalDirection(U,V,2),K=this.getCardinalDirection(G,V,4)),!P)switch(X){case 1:q=E,k=v+-L/V,c[0]=k,c[1]=q;break;case 2:k=S,q=g+O*V,c[0]=k,c[1]=q;break;case 3:q=C,k=v+L/V,c[0]=k,c[1]=q;break;case 4:k=T,q=g+-O*V,c[0]=k,c[1]=q;break}if(!Y)switch(K){case 1:Q=D,j=y+-I/V,c[2]=j,c[3]=Q;break;case 2:j=B,Q=p+z*V,c[2]=j,c[3]=Q;break;case 3:Q=M,j=y+I/V,c[2]=j,c[3]=Q;break;case 4:j=R,Q=p+-z*V,c[2]=j,c[3]=Q;break}}return!1},u.getCardinalDirection=function(f,h,c){return f>h?c:1+c%4},u.getIntersection=function(f,h,c,v){if(v==null)return this.getIntersection2(f,h,c);var g=f.x,y=f.y,p=h.x,m=h.y,E=c.x,x=c.y,T=v.x,C=v.y,S=void 0,O=void 0,L=void 0,_=void 0,D=void 0,A=void 0,R=void 0,M=void 0,B=void 0;return L=m-y,D=g-p,R=p*y-g*m,_=C-x,A=E-T,M=T*x-E*C,B=L*A-_*D,B===0?null:(S=(D*M-A*R)/B,O=(_*R-L*M)/B,new s(S,O))},u.angleOfVector=function(f,h,c,v){var g=void 0;return f!==c?(g=Math.atan((v-h)/(c-f)),c<f?g+=Math.PI:v<h&&(g+=this.TWO_PI)):v<h?g=this.ONE_AND_HALF_PI:g=this.HALF_PI,g},u.doIntersect=function(f,h,c,v){var g=f.x,y=f.y,p=h.x,m=h.y,E=c.x,x=c.y,T=v.x,C=v.y,S=(p-g)*(C-x)-(T-E)*(m-y);if(S===0)return!1;var O=((C-x)*(T-g)+(E-T)*(C-y))/S,L=((y-m)*(T-g)+(p-g)*(C-y))/S;return 0<O&&O<1&&0<L&&L<1},u.HALF_PI=.5*Math.PI,u.ONE_AND_HALF_PI=1.5*Math.PI,u.TWO_PI=2*Math.PI,u.THREE_PI=3*Math.PI,a.exports=u}),(function(a,n,l){function s(){}s.sign=function(u){return u>0?1:u<0?-1:0},s.floor=function(u){return u<0?Math.ceil(u):Math.floor(u)},s.ceil=function(u){return u<0?Math.floor(u):Math.ceil(u)},a.exports=s}),(function(a,n,l){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,a.exports=s}),(function(a,n,l){var s=(function(){function g(y,p){for(var m=0;m<p.length;m++){var E=p[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,p,m){return p&&g(y.prototype,p),m&&g(y,m),y}})();function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var f=function(y){return{value:y,next:null,prev:null}},h=function(y,p,m,E){return y!==null?y.next=p:E.head=p,m!==null?m.prev=p:E.tail=p,p.prev=y,p.next=m,E.length++,p},c=function(y,p){var m=y.prev,E=y.next;return m!==null?m.next=E:p.head=E,E!==null?E.prev=m:p.tail=m,y.prev=y.next=null,p.length--,y},v=(function(){function g(y){var p=this;u(this,g),this.length=0,this.head=null,this.tail=null,y?.forEach(function(m){return p.push(m)})}return s(g,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,m){return h(m.prev,f(p),m,this)}},{key:"insertAfter",value:function(p,m){return h(m,f(p),m.next,this)}},{key:"insertNodeBefore",value:function(p,m){return h(m.prev,p,m,this)}},{key:"insertNodeAfter",value:function(p,m){return h(m,p,m.next,this)}},{key:"push",value:function(p){return h(this.tail,f(p),null,this)}},{key:"unshift",value:function(p){return h(null,f(p),this.head,this)}},{key:"remove",value:function(p){return c(p,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var m=1,E=this.head;m<p;)E=E.next,m++;return E.value}}},{key:"set_object_at",value:function(p,m){if(p<=this.length()){for(var E=1,x=this.head;E<p;)x=x.next,E++;x.value=m}}}]),g})();a.exports=v}),(function(a,n,l){function s(u,f,h){this.x=null,this.y=null,u==null&&f==null&&h==null?(this.x=0,this.y=0):typeof u=="number"&&typeof f=="number"&&h==null?(this.x=u,this.y=f):u.constructor.name=="Point"&&f==null&&h==null&&(h=u,this.x=h.x,this.y=h.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(u,f,h){u.constructor.name=="Point"&&f==null&&h==null?(h=u,this.setLocation(h.x,h.y)):typeof u=="number"&&typeof f=="number"&&h==null&&(parseInt(u)==u&&parseInt(f)==f?this.move(u,f):(this.x=Math.floor(u+.5),this.y=Math.floor(f+.5)))},s.prototype.move=function(u,f){this.x=u,this.y=f},s.prototype.translate=function(u,f){this.x+=u,this.y+=f},s.prototype.equals=function(u){if(u.constructor.name=="Point"){var f=u;return this.x==f.x&&this.y==f.y}return this==u},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},a.exports=s}),(function(a,n,l){function s(u,f,h,c){this.x=0,this.y=0,this.width=0,this.height=0,u!=null&&f!=null&&h!=null&&c!=null&&(this.x=u,this.y=f,this.width=h,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(u){this.x=u},s.prototype.getY=function(){return this.y},s.prototype.setY=function(u){this.y=u},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(u){this.width=u},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(u){this.height=u},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(u){return!(this.getRight()<u.x||this.getBottom()<u.y||u.getRight()<this.x||u.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},a.exports=s}),(function(a,n,l){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};function u(){}u.lastID=0,u.createID=function(f){return u.isPrimitive(f)?f:(f.uniqueID!=null||(f.uniqueID=u.getString(),u.lastID++),f.uniqueID)},u.getString=function(f){return f==null&&(f=u.lastID),"Object#"+f},u.isPrimitive=function(f){var h=typeof f>"u"?"undefined":s(f);return f==null||h!="object"&&h!="function"},a.exports=u}),(function(a,n,l){function s(E){if(Array.isArray(E)){for(var x=0,T=Array(E.length);x<E.length;x++)T[x]=E[x];return T}else return Array.from(E)}var u=l(0),f=l(6),h=l(3),c=l(1),v=l(5),g=l(4),y=l(17),p=l(27);function m(E){p.call(this),this.layoutQuality=u.QUALITY,this.createBendsAsNeeded=u.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=u.DEFAULT_INCREMENTAL,this.animationOnLayout=u.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=u.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=u.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=u.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new f(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,E!=null&&(this.isRemoteUse=E)}m.RANDOM_SEED=1,m.prototype=Object.create(p.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var E=new f(this);return this.graphManager=E,E},m.prototype.newGraph=function(E){return new v(null,this.graphManager,E)},m.prototype.newNode=function(E){return new h(this.graphManager,E)},m.prototype.newEdge=function(E){return new c(null,null,E)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var E;return this.checkLayoutSuccess()?E=!1:E=this.layout(),u.ANIMATE==="during"?!1:(E&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,E)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var E=this.graphManager.getAllEdges(),x=0;x<E.length;x++)E[x];for(var T=this.graphManager.getRoot().getNodes(),x=0;x<T.length;x++)T[x];this.update(this.graphManager.getRoot())}},m.prototype.update=function(E){if(E==null)this.update2();else if(E instanceof h){var x=E;if(x.getChild()!=null)for(var T=x.getChild().getNodes(),C=0;C<T.length;C++)update(T[C]);if(x.vGraphObject!=null){var S=x.vGraphObject;S.update(x)}}else if(E instanceof c){var O=E;if(O.vGraphObject!=null){var L=O.vGraphObject;L.update(O)}}else if(E instanceof v){var _=E;if(_.vGraphObject!=null){var D=_.vGraphObject;D.update(_)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=u.QUALITY,this.animationDuringLayout=u.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=u.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=u.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=u.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=u.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=u.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(E){if(E==null)this.transform(new g(0,0));else{var x=new y,T=this.graphManager.getRoot().updateLeftTop();if(T!=null){x.setWorldOrgX(E.x),x.setWorldOrgY(E.y),x.setDeviceOrgX(T.x),x.setDeviceOrgY(T.y);for(var C=this.getAllNodes(),S,O=0;O<C.length;O++)S=C[O],S.transform(x)}}},m.prototype.positionNodesRandomly=function(E){if(E==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,T,C=E.getNodes(),S=0;S<C.length;S++)x=C[S],T=x.getChild(),T==null||T.getNodes().length==0?x.scatter():(this.positionNodesRandomly(T),x.updateBounds())},m.prototype.getFlatForest=function(){for(var E=[],x=!0,T=this.graphManager.getRoot().getNodes(),C=!0,S=0;S<T.length;S++)T[S].getChild()!=null&&(C=!1);if(!C)return E;var O=new Set,L=[],_=new Map,D=[];for(D=D.concat(T);D.length>0&&x;){for(L.push(D[0]);L.length>0&&x;){var A=L[0];L.splice(0,1),O.add(A);for(var R=A.getEdges(),S=0;S<R.length;S++){var M=R[S].getOtherEnd(A);if(_.get(A)!=M)if(!O.has(M))L.push(M),_.set(M,A);else{x=!1;break}}}if(!x)E=[];else{var B=[].concat(s(O));E.push(B);for(var S=0;S<B.length;S++){var z=B[S],I=D.indexOf(z);I>-1&&D.splice(I,1)}O=new Set,_=new Map}}return E},m.prototype.createDummyNodesForBendpoints=function(E){for(var x=[],T=E.source,C=this.graphManager.calcLowestCommonAncestor(E.source,E.target),S=0;S<E.bendpoints.length;S++){var O=this.newNode(null);O.setRect(new Point(0,0),new Dimension(1,1)),C.add(O);var L=this.newEdge(null);this.graphManager.add(L,T,O),x.add(O),T=O}var L=this.newEdge(null);return this.graphManager.add(L,T,E.target),this.edgeToDummyNodes.set(E,x),E.isInterGraph()?this.graphManager.remove(E):C.remove(E),x},m.prototype.createBendpointsFromDummyNodes=function(){var E=[];E=E.concat(this.graphManager.getAllEdges()),E=[].concat(s(this.edgeToDummyNodes.keys())).concat(E);for(var x=0;x<E.length;x++){var T=E[x];if(T.bendpoints.length>0){for(var C=this.edgeToDummyNodes.get(T),S=0;S<C.length;S++){var O=C[S],L=new g(O.getCenterX(),O.getCenterY()),_=T.bendpoints.get(S);_.x=L.x,_.y=L.y,O.getOwner().remove(O)}this.graphManager.add(T,T.source,T.target)}}},m.transform=function(E,x,T,C){if(T!=null&&C!=null){var S=x;if(E<=50){var O=x/T;S-=(x-O)/50*(50-E)}else{var L=x*C;S+=(L-x)/50*(E-50)}return S}else{var _,D;return E<=50?(_=9*x/500,D=x/10):(_=9*x/50,D=-8*x),_*E+D}},m.findCenterOfTree=function(E){var x=[];x=x.concat(E);var T=[],C=new Map,S=!1,O=null;(x.length==1||x.length==2)&&(S=!0,O=x[0]);for(var L=0;L<x.length;L++){var _=x[L],D=_.getNeighborsList().size;C.set(_,_.getNeighborsList().size),D==1&&T.push(_)}var A=[];for(A=A.concat(T);!S;){var R=[];R=R.concat(A),A=[];for(var L=0;L<x.length;L++){var _=x[L],M=x.indexOf(_);M>=0&&x.splice(M,1);var B=_.getNeighborsList();B.forEach(function(P){if(T.indexOf(P)<0){var Y=C.get(P),U=Y-1;U==1&&A.push(P),C.set(P,U)}})}T=T.concat(A),(x.length==1||x.length==2)&&(S=!0,O=x[0])}return O},m.prototype.setGraphManager=function(E){this.graphManager=E},a.exports=m}),(function(a,n,l){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},a.exports=s}),(function(a,n,l){var s=l(4);function u(f,h){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}u.prototype.getWorldOrgX=function(){return this.lworldOrgX},u.prototype.setWorldOrgX=function(f){this.lworldOrgX=f},u.prototype.getWorldOrgY=function(){return this.lworldOrgY},u.prototype.setWorldOrgY=function(f){this.lworldOrgY=f},u.prototype.getWorldExtX=function(){return this.lworldExtX},u.prototype.setWorldExtX=function(f){this.lworldExtX=f},u.prototype.getWorldExtY=function(){return this.lworldExtY},u.prototype.setWorldExtY=function(f){this.lworldExtY=f},u.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},u.prototype.setDeviceOrgX=function(f){this.ldeviceOrgX=f},u.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},u.prototype.setDeviceOrgY=function(f){this.ldeviceOrgY=f},u.prototype.getDeviceExtX=function(){return this.ldeviceExtX},u.prototype.setDeviceExtX=function(f){this.ldeviceExtX=f},u.prototype.getDeviceExtY=function(){return this.ldeviceExtY},u.prototype.setDeviceExtY=function(f){this.ldeviceExtY=f},u.prototype.transformX=function(f){var h=0,c=this.lworldExtX;return c!=0&&(h=this.ldeviceOrgX+(f-this.lworldOrgX)*this.ldeviceExtX/c),h},u.prototype.transformY=function(f){var h=0,c=this.lworldExtY;return c!=0&&(h=this.ldeviceOrgY+(f-this.lworldOrgY)*this.ldeviceExtY/c),h},u.prototype.inverseTransformX=function(f){var h=0,c=this.ldeviceExtX;return c!=0&&(h=this.lworldOrgX+(f-this.ldeviceOrgX)*this.lworldExtX/c),h},u.prototype.inverseTransformY=function(f){var h=0,c=this.ldeviceExtY;return c!=0&&(h=this.lworldOrgY+(f-this.ldeviceOrgY)*this.lworldExtY/c),h},u.prototype.inverseTransformPoint=function(f){var h=new s(this.inverseTransformX(f.x),this.inverseTransformY(f.y));return h},a.exports=u}),(function(a,n,l){function s(p){if(Array.isArray(p)){for(var m=0,E=Array(p.length);m<p.length;m++)E[m]=p[m];return E}else return Array.from(p)}var u=l(15),f=l(7),h=l(0),c=l(8),v=l(9);function g(){u.call(this),this.useSmartIdealEdgeLengthCalculation=f.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=f.DEFAULT_EDGE_LENGTH,this.springConstant=f.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=f.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=f.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=f.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*f.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=f.MAX_ITERATIONS}g.prototype=Object.create(u.prototype);for(var y in u)g[y]=u[y];g.prototype.initParameters=function(){u.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=f.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},g.prototype.calcIdealEdgeLengths=function(){for(var p,m,E,x,T,C,S=this.getGraphManager().getAllEdges(),O=0;O<S.length;O++)p=S[O],p.idealLength=this.idealEdgeLength,p.isInterGraph&&(E=p.getSource(),x=p.getTarget(),T=p.getSourceInLca().getEstimatedSize(),C=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=T+C-2*h.SIMPLE_NODE_SIZE),m=p.getLca().getInclusionTreeDepth(),p.idealLength+=f.DEFAULT_EDGE_LENGTH*f.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(E.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*m))},g.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>f.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*f.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-f.ADAPTATION_LOWER_NODE_LIMIT)/(f.ADAPTATION_UPPER_NODE_LIMIT-f.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-f.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=f.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>f.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(f.COOLING_ADAPTATION_FACTOR,1-(p-f.ADAPTATION_LOWER_NODE_LIMIT)/(f.ADAPTATION_UPPER_NODE_LIMIT-f.ADAPTATION_LOWER_NODE_LIMIT)*(1-f.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=f.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},g.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),m,E=0;E<p.length;E++)m=p[E],this.calcSpringForce(m,m.idealLength)},g.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E,x,T,C,S=this.getAllNodes(),O;if(this.useFRGridVariant)for(this.totalIterations%f.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),O=new Set,E=0;E<S.length;E++)T=S[E],this.calculateRepulsionForceOfANode(T,O,p,m),O.add(T);else for(E=0;E<S.length;E++)for(T=S[E],x=E+1;x<S.length;x++)C=S[x],T.getOwner()==C.getOwner()&&this.calcRepulsionForce(T,C)},g.prototype.calcGravitationalForces=function(){for(var p,m=this.getAllNodesToApplyGravitation(),E=0;E<m.length;E++)p=m[E],this.calcGravitationalForce(p)},g.prototype.moveNodes=function(){for(var p=this.getAllNodes(),m,E=0;E<p.length;E++)m=p[E],m.move()},g.prototype.calcSpringForce=function(p,m){var E=p.getSource(),x=p.getTarget(),T,C,S,O;if(this.uniformLeafNodeSizes&&E.getChild()==null&&x.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;T=p.getLength(),T!=0&&(C=this.springConstant*(T-m),S=C*(p.lengthX/T),O=C*(p.lengthY/T),E.springForceX+=S,E.springForceY+=O,x.springForceX-=S,x.springForceY-=O)},g.prototype.calcRepulsionForce=function(p,m){var E=p.getRect(),x=m.getRect(),T=new Array(2),C=new Array(4),S,O,L,_,D,A,R;if(E.intersects(x)){c.calcSeparationAmount(E,x,T,f.DEFAULT_EDGE_LENGTH/2),A=2*T[0],R=2*T[1];var M=p.noOfChildren*m.noOfChildren/(p.noOfChildren+m.noOfChildren);p.repulsionForceX-=M*A,p.repulsionForceY-=M*R,m.repulsionForceX+=M*A,m.repulsionForceY+=M*R}else this.uniformLeafNodeSizes&&p.getChild()==null&&m.getChild()==null?(S=x.getCenterX()-E.getCenterX(),O=x.getCenterY()-E.getCenterY()):(c.getIntersection(E,x,C),S=C[2]-C[0],O=C[3]-C[1]),Math.abs(S)<f.MIN_REPULSION_DIST&&(S=v.sign(S)*f.MIN_REPULSION_DIST),Math.abs(O)<f.MIN_REPULSION_DIST&&(O=v.sign(O)*f.MIN_REPULSION_DIST),L=S*S+O*O,_=Math.sqrt(L),D=this.repulsionConstant*p.noOfChildren*m.noOfChildren/L,A=D*S/_,R=D*O/_,p.repulsionForceX-=A,p.repulsionForceY-=R,m.repulsionForceX+=A,m.repulsionForceY+=R},g.prototype.calcGravitationalForce=function(p){var m,E,x,T,C,S,O,L;m=p.getOwner(),E=(m.getRight()+m.getLeft())/2,x=(m.getTop()+m.getBottom())/2,T=p.getCenterX()-E,C=p.getCenterY()-x,S=Math.abs(T)+p.getWidth()/2,O=Math.abs(C)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(L=m.getEstimatedSize()*this.gravityRangeFactor,(S>L||O>L)&&(p.gravitationForceX=-this.gravityConstant*T,p.gravitationForceY=-this.gravityConstant*C)):(L=m.getEstimatedSize()*this.compoundGravityRangeFactor,(S>L||O>L)&&(p.gravitationForceX=-this.gravityConstant*T*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*C*this.compoundGravityConstant))},g.prototype.isConverged=function(){var p,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||m},g.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},g.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,m=this.graphManager.getAllNodes(),E=0;E<m.length;E++)p=m[E],p.noOfChildren=p.getNoOfChildren()},g.prototype.calcGrid=function(p){var m=0,E=0;m=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),E=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var x=new Array(m),T=0;T<m;T++)x[T]=new Array(E);for(var T=0;T<m;T++)for(var C=0;C<E;C++)x[T][C]=new Array;return x},g.prototype.addNodeToGrid=function(p,m,E){var x=0,T=0,C=0,S=0;x=parseInt(Math.floor((p.getRect().x-m)/this.repulsionRange)),T=parseInt(Math.floor((p.getRect().width+p.getRect().x-m)/this.repulsionRange)),C=parseInt(Math.floor((p.getRect().y-E)/this.repulsionRange)),S=parseInt(Math.floor((p.getRect().height+p.getRect().y-E)/this.repulsionRange));for(var O=x;O<=T;O++)for(var L=C;L<=S;L++)this.grid[O][L].push(p),p.setGridCoordinates(x,T,C,S)},g.prototype.updateGrid=function(){var p,m,E=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<E.length;p++)m=E[p],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},g.prototype.calculateRepulsionForceOfANode=function(p,m,E,x){if(this.totalIterations%f.GRID_CALCULATION_CHECK_PERIOD==1&&E||x){var T=new Set;p.surrounding=new Array;for(var C,S=this.grid,O=p.startX-1;O<p.finishX+2;O++)for(var L=p.startY-1;L<p.finishY+2;L++)if(!(O<0||L<0||O>=S.length||L>=S[0].length)){for(var _=0;_<S[O][L].length;_++)if(C=S[O][L][_],!(p.getOwner()!=C.getOwner()||p==C)&&!m.has(C)&&!T.has(C)){var D=Math.abs(p.getCenterX()-C.getCenterX())-(p.getWidth()/2+C.getWidth()/2),A=Math.abs(p.getCenterY()-C.getCenterY())-(p.getHeight()/2+C.getHeight()/2);D<=this.repulsionRange&&A<=this.repulsionRange&&T.add(C)}}p.surrounding=[].concat(s(T))}for(O=0;O<p.surrounding.length;O++)this.calcRepulsionForce(p,p.surrounding[O])},g.prototype.calcRepulsionRange=function(){return 0},a.exports=g}),(function(a,n,l){var s=l(1),u=l(7);function f(c,v,g){s.call(this,c,v,g),this.idealLength=u.DEFAULT_EDGE_LENGTH}f.prototype=Object.create(s.prototype);for(var h in s)f[h]=s[h];a.exports=f}),(function(a,n,l){var s=l(3);function u(h,c,v,g){s.call(this,h,c,v,g),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}u.prototype=Object.create(s.prototype);for(var f in s)u[f]=s[f];u.prototype.setGridCoordinates=function(h,c,v,g){this.startX=h,this.finishX=c,this.startY=v,this.finishY=g},a.exports=u}),(function(a,n,l){function s(u,f){this.width=0,this.height=0,u!==null&&f!==null&&(this.height=f,this.width=u)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(u){this.width=u},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(u){this.height=u},a.exports=s}),(function(a,n,l){var s=l(14);function u(){this.map={},this.keys=[]}u.prototype.put=function(f,h){var c=s.createID(f);this.contains(c)||(this.map[c]=h,this.keys.push(f))},u.prototype.contains=function(f){return s.createID(f),this.map[f]!=null},u.prototype.get=function(f){var h=s.createID(f);return this.map[h]},u.prototype.keySet=function(){return this.keys},a.exports=u}),(function(a,n,l){var s=l(14);function u(){this.set={}}u.prototype.add=function(f){var h=s.createID(f);this.contains(h)||(this.set[h]=f)},u.prototype.remove=function(f){delete this.set[s.createID(f)]},u.prototype.clear=function(){this.set={}},u.prototype.contains=function(f){return this.set[s.createID(f)]==f},u.prototype.isEmpty=function(){return this.size()===0},u.prototype.size=function(){return Object.keys(this.set).length},u.prototype.addAllTo=function(f){for(var h=Object.keys(this.set),c=h.length,v=0;v<c;v++)f.push(this.set[h[v]])},u.prototype.size=function(){return Object.keys(this.set).length},u.prototype.addAll=function(f){for(var h=f.length,c=0;c<h;c++){var v=f[c];this.add(v)}},a.exports=u}),(function(a,n,l){var s=(function(){function c(v,g){for(var y=0;y<g.length;y++){var p=g[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,g,y){return g&&c(v.prototype,g),y&&c(v,y),v}})();function u(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}var f=l(11),h=(function(){function c(v,g){u(this,c),(g!==null||g!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var y=void 0;v instanceof f?y=v.size():y=v.length,this._quicksort(v,0,y-1)}return s(c,[{key:"_quicksort",value:function(g,y,p){if(y<p){var m=this._partition(g,y,p);this._quicksort(g,y,m),this._quicksort(g,m+1,p)}}},{key:"_partition",value:function(g,y,p){for(var m=this._get(g,y),E=y,x=p;;){for(;this.compareFunction(m,this._get(g,x));)x--;for(;this.compareFunction(this._get(g,E),m);)E++;if(E<x)this._swap(g,E,x),E++,x--;else return x}}},{key:"_get",value:function(g,y){return g instanceof f?g.get_object_at(y):g[y]}},{key:"_set",value:function(g,y,p){g instanceof f?g.set_object_at(y,p):g[y]=p}},{key:"_swap",value:function(g,y,p){var m=this._get(g,y);this._set(g,y,this._get(g,p)),this._set(g,p,m)}},{key:"_defaultCompareFunction",value:function(g,y){return y>g}}]),c})();a.exports=h}),(function(a,n,l){var s=(function(){function h(c,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}return function(c,v,g){return v&&h(c.prototype,v),g&&h(c,g),c}})();function u(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}var f=(function(){function h(c,v){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;u(this,h),this.sequence1=c,this.sequence2=v,this.match_score=g,this.mismatch_penalty=y,this.gap_penalty=p,this.iMax=c.length+1,this.jMax=v.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var E=0;E<this.jMax;E++)this.grid[m][E]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var T=0;T<this.jMax;T++)this.tracebackGrid[x][T]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(h,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var v=1;v<this.jMax;v++)this.grid[0][v]=this.grid[0][v-1]+this.gap_penalty,this.tracebackGrid[0][v]=[!1,!1,!0];for(var g=1;g<this.iMax;g++)this.grid[g][0]=this.grid[g-1][0]+this.gap_penalty,this.tracebackGrid[g][0]=[!1,!0,!1];for(var y=1;y<this.iMax;y++)for(var p=1;p<this.jMax;p++){var m=void 0;this.sequence1[y-1]===this.sequence2[p-1]?m=this.grid[y-1][p-1]+this.match_score:m=this.grid[y-1][p-1]+this.mismatch_penalty;var E=this.grid[y-1][p]+this.gap_penalty,x=this.grid[y][p-1]+this.gap_penalty,T=[m,E,x],C=this.arrayAllMaxIndexes(T);this.grid[y][p]=T[C[0]],this.tracebackGrid[y][p]=[C.includes(0),C.includes(1),C.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var v=[];for(v.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});v[0];){var g=v[0],y=this.tracebackGrid[g.pos[0]][g.pos[1]];y[0]&&v.push({pos:[g.pos[0]-1,g.pos[1]-1],seq1:this.sequence1[g.pos[0]-1]+g.seq1,seq2:this.sequence2[g.pos[1]-1]+g.seq2}),y[1]&&v.push({pos:[g.pos[0]-1,g.pos[1]],seq1:this.sequence1[g.pos[0]-1]+g.seq1,seq2:"-"+g.seq2}),y[2]&&v.push({pos:[g.pos[0],g.pos[1]-1],seq1:"-"+g.seq1,seq2:this.sequence2[g.pos[1]-1]+g.seq2}),g.pos[0]===0&&g.pos[1]===0&&this.alignments.push({sequence1:g.seq1,sequence2:g.seq2}),v.shift()}return this.alignments}},{key:"getAllIndexes",value:function(v,g){for(var y=[],p=-1;(p=v.indexOf(g,p+1))!==-1;)y.push(p);return y}},{key:"arrayAllMaxIndexes",value:function(v){return this.getAllIndexes(v,Math.max.apply(null,v))}}]),h})();a.exports=f}),(function(a,n,l){var s=function(){};s.FDLayout=l(18),s.FDLayoutConstants=l(7),s.FDLayoutEdge=l(19),s.FDLayoutNode=l(20),s.DimensionD=l(21),s.HashMap=l(22),s.HashSet=l(23),s.IGeometry=l(8),s.IMath=l(9),s.Integer=l(10),s.Point=l(12),s.PointD=l(4),s.RandomSeed=l(16),s.RectangleD=l(13),s.Transform=l(17),s.UniqueIDGeneretor=l(14),s.Quicksort=l(24),s.LinkedList=l(11),s.LGraphObject=l(2),s.LGraph=l(5),s.LEdge=l(1),s.LGraphManager=l(6),s.LNode=l(3),s.Layout=l(15),s.LayoutConstants=l(0),s.NeedlemanWunsch=l(25),a.exports=s}),(function(a,n,l){function s(){this.listeners=[]}var u=s.prototype;u.addListener=function(f,h){this.listeners.push({event:f,callback:h})},u.removeListener=function(f,h){for(var c=this.listeners.length;c>=0;c--){var v=this.listeners[c];v.event===f&&v.callback===h&&this.listeners.splice(c,1)}},u.emit=function(f,h){for(var c=0;c<this.listeners.length;c++){var v=this.listeners[c];f===v.event&&v.callback(h)}},a.exports=s})])})})(bf)),bf.exports}var CL=mf.exports,xE;function AL(){return xE||(xE=1,(function(t,e){(function(n,l){t.exports=l(SL())})(CL,function(a){return(function(n){var l={};function s(u){if(l[u])return l[u].exports;var f=l[u]={i:u,l:!1,exports:{}};return n[u].call(f.exports,f,f.exports,s),f.l=!0,f.exports}return s.m=n,s.c=l,s.i=function(u){return u},s.d=function(u,f,h){s.o(u,f)||Object.defineProperty(u,f,{configurable:!1,enumerable:!0,get:h})},s.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return s.d(f,"a",f),f},s.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},s.p="",s(s.s=7)})([(function(n,l){n.exports=a}),(function(n,l,s){var u=s(0).FDLayoutConstants;function f(){}for(var h in u)f[h]=u[h];f.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,f.DEFAULT_RADIAL_SEPARATION=u.DEFAULT_EDGE_LENGTH,f.DEFAULT_COMPONENT_SEPERATION=60,f.TILE=!0,f.TILING_PADDING_VERTICAL=10,f.TILING_PADDING_HORIZONTAL=10,f.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=f}),(function(n,l,s){var u=s(0).FDLayoutEdge;function f(c,v,g){u.call(this,c,v,g)}f.prototype=Object.create(u.prototype);for(var h in u)f[h]=u[h];n.exports=f}),(function(n,l,s){var u=s(0).LGraph;function f(c,v,g){u.call(this,c,v,g)}f.prototype=Object.create(u.prototype);for(var h in u)f[h]=u[h];n.exports=f}),(function(n,l,s){var u=s(0).LGraphManager;function f(c){u.call(this,c)}f.prototype=Object.create(u.prototype);for(var h in u)f[h]=u[h];n.exports=f}),(function(n,l,s){var u=s(0).FDLayoutNode,f=s(0).IMath;function h(v,g,y,p){u.call(this,v,g,y,p)}h.prototype=Object.create(u.prototype);for(var c in u)h[c]=u[c];h.prototype.move=function(){var v=this.graphManager.getLayout();this.displacementX=v.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=v.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>v.coolingFactor*v.maxNodeDisplacement&&(this.displacementX=v.coolingFactor*v.maxNodeDisplacement*f.sign(this.displacementX)),Math.abs(this.displacementY)>v.coolingFactor*v.maxNodeDisplacement&&(this.displacementY=v.coolingFactor*v.maxNodeDisplacement*f.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),v.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},h.prototype.propogateDisplacementToChildren=function(v,g){for(var y=this.getChild().getNodes(),p,m=0;m<y.length;m++)p=y[m],p.getChild()==null?(p.moveBy(v,g),p.displacementX+=v,p.displacementY+=g):p.propogateDisplacementToChildren(v,g)},h.prototype.setPred1=function(v){this.pred1=v},h.prototype.getPred1=function(){return pred1},h.prototype.getPred2=function(){return pred2},h.prototype.setNext=function(v){this.next=v},h.prototype.getNext=function(){return next},h.prototype.setProcessed=function(v){this.processed=v},h.prototype.isProcessed=function(){return processed},n.exports=h}),(function(n,l,s){var u=s(0).FDLayout,f=s(4),h=s(3),c=s(5),v=s(2),g=s(1),y=s(0).FDLayoutConstants,p=s(0).LayoutConstants,m=s(0).Point,E=s(0).PointD,x=s(0).Layout,T=s(0).Integer,C=s(0).IGeometry,S=s(0).LGraph,O=s(0).Transform;function L(){u.call(this),this.toBeTiled={}}L.prototype=Object.create(u.prototype);for(var _ in u)L[_]=u[_];L.prototype.newGraphManager=function(){var D=new f(this);return this.graphManager=D,D},L.prototype.newGraph=function(D){return new h(null,this.graphManager,D)},L.prototype.newNode=function(D){return new c(this.graphManager,D)},L.prototype.newEdge=function(D){return new v(null,null,D)},L.prototype.initParameters=function(){u.prototype.initParameters.call(this,arguments),this.isSubLayout||(g.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=y.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=y.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=y.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=y.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=y.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/y.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=y.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},L.prototype.layout=function(){var D=p.DEFAULT_CREATE_BENDS_AS_NEEDED;return D&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},L.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(g.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function(z){return A.has(z)});this.graphManager.setAllNodesToApplyGravitation(R)}}else{var D=this.getFlatForest();if(D.length>0)this.positionNodesRadially(D);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function(M){return A.has(M)});this.graphManager.setAllNodesToApplyGravitation(R),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},L.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%y.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var D=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(B){return D.has(B)});this.graphManager.setAllNodesToApplyGravitation(A),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var R=!this.isTreeGrowing&&!this.isGrowthFinished,M=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(R,M),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},L.prototype.getPositionsData=function(){for(var D=this.graphManager.getAllNodes(),A={},R=0;R<D.length;R++){var M=D[R].rect,B=D[R].id;A[B]={id:B,x:M.getCenterX(),y:M.getCenterY(),w:M.width,h:M.height}}return A},L.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var D=!1;if(y.ANIMATE==="during")this.emit("layoutstarted");else{for(;!D;)D=this.tick();this.graphManager.updateBounds()}},L.prototype.calculateNodesToApplyGravitationTo=function(){var D=[],A,R=this.graphManager.getGraphs(),M=R.length,B;for(B=0;B<M;B++)A=R[B],A.updateConnected(),A.isConnected||(D=D.concat(A.getNodes()));return D},L.prototype.createBendpoints=function(){var D=[];D=D.concat(this.graphManager.getAllEdges());var A=new Set,R;for(R=0;R<D.length;R++){var M=D[R];if(!A.has(M)){var B=M.getSource(),z=M.getTarget();if(B==z)M.getBendpoints().push(new E),M.getBendpoints().push(new E),this.createDummyNodesForBendpoints(M),A.add(M);else{var I=[];if(I=I.concat(B.getEdgeListToNode(z)),I=I.concat(z.getEdgeListToNode(B)),!A.has(I[0])){if(I.length>1){var P;for(P=0;P<I.length;P++){var Y=I[P];Y.getBendpoints().push(new E),this.createDummyNodesForBendpoints(Y)}}I.forEach(function(U){A.add(U)})}}}if(A.size==D.length)break}},L.prototype.positionNodesRadially=function(D){for(var A=new m(0,0),R=Math.ceil(Math.sqrt(D.length)),M=0,B=0,z=0,I=new E(0,0),P=0;P<D.length;P++){P%R==0&&(z=0,B=M,P!=0&&(B+=g.DEFAULT_COMPONENT_SEPERATION),M=0);var Y=D[P],U=x.findCenterOfTree(Y);A.x=z,A.y=B,I=L.radialLayout(Y,U,A),I.y>M&&(M=Math.floor(I.y)),z=Math.floor(I.x+g.DEFAULT_COMPONENT_SEPERATION)}this.transform(new E(p.WORLD_CENTER_X-I.x/2,p.WORLD_CENTER_Y-I.y/2))},L.radialLayout=function(D,A,R){var M=Math.max(this.maxDiagonalInTree(D),g.DEFAULT_RADIAL_SEPARATION);L.branchRadialLayout(A,null,0,359,0,M);var B=S.calculateBounds(D),z=new O;z.setDeviceOrgX(B.getMinX()),z.setDeviceOrgY(B.getMinY()),z.setWorldOrgX(R.x),z.setWorldOrgY(R.y);for(var I=0;I<D.length;I++){var P=D[I];P.transform(z)}var Y=new E(B.getMaxX(),B.getMaxY());return z.inverseTransformPoint(Y)},L.branchRadialLayout=function(D,A,R,M,B,z){var I=(M-R+1)/2;I<0&&(I+=180);var P=(I+R)%360,Y=P*C.TWO_PI/360,U=B*Math.cos(Y),G=B*Math.sin(Y);D.setCenter(U,G);var V=[];V=V.concat(D.getEdges());var X=V.length;A!=null&&X--;for(var K=0,k=V.length,q,j=D.getEdgesBetween(A);j.length>1;){var Q=j[0];j.splice(0,1);var J=V.indexOf(Q);J>=0&&V.splice(J,1),k--,X--}A!=null?q=(V.indexOf(j[0])+1)%k:q=0;for(var ne=Math.abs(M-R)/X,ue=q;K!=X;ue=++ue%k){var pe=V[ue].getOtherEnd(D);if(pe!=A){var ie=(R+K*ne)%360,ee=(ie+ne)%360;L.branchRadialLayout(pe,D,ie,ee,B+z,z),K++}}},L.maxDiagonalInTree=function(D){for(var A=T.MIN_VALUE,R=0;R<D.length;R++){var M=D[R],B=M.getDiagonal();B>A&&(A=B)}return A},L.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},L.prototype.groupZeroDegreeMembers=function(){var D=this,A={};this.memberGroups={},this.idToDummyNode={};for(var R=[],M=this.graphManager.getAllNodes(),B=0;B<M.length;B++){var z=M[B],I=z.getParent();this.getNodeDegreeWithChildren(z)===0&&(I.id==null||!this.getToBeTiled(I))&&R.push(z)}for(var B=0;B<R.length;B++){var z=R[B],P=z.getParent().id;typeof A[P]>"u"&&(A[P]=[]),A[P]=A[P].concat(z)}Object.keys(A).forEach(function(Y){if(A[Y].length>1){var U="DummyCompound_"+Y;D.memberGroups[U]=A[Y];var G=A[Y][0].getParent(),V=new c(D.graphManager);V.id=U,V.paddingLeft=G.paddingLeft||0,V.paddingRight=G.paddingRight||0,V.paddingBottom=G.paddingBottom||0,V.paddingTop=G.paddingTop||0,D.idToDummyNode[U]=V;var X=D.getGraphManager().add(D.newGraph(),V),K=G.getChild();K.add(V);for(var k=0;k<A[Y].length;k++){var q=A[Y][k];K.remove(q),X.add(q)}}})},L.prototype.clearCompounds=function(){var D={},A={};this.performDFSOnCompounds();for(var R=0;R<this.compoundOrder.length;R++)A[this.compoundOrder[R].id]=this.compoundOrder[R],D[this.compoundOrder[R].id]=[].concat(this.compoundOrder[R].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[R].getChild()),this.compoundOrder[R].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(D,A)},L.prototype.clearZeroDegreeMembers=function(){var D=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(R){var M=D.idToDummyNode[R];A[R]=D.tileNodes(D.memberGroups[R],M.paddingLeft+M.paddingRight),M.rect.width=A[R].width,M.rect.height=A[R].height})},L.prototype.repopulateCompounds=function(){for(var D=this.compoundOrder.length-1;D>=0;D--){var A=this.compoundOrder[D],R=A.id,M=A.paddingLeft,B=A.paddingTop;this.adjustLocations(this.tiledMemberPack[R],A.rect.x,A.rect.y,M,B)}},L.prototype.repopulateZeroDegreeMembers=function(){var D=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(R){var M=D.idToDummyNode[R],B=M.paddingLeft,z=M.paddingTop;D.adjustLocations(A[R],M.rect.x,M.rect.y,B,z)})},L.prototype.getToBeTiled=function(D){var A=D.id;if(this.toBeTiled[A]!=null)return this.toBeTiled[A];var R=D.getChild();if(R==null)return this.toBeTiled[A]=!1,!1;for(var M=R.getNodes(),B=0;B<M.length;B++){var z=M[B];if(this.getNodeDegree(z)>0)return this.toBeTiled[A]=!1,!1;if(z.getChild()==null){this.toBeTiled[z.id]=!1;continue}if(!this.getToBeTiled(z))return this.toBeTiled[A]=!1,!1}return this.toBeTiled[A]=!0,!0},L.prototype.getNodeDegree=function(D){D.id;for(var A=D.getEdges(),R=0,M=0;M<A.length;M++){var B=A[M];B.getSource().id!==B.getTarget().id&&(R=R+1)}return R},L.prototype.getNodeDegreeWithChildren=function(D){var A=this.getNodeDegree(D);if(D.getChild()==null)return A;for(var R=D.getChild().getNodes(),M=0;M<R.length;M++){var B=R[M];A+=this.getNodeDegreeWithChildren(B)}return A},L.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},L.prototype.fillCompexOrderByDFS=function(D){for(var A=0;A<D.length;A++){var R=D[A];R.getChild()!=null&&this.fillCompexOrderByDFS(R.getChild().getNodes()),this.getToBeTiled(R)&&this.compoundOrder.push(R)}},L.prototype.adjustLocations=function(D,A,R,M,B){A+=M,R+=B;for(var z=A,I=0;I<D.rows.length;I++){var P=D.rows[I];A=z;for(var Y=0,U=0;U<P.length;U++){var G=P[U];G.rect.x=A,G.rect.y=R,A+=G.rect.width+D.horizontalPadding,G.rect.height>Y&&(Y=G.rect.height)}R+=Y+D.verticalPadding}},L.prototype.tileCompoundMembers=function(D,A){var R=this;this.tiledMemberPack=[],Object.keys(D).forEach(function(M){var B=A[M];R.tiledMemberPack[M]=R.tileNodes(D[M],B.paddingLeft+B.paddingRight),B.rect.width=R.tiledMemberPack[M].width,B.rect.height=R.tiledMemberPack[M].height})},L.prototype.tileNodes=function(D,A){var R=g.TILING_PADDING_VERTICAL,M=g.TILING_PADDING_HORIZONTAL,B={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:R,horizontalPadding:M};D.sort(function(P,Y){return P.rect.width*P.rect.height>Y.rect.width*Y.rect.height?-1:P.rect.width*P.rect.height<Y.rect.width*Y.rect.height?1:0});for(var z=0;z<D.length;z++){var I=D[z];B.rows.length==0?this.insertNodeToRow(B,I,0,A):this.canAddHorizontal(B,I.rect.width,I.rect.height)?this.insertNodeToRow(B,I,this.getShortestRowIndex(B),A):this.insertNodeToRow(B,I,B.rows.length,A),this.shiftToLastRow(B)}return B},L.prototype.insertNodeToRow=function(D,A,R,M){var B=M;if(R==D.rows.length){var z=[];D.rows.push(z),D.rowWidth.push(B),D.rowHeight.push(0)}var I=D.rowWidth[R]+A.rect.width;D.rows[R].length>0&&(I+=D.horizontalPadding),D.rowWidth[R]=I,D.width<I&&(D.width=I);var P=A.rect.height;R>0&&(P+=D.verticalPadding);var Y=0;P>D.rowHeight[R]&&(Y=D.rowHeight[R],D.rowHeight[R]=P,Y=D.rowHeight[R]-Y),D.height+=Y,D.rows[R].push(A)},L.prototype.getShortestRowIndex=function(D){for(var A=-1,R=Number.MAX_VALUE,M=0;M<D.rows.length;M++)D.rowWidth[M]<R&&(A=M,R=D.rowWidth[M]);return A},L.prototype.getLongestRowIndex=function(D){for(var A=-1,R=Number.MIN_VALUE,M=0;M<D.rows.length;M++)D.rowWidth[M]>R&&(A=M,R=D.rowWidth[M]);return A},L.prototype.canAddHorizontal=function(D,A,R){var M=this.getShortestRowIndex(D);if(M<0)return!0;var B=D.rowWidth[M];if(B+D.horizontalPadding+A<=D.width)return!0;var z=0;D.rowHeight[M]<R&&M>0&&(z=R+D.verticalPadding-D.rowHeight[M]);var I;D.width-B>=A+D.horizontalPadding?I=(D.height+z)/(B+A+D.horizontalPadding):I=(D.height+z)/D.width,z=R+D.verticalPadding;var P;return D.width<A?P=(D.height+z)/A:P=(D.height+z)/D.width,P<1&&(P=1/P),I<1&&(I=1/I),I<P},L.prototype.shiftToLastRow=function(D){var A=this.getLongestRowIndex(D),R=D.rowWidth.length-1,M=D.rows[A],B=M[M.length-1],z=B.width+D.horizontalPadding;if(D.width-D.rowWidth[R]>z&&A!=R){M.splice(-1,1),D.rows[R].push(B),D.rowWidth[A]=D.rowWidth[A]-z,D.rowWidth[R]=D.rowWidth[R]+z,D.width=D.rowWidth[instance.getLongestRowIndex(D)];for(var I=Number.MIN_VALUE,P=0;P<M.length;P++)M[P].height>I&&(I=M[P].height);A>0&&(I+=D.verticalPadding);var Y=D.rowHeight[A]+D.rowHeight[R];D.rowHeight[A]=I,D.rowHeight[R]<B.height+D.verticalPadding&&(D.rowHeight[R]=B.height+D.verticalPadding);var U=D.rowHeight[A]+D.rowHeight[R];D.height+=U-Y,this.shiftToLastRow(D)}},L.prototype.tilingPreLayout=function(){g.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},L.prototype.tilingPostLayout=function(){g.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},L.prototype.reduceTrees=function(){for(var D=[],A=!0,R;A;){var M=this.graphManager.getAllNodes(),B=[];A=!1;for(var z=0;z<M.length;z++)R=M[z],R.getEdges().length==1&&!R.getEdges()[0].isInterGraph&&R.getChild()==null&&(B.push([R,R.getEdges()[0],R.getOwner()]),A=!0);if(A==!0){for(var I=[],P=0;P<B.length;P++)B[P][0].getEdges().length==1&&(I.push(B[P]),B[P][0].getOwner().remove(B[P][0]));D.push(I),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=D},L.prototype.growTree=function(D){for(var A=D.length,R=D[A-1],M,B=0;B<R.length;B++)M=R[B],this.findPlaceforPrunedNode(M),M[2].add(M[0]),M[2].add(M[1],M[1].source,M[1].target);D.splice(D.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},L.prototype.findPlaceforPrunedNode=function(D){var A,R,M=D[0];M==D[1].source?R=D[1].target:R=D[1].source;var B=R.startX,z=R.finishX,I=R.startY,P=R.finishY,Y=0,U=0,G=0,V=0,X=[Y,G,U,V];if(I>0)for(var K=B;K<=z;K++)X[0]+=this.grid[K][I-1].length+this.grid[K][I].length-1;if(z<this.grid.length-1)for(var K=I;K<=P;K++)X[1]+=this.grid[z+1][K].length+this.grid[z][K].length-1;if(P<this.grid[0].length-1)for(var K=B;K<=z;K++)X[2]+=this.grid[K][P+1].length+this.grid[K][P].length-1;if(B>0)for(var K=I;K<=P;K++)X[3]+=this.grid[B-1][K].length+this.grid[B][K].length-1;for(var k=T.MAX_VALUE,q,j,Q=0;Q<X.length;Q++)X[Q]<k?(k=X[Q],q=1,j=Q):X[Q]==k&&q++;if(q==3&&k==0)X[0]==0&&X[1]==0&&X[2]==0?A=1:X[0]==0&&X[1]==0&&X[3]==0?A=0:X[0]==0&&X[2]==0&&X[3]==0?A=3:X[1]==0&&X[2]==0&&X[3]==0&&(A=2);else if(q==2&&k==0){var J=Math.floor(Math.random()*2);X[0]==0&&X[1]==0?J==0?A=0:A=1:X[0]==0&&X[2]==0?J==0?A=0:A=2:X[0]==0&&X[3]==0?J==0?A=0:A=3:X[1]==0&&X[2]==0?J==0?A=1:A=2:X[1]==0&&X[3]==0?J==0?A=1:A=3:J==0?A=2:A=3}else if(q==4&&k==0){var J=Math.floor(Math.random()*4);A=J}else A=j;A==0?M.setCenter(R.getCenterX(),R.getCenterY()-R.getHeight()/2-y.DEFAULT_EDGE_LENGTH-M.getHeight()/2):A==1?M.setCenter(R.getCenterX()+R.getWidth()/2+y.DEFAULT_EDGE_LENGTH+M.getWidth()/2,R.getCenterY()):A==2?M.setCenter(R.getCenterX(),R.getCenterY()+R.getHeight()/2+y.DEFAULT_EDGE_LENGTH+M.getHeight()/2):M.setCenter(R.getCenterX()-R.getWidth()/2-y.DEFAULT_EDGE_LENGTH-M.getWidth()/2,R.getCenterY())},n.exports=L}),(function(n,l,s){var u={};u.layoutBase=s(0),u.CoSEConstants=s(1),u.CoSEEdge=s(2),u.CoSEGraph=s(3),u.CoSEGraphManager=s(4),u.CoSELayout=s(6),u.CoSENode=s(5),n.exports=u})])})})(mf)),mf.exports}var DL=yf.exports,TE;function RL(){return TE||(TE=1,(function(t,e){(function(n,l){t.exports=l(AL())})(DL,function(a){return(function(n){var l={};function s(u){if(l[u])return l[u].exports;var f=l[u]={i:u,l:!1,exports:{}};return n[u].call(f.exports,f,f.exports,s),f.l=!0,f.exports}return s.m=n,s.c=l,s.i=function(u){return u},s.d=function(u,f,h){s.o(u,f)||Object.defineProperty(u,f,{configurable:!1,enumerable:!0,get:h})},s.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return s.d(f,"a",f),f},s.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},s.p="",s(s.s=1)})([(function(n,l){n.exports=a}),(function(n,l,s){var u=s(0).layoutBase.LayoutConstants,f=s(0).layoutBase.FDLayoutConstants,h=s(0).CoSEConstants,c=s(0).CoSELayout,v=s(0).CoSENode,g=s(0).layoutBase.PointD,y=s(0).layoutBase.DimensionD,p={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(C,S){var O={};for(var L in C)O[L]=C[L];for(var L in S)O[L]=S[L];return O}function E(C){this.options=m(p,C),x(this.options)}var x=function(S){S.nodeRepulsion!=null&&(h.DEFAULT_REPULSION_STRENGTH=f.DEFAULT_REPULSION_STRENGTH=S.nodeRepulsion),S.idealEdgeLength!=null&&(h.DEFAULT_EDGE_LENGTH=f.DEFAULT_EDGE_LENGTH=S.idealEdgeLength),S.edgeElasticity!=null&&(h.DEFAULT_SPRING_STRENGTH=f.DEFAULT_SPRING_STRENGTH=S.edgeElasticity),S.nestingFactor!=null&&(h.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=f.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=S.nestingFactor),S.gravity!=null&&(h.DEFAULT_GRAVITY_STRENGTH=f.DEFAULT_GRAVITY_STRENGTH=S.gravity),S.numIter!=null&&(h.MAX_ITERATIONS=f.MAX_ITERATIONS=S.numIter),S.gravityRange!=null&&(h.DEFAULT_GRAVITY_RANGE_FACTOR=f.DEFAULT_GRAVITY_RANGE_FACTOR=S.gravityRange),S.gravityCompound!=null&&(h.DEFAULT_COMPOUND_GRAVITY_STRENGTH=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH=S.gravityCompound),S.gravityRangeCompound!=null&&(h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=S.gravityRangeCompound),S.initialEnergyOnIncremental!=null&&(h.DEFAULT_COOLING_FACTOR_INCREMENTAL=f.DEFAULT_COOLING_FACTOR_INCREMENTAL=S.initialEnergyOnIncremental),S.quality=="draft"?u.QUALITY=0:S.quality=="proof"?u.QUALITY=2:u.QUALITY=1,h.NODE_DIMENSIONS_INCLUDE_LABELS=f.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=S.nodeDimensionsIncludeLabels,h.DEFAULT_INCREMENTAL=f.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=!S.randomize,h.ANIMATE=f.ANIMATE=u.ANIMATE=S.animate,h.TILE=S.tile,h.TILING_PADDING_VERTICAL=typeof S.tilingPaddingVertical=="function"?S.tilingPaddingVertical.call():S.tilingPaddingVertical,h.TILING_PADDING_HORIZONTAL=typeof S.tilingPaddingHorizontal=="function"?S.tilingPaddingHorizontal.call():S.tilingPaddingHorizontal};E.prototype.run=function(){var C,S,O=this.options;this.idToLNode={};var L=this.layout=new c,_=this;_.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var D=L.newGraphManager();this.gm=D;var A=this.options.eles.nodes(),R=this.options.eles.edges();this.root=D.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(A),L);for(var M=0;M<R.length;M++){var B=R[M],z=this.idToLNode[B.data("source")],I=this.idToLNode[B.data("target")];if(z!==I&&z.getEdgesBetween(I).length==0){var P=D.add(L.newEdge(),z,I);P.id=B.id()}}var Y=function(V,X){typeof V=="number"&&(V=X);var K=V.data("id"),k=_.idToLNode[K];return{x:k.getRect().getCenterX(),y:k.getRect().getCenterY()}},U=function G(){for(var V=function(){O.fit&&O.cy.fit(O.eles,O.padding),C||(C=!0,_.cy.one("layoutready",O.ready),_.cy.trigger({type:"layoutready",layout:_}))},X=_.options.refresh,K,k=0;k<X&&!K;k++)K=_.stopped||_.layout.tick();if(K){L.checkLayoutSuccess()&&!L.isSubLayout&&L.doPostLayout(),L.tilingPostLayout&&L.tilingPostLayout(),L.isLayoutFinished=!0,_.options.eles.nodes().positions(Y),V(),_.cy.one("layoutstop",_.options.stop),_.cy.trigger({type:"layoutstop",layout:_}),S&&cancelAnimationFrame(S),C=!1;return}var q=_.layout.getPositionsData();O.eles.nodes().positions(function(j,Q){if(typeof j=="number"&&(j=Q),!j.isParent()){for(var J=j.id(),ne=q[J],ue=j;ne==null&&(ne=q[ue.data("parent")]||q["DummyCompound_"+ue.data("parent")],q[J]=ne,ue=ue.parent()[0],ue!=null););return ne!=null?{x:ne.x,y:ne.y}:{x:j.position("x"),y:j.position("y")}}}),V(),S=requestAnimationFrame(G)};return L.addListener("layoutstarted",function(){_.options.animate==="during"&&(S=requestAnimationFrame(U))}),L.runLayout(),this.options.animate!=="during"&&(_.options.eles.nodes().not(":parent").layoutPositions(_,_.options,Y),C=!1),this},E.prototype.getTopMostNodes=function(C){for(var S={},O=0;O<C.length;O++)S[C[O].id()]=!0;var L=C.filter(function(_,D){typeof _=="number"&&(_=D);for(var A=_.parent()[0];A!=null;){if(S[A.id()])return!1;A=A.parent()[0]}return!0});return L},E.prototype.processChildrenList=function(C,S,O){for(var L=S.length,_=0;_<L;_++){var D=S[_],A=D.children(),R,M=D.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(D.outerWidth()!=null&&D.outerHeight()!=null?R=C.add(new v(O.graphManager,new g(D.position("x")-M.w/2,D.position("y")-M.h/2),new y(parseFloat(M.w),parseFloat(M.h)))):R=C.add(new v(this.graphManager)),R.id=D.data("id"),R.paddingLeft=parseInt(D.css("padding")),R.paddingTop=parseInt(D.css("padding")),R.paddingRight=parseInt(D.css("padding")),R.paddingBottom=parseInt(D.css("padding")),this.options.nodeDimensionsIncludeLabels&&D.isParent()){var B=D.boundingBox({includeLabels:!0,includeNodes:!1}).w,z=D.boundingBox({includeLabels:!0,includeNodes:!1}).h,I=D.css("text-halign");R.labelWidth=B,R.labelHeight=z,R.labelPos=I}if(this.idToLNode[D.data("id")]=R,isNaN(R.rect.x)&&(R.rect.x=0),isNaN(R.rect.y)&&(R.rect.y=0),A!=null&&A.length>0){var P;P=O.getGraphManager().add(O.newGraph(),R),this.processChildrenList(P,A,O)}}},E.prototype.stop=function(){return this.stopped=!0,this};var T=function(S){S("layout","cose-bilkent",E)};typeof cytoscape<"u"&&T(cytoscape),n.exports=T})])})})(yf)),yf.exports}var OL=RL();const ML=_f(OL);let wE=!1;function LL(){wE||(ti.use(ML),wE=!0)}LL();function NL(t,e){const a=t.getElementById(e);if(!a.length)return;const n=a.neighborhood().add(a);t.elements().not(n).addClass("dimmed"),n.addClass("highlighted")}function BL(t){t.elements().removeClass("dimmed highlighted")}function _L(){const t=vt.useRef(null),e=vt.useRef(""),a=Ma(E=>E.entities),n=Ma(E=>E.relationships),l=ka(E=>E.enabledEntityTypes),s=ka(E=>E.selectedPersonIds),u=ka(E=>E.showRelatedOnly),f=sn(E=>E.layout),h=sn(E=>E.setSelectedNodeId),c=sn(E=>E.selectedNodeId),v=vt.useMemo(()=>EL(a,n,{enabledEntityTypes:l,selectedPersonIds:s,showRelatedOnly:u}),[a,n,l,s,u]),g=vt.useMemo(()=>xL(),[]),y=vt.useMemo(()=>[...v.nodes,...v.edges],[v]),p=vt.useMemo(()=>TL(f,v.nodes.length),[f,v.nodes.length]),m=vt.useCallback(E=>{t.current=E,E.on("tap","node",x=>{const T=x.target.id();h(T)}),E.on("tap",x=>{x.target===E&&h(null)}),E.on("mouseover","node",x=>{x.target.addClass("hover"),NL(E,x.target.id())}),E.on("mouseout","node",x=>{x.target.removeClass("hover"),BL(E)})},[h]);return vt.useEffect(()=>{const E=t.current;if(!E||y.length===0)return;const x=`${f}-${y.length}`;if(e.current===x)return;e.current=x;const T=setTimeout(()=>{E.batch(()=>{}),E.layout(p).run()},100);return()=>clearTimeout(T)},[y.length,f,p]),vt.useEffect(()=>{const E=t.current;if(E&&(E.nodes().removeClass("highlighted"),E.edges().removeClass("highlighted"),c)){const x=E.getElementById(c);x.length&&(x.addClass("highlighted"),x.connectedEdges().addClass("highlighted"),x.neighborhood("node").addClass("highlighted"))}},[c]),y.length===0?ge.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:ge.jsx("p",{children:"No data to display. Load a folder or adjust filters."})}):ge.jsx(bL,{elements:y,stylesheet:g,layout:p,cy:m,className:"flex-1",style:{width:"100%",height:"100%"},minZoom:.1,maxZoom:4,wheelSensitivity:.3})}function zL(){const t=Ma(S=>S.entities),e=Ma(S=>S.users),a=ka(S=>S.enabledEntityTypes),n=ka(S=>S.toggleEntityType),l=ka(S=>S.setAllEntityTypes),s=ka(S=>S.selectedPersonIds),u=ka(S=>S.togglePerson),f=ka(S=>S.clearPersons),h=ka(S=>S.showRelatedOnly),c=ka(S=>S.setShowRelatedOnly),v=ka(S=>S.resetFilters),[g,y]=vt.useState(""),[p,m]=vt.useState(!1),E=vt.useMemo(()=>AT(t),[t]),x=vt.useMemo(()=>{const S=[];for(const[O]of E)S.push(O);return S.sort((O,L)=>(E.get(L)||0)-(E.get(O)||0))},[E]),T=vt.useMemo(()=>{const S=g.toLowerCase();return e.filter(O=>O.name.toLowerCase().includes(S)||O.email.toLowerCase().includes(S))},[e,g]),C=x.every(S=>a.has(S));return ge.jsxs("div",{className:"w-56 shrink-0 bg-white border-r border-gray-200 flex flex-col h-full overflow-hidden",children:[ge.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center gap-2",children:[ge.jsx(a2,{size:14,className:"text-gray-500"}),ge.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Filters"}),ge.jsx("button",{onClick:v,className:"ml-auto p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-gray-600",title:"Reset filters",children:ge.jsx(s2,{size:12})})]}),ge.jsxs("div",{className:"flex-1 overflow-y-auto",children:[ge.jsxs("div",{className:"p-3 border-b border-gray-100",children:[ge.jsxs("div",{className:"flex items-center justify-between mb-2",children:[ge.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Types"}),ge.jsx("button",{onClick:()=>{C?ka.getState().clearEntityTypes():l(x)},className:"text-[10px] text-blue-500 hover:text-blue-700",children:C?"None":"All"})]}),ge.jsx("div",{className:"space-y-1",children:x.map(S=>{const O=Ui[S]||Ui.unknown,L=E.get(S)||0,_=a.has(S);return ge.jsxs("label",{className:"flex items-center gap-2 py-0.5 cursor-pointer hover:bg-gray-50 rounded px-1 -mx-1",children:[ge.jsx("input",{type:"checkbox",checked:_,onChange:()=>n(S),className:"w-3 h-3 rounded border-gray-300"}),ge.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:O.dot}}),ge.jsx("span",{className:`text-xs flex-1 ${_?"text-gray-700":"text-gray-400"}`,children:O.label}),ge.jsx("span",{className:"text-[10px] text-gray-400 tabular-nums",children:L})]},S)})})]}),ge.jsxs("div",{className:"p-3 border-b border-gray-100",children:[ge.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[ge.jsx("input",{type:"checkbox",checked:h,onChange:S=>c(S.target.checked),className:"w-3 h-3 rounded border-gray-300"}),ge.jsx("span",{className:"text-xs text-gray-700",children:"Show related only"})]}),ge.jsx("p",{className:"text-[10px] text-gray-400 mt-1 ml-5",children:"Hide orphan nodes"})]}),ge.jsxs("div",{className:"p-3",children:[ge.jsxs("button",{onClick:()=>m(!p),className:"flex items-center gap-2 w-full mb-2",children:[ge.jsx(c2,{size:12,className:"text-gray-500"}),ge.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"People"}),s.size>0&&ge.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 rounded-full",children:s.size}),ge.jsx("span",{className:"ml-auto",children:p?ge.jsx(QS,{size:12,className:"text-gray-400"}):ge.jsx($S,{size:12,className:"text-gray-400"})})]}),p&&ge.jsxs(ge.Fragment,{children:[s.size>0&&ge.jsx("button",{onClick:f,className:"text-[10px] text-blue-500 hover:text-blue-700 mb-2",children:"Clear selection"}),ge.jsxs("div",{className:"relative mb-2",children:[ge.jsx(o2,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400"}),ge.jsx("input",{type:"text",placeholder:"Search people...",value:g,onChange:S=>y(S.target.value),className:"w-full pl-7 pr-2 py-1 text-xs border border-gray-200 rounded focus:outline-none focus:border-blue-400"})]}),ge.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-0.5",children:[T.map(S=>ge.jsxs("label",{className:"flex items-center gap-2 py-0.5 cursor-pointer hover:bg-gray-50 rounded px-1 -mx-1",children:[ge.jsx("input",{type:"checkbox",checked:s.has(S.autodesk_id),onChange:()=>u(S.autodesk_id),className:"w-3 h-3 rounded border-gray-300"}),ge.jsxs("div",{className:"min-w-0",children:[ge.jsx("p",{className:"text-xs text-gray-700 truncate",children:BE(S.autodesk_id)}),ge.jsx("p",{className:"text-[10px] text-gray-400 truncate",children:S.email})]})]},S.autodesk_id)),T.length===0&&ge.jsx("p",{className:"text-[10px] text-gray-400 italic py-2",children:"No matching users"})]})]})]})]})]})}function kL(t,e,a){return!t||t===""?"":a?BE(t):e.startsWith("timestamp")?IL(t):e==="boolean"?t==="t"||t==="true"||t==="1"?"Yes":"No":t}function IL(t){try{const e=new Date(t);return isNaN(e.getTime())?t:e.toLocaleDateString("en-AU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return t}}function UL(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)}function GL({fieldName:t,value:e,schema:a,isPersonField:n}){const[l,s]=vt.useState(!1),u=a?.data_type??"string",f=kL(e,u,n),h=f.length>120,c=h&&!l?f.slice(0,120)+"...":f,v=!e||e==="";return ge.jsxs("div",{className:"py-1.5 border-b border-gray-100 last:border-0",children:[ge.jsxs("div",{className:"flex items-start gap-2",children:[ge.jsx("span",{className:"text-xs text-gray-500 min-w-[140px] shrink-0 pt-0.5",children:t}),ge.jsxs("span",{className:`text-sm break-all ${v?"text-gray-300 italic":UL(e)?"font-mono text-xs text-gray-600":u==="boolean"?"":"text-gray-800"}`,children:[u==="boolean"&&!v?ge.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full ${f==="Yes"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:f}):c,h&&ge.jsx("button",{onClick:()=>s(!l),className:"ml-1 text-xs text-blue-500 hover:text-blue-700",children:l?"Less":"More"})]})]}),a?.notes&&ge.jsx("p",{className:"text-[10px] text-gray-400 ml-[148px] mt-0.5",children:a.notes})]})}function PL(){const t=sn(p=>p.selectedNodeId),e=sn(p=>p.setSelectedNodeId),a=Ma(p=>p.entities),n=Ma(p=>p.relationships),l=t?a.get(t):null,s=vt.useMemo(()=>{if(!t||!l)return[];const p=[];for(const m of n){const E=`${m.item1Domain}:${m.item1EntityType}:${m.item1Id}`,x=`${m.item2Domain}:${m.item2EntityType}:${m.item2Id}`;if(E===t){const T=a.get(x);T&&p.push(T)}else if(x===t){const T=a.get(E);T&&p.push(T)}}return p},[t,l,n,a]);if(!l)return null;const u=bE(l.entityType),h=pg(l.domain,l.entityType)?.csvFile||"",c=h?O2(h):void 0,v=c?R2(c):[],g=new Set(l.personFields),y=v.length>0?v.filter(p=>l.fields[p.name]!==void 0).map(p=>({name:p.name,value:l.fields[p.name]||"",schema:p.schema,isPerson:g.has(p.name)})):Object.entries(l.fields).map(([p,m])=>({name:p,value:m,schema:void 0,isPerson:g.has(p)}));return ge.jsxs("div",{className:"w-80 shrink-0 bg-white border-l border-gray-200 flex flex-col h-full overflow-hidden shadow-lg",children:[ge.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-start gap-3",children:[ge.jsxs("div",{className:"flex-1 min-w-0",children:[ge.jsx("div",{className:"flex items-center gap-2 mb-1",children:ge.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full",style:{backgroundColor:u.bg,color:u.text,border:`1px solid ${u.border}`},children:u.label})}),ge.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",title:l.displayName,children:l.displayName})]}),ge.jsx("button",{onClick:()=>e(null),className:"p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-gray-600",children:ge.jsx(v2,{size:16})})]}),ge.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l.isOpaque?ge.jsxs("div",{className:"text-center py-8",children:[ge.jsx("p",{className:"text-gray-400 text-sm",children:"No data available"}),ge.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"This entity type has no corresponding CSV data"})]}):ge.jsx(ge.Fragment,{children:ge.jsxs("div",{className:"mb-4",children:[ge.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Fields"}),y.map(p=>ge.jsx(GL,{fieldName:p.name,value:p.value,schema:p.schema,isPersonField:p.isPerson},p.name)),y.length===0&&ge.jsx("p",{className:"text-gray-400 text-sm italic",children:"No fields available"})]})}),s.length>0&&ge.jsxs("div",{children:[ge.jsxs("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:["Related Items (",s.length,")"]}),ge.jsx("div",{className:"space-y-1",children:s.map(p=>{const m=bE(p.entityType);return ge.jsxs("button",{onClick:()=>e(p.id),className:"w-full text-left p-2 rounded hover:bg-gray-50 flex items-center gap-2 group",children:[ge.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:m.dot}}),ge.jsx("span",{className:"text-xs text-gray-600 group-hover:text-gray-900 truncate",children:p.displayName}),ge.jsx("span",{className:"text-[10px] text-gray-400 shrink-0",children:m.label})]},p.id)})})]})]})]})}function FL(){const t=Ma(s=>s.entities),e=ka(s=>s.enabledEntityTypes),a=ka(s=>s.toggleEntityType),n=vt.useMemo(()=>AT(t),[t]),l=vt.useMemo(()=>{const s=[];for(const[u]of n)s.push(u);return s.sort((u,f)=>(n.get(f)||0)-(n.get(u)||0))},[n]);return l.length===0?null:ge.jsx("div",{className:"h-10 bg-white border-t border-gray-200 flex items-center gap-4 px-4 overflow-x-auto",children:l.map(s=>{const u=Ui[s]||Ui.unknown,f=n.get(s)||0,h=e.has(s);return ge.jsxs("button",{onClick:()=>a(s),className:`flex items-center gap-1.5 shrink-0 transition-opacity ${h?"opacity-100":"opacity-40"}`,children:[ge.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:u.dot}}),ge.jsx("span",{className:"text-xs text-gray-600",children:u.label}),ge.jsx("span",{className:"text-[10px] text-gray-400",children:f})]},s)})})}const qL=[{value:"cose-bilkent",label:"Force Directed"},{value:"circle",label:"Circle"},{value:"grid",label:"Grid"},{value:"concentric",label:"Concentric"},{value:"breadthfirst",label:"Hierarchy"}];function HL(){const t=Ma(T=>T.isLoading),e=Ma(T=>T.isLoaded),a=Ma(T=>T.loadProgress),n=Ma(T=>T.error),l=Ma(T=>T.entities),s=Ma(T=>T.relationships),u=sn(T=>T.selectedNodeId),f=sn(T=>T.setSelectedNodeId),h=sn(T=>T.layout),c=sn(T=>T.setLayout),v=vt.useRef(null),g=vt.useCallback(async T=>{const C=Ma.getState();C.setLoading(!0),C.setError(null);try{const S=await T.loadAll(O=>{C.setLoadProgress(O)});C2(S.users),D2(S.schemas),C.setEntities(S.entities),C.setRelationships(S.relationships),C.setSchemas(S.schemas),C.setUsers(S.users),C.setLoaded(!0)}catch(S){C.setError(S instanceof Error?S.message:"Failed to load data")}finally{C.setLoading(!1),C.setLoadProgress(null)}},[]);vt.useCallback(async()=>{const T=new S2;await g(T)},[g]);const y=vt.useCallback(async()=>{try{const T=await Ni.fromDirectoryPicker();await g(T)}catch(T){if(T instanceof Error&&T.name==="AbortError")return;Ma.getState().setError(T instanceof Error?T.message:"Failed to open folder")}},[g]),p=vt.useCallback(async T=>{const C=T.target.files;if(!C||C.length===0)return;const S=Ni.fromFileList(C);await g(S)},[g]),m=vt.useCallback(async T=>{T.preventDefault();const C=T.dataTransfer.items;if(!C)return;const S=new Map,O=[];for(const L of Array.from(C)){const _=L.webkitGetAsEntry?.();_&&O.push(_)}if(await DT(O,S),S.size>0){const L=Ni.fromDroppedItems(S);await g(L)}},[g]),E=vt.useCallback(T=>{T.preventDefault()},[]),x=vt.useCallback(T=>{T.key==="Escape"&&u&&f(null)},[u,f]);return ge.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",onKeyDown:x,tabIndex:0,onDrop:m,onDragOver:E,children:[ge.jsxs("header",{className:"h-12 bg-white border-b border-gray-200 flex items-center px-4 gap-4 shrink-0",children:[ge.jsxs("div",{className:"flex items-center gap-2",children:[ge.jsx(CE,{size:18,className:"text-blue-600"}),ge.jsx("h1",{className:"text-sm font-bold text-gray-800",children:"ACC Graph"})]}),ge.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[ge.jsxs("button",{onClick:y,disabled:t,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:[ge.jsx(e2,{size:14}),"Select Folder"]}),ge.jsx("input",{ref:v,type:"file",webkitdirectory:"",directory:"",multiple:!0,onChange:p,className:"hidden"}),ge.jsx("button",{onClick:()=>v.current?.click(),disabled:t,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"or browse"}),!1]}),e&&ge.jsxs("div",{className:"flex items-center gap-3 ml-4 text-xs text-gray-500",children:[ge.jsxs("span",{children:[l.size," nodes"]}),ge.jsxs("span",{children:[s.length," edges"]})]}),ge.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[ge.jsx("label",{className:"text-xs text-gray-500",children:"Layout:"}),ge.jsx("select",{value:h,onChange:T=>c(T.target.value),className:"text-xs border border-gray-200 rounded px-2 py-1 bg-white",children:qL.map(T=>ge.jsx("option",{value:T.value,children:T.label},T.value))})]})]}),ge.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e&&ge.jsx(zL,{}),ge.jsxs("main",{className:"flex-1 flex relative",children:[!e&&!t&&!n&&ge.jsx(VL,{}),t&&ge.jsx(YL,{progress:a}),n&&ge.jsx(XL,{error:n}),e&&!t&&ge.jsx(_L,{})]}),e&&u&&ge.jsx(PL,{})]}),e&&ge.jsx(FL,{})]})}function VL(){return ge.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 gap-4",children:[ge.jsx(CE,{size:48,className:"text-gray-300"}),ge.jsxs("div",{className:"text-center",children:[ge.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Welcome to ACC Graph"}),ge.jsxs("p",{className:"text-sm mt-1",children:["Select your ",ge.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"autodesk_data_extract"})," folder to begin"]}),ge.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"You can also drag and drop the folder here"})]})]})}function YL({progress:t}){return ge.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-3",children:[ge.jsx(n2,{size:32,className:"text-blue-500 animate-spin"}),ge.jsx("p",{className:"text-sm text-gray-600",children:"Loading data..."}),t&&ge.jsxs("div",{className:"w-64",children:[ge.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[ge.jsx("span",{children:t.currentFile}),ge.jsxs("span",{children:[t.current,"/",t.total]})]}),ge.jsx("div",{className:"h-1.5 bg-gray-200 rounded-full overflow-hidden",children:ge.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${t.current/t.total*100}%`}})})]})]})}function XL({error:t}){return ge.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-3",children:[ge.jsxs("p",{className:"text-sm text-red-500",children:["Error: ",t]}),ge.jsx("button",{onClick:()=>Ma.getState().setError(null),className:"text-xs text-blue-500 hover:text-blue-700",children:"Dismiss"})]})}async function DT(t,e){for(const a of t)if(a.isFile&&a.file){const n=await new Promise(l=>a.file(l));e.set(n.name,n)}else if(a.isDirectory&&a.createReader){const n=a.createReader(),l=await new Promise(s=>n.readEntries(s));await DT(l,e)}}HS.createRoot(document.getElementById("root")).render(ge.jsx(vt.StrictMode,{children:ge.jsx(HL,{})}));
